import{r as y,a as nc,R as Ie,u as Ve,L as _,b as ic,g as oc,c as Ws,B as lc,d as cc,e as se,N as $r}from"./react-vendor-185080d9.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var Ti={exports:{}},Gs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=y,mc=Symbol.for("react.element"),pc=Symbol.for("react.fragment"),uc=Object.prototype.hasOwnProperty,xc=dc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hc={key:!0,ref:!0,__self:!0,__source:!0};function Di(t,s,a){var r,n={},o=null,i=null;a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(i=s.ref);for(r in s)uc.call(s,r)&&!hc.hasOwnProperty(r)&&(n[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:mc,type:t,key:o,ref:i,props:n,_owner:xc.current}}Gs.Fragment=pc;Gs.jsx=Di;Gs.jsxs=Di;Ti.exports=Gs;var e=Ti.exports,Va={},Ur=nc;Va.createRoot=Ur.createRoot,Va.hydrateRoot=Ur.hydrateRoot;function Ri(t,s){return function(){return t.apply(s,arguments)}}const{toString:fc}=Object.prototype,{getPrototypeOf:cr}=Object,{iterator:Ks,toStringTag:Ei}=Symbol,Ys=(t=>s=>{const a=fc.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Ue=t=>(t=t.toLowerCase(),s=>Ys(s)===t),Qs=t=>s=>typeof s===t,{isArray:Vt}=Array,Ot=Qs("undefined");function ps(t){return t!==null&&!Ot(t)&&t.constructor!==null&&!Ot(t.constructor)&&Ae(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Oi=Ue("ArrayBuffer");function gc(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Oi(t.buffer),s}const yc=Qs("string"),Ae=Qs("function"),Fi=Qs("number"),us=t=>t!==null&&typeof t=="object",vc=t=>t===!0||t===!1,Ss=t=>{if(Ys(t)!=="object")return!1;const s=cr(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Ei in t)&&!(Ks in t)},bc=t=>{if(!us(t)||ps(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},jc=Ue("Date"),Nc=Ue("File"),wc=Ue("Blob"),Cc=Ue("FileList"),kc=t=>us(t)&&Ae(t.pipe),Sc=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Ae(t.append)&&((s=Ys(t))==="formdata"||s==="object"&&Ae(t.toString)&&t.toString()==="[object FormData]"))},Pc=Ue("URLSearchParams"),[Ac,Tc,Dc,Rc]=["ReadableStream","Request","Response","Headers"].map(Ue),Ec=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xs(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),Vt(t))for(r=0,n=t.length;r<n;r++)s.call(null,t[r],r,t);else{if(ps(t))return;const o=a?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let c;for(r=0;r<i;r++)c=o[r],s.call(null,t[c],c,t)}}function Mi(t,s){if(ps(t))return null;s=s.toLowerCase();const a=Object.keys(t);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const gt=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Li=t=>!Ot(t)&&t!==gt;function za(){const{caseless:t,skipUndefined:s}=Li(this)&&this||{},a={},r=(n,o)=>{const i=t&&Mi(a,o)||o;Ss(a[i])&&Ss(n)?a[i]=za(a[i],n):Ss(n)?a[i]=za({},n):Vt(n)?a[i]=n.slice():(!s||!Ot(n))&&(a[i]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&xs(arguments[n],r);return a}const Oc=(t,s,a,{allOwnKeys:r}={})=>(xs(s,(n,o)=>{a&&Ae(n)?t[o]=Ri(n,a):t[o]=n},{allOwnKeys:r}),t),Fc=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Mc=(t,s,a,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},Lc=(t,s,a,r)=>{let n,o,i;const c={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)i=n[o],(!r||r(i,t,s))&&!c[i]&&(s[i]=t[i],c[i]=!0);t=a!==!1&&cr(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},Ic=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const r=t.indexOf(s,a);return r!==-1&&r===a},Vc=t=>{if(!t)return null;if(Vt(t))return t;let s=t.length;if(!Fi(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},zc=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&cr(Uint8Array)),Bc=(t,s)=>{const r=(t&&t[Ks]).call(t);let n;for(;(n=r.next())&&!n.done;){const o=n.value;s.call(t,o[0],o[1])}},_c=(t,s)=>{let a;const r=[];for(;(a=t.exec(s))!==null;)r.push(a);return r},$c=Ue("HTMLFormElement"),Uc=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),qr=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),qc=Ue("RegExp"),Ii=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),r={};xs(a,(n,o)=>{let i;(i=s(n,o,t))!==!1&&(r[o]=i||n)}),Object.defineProperties(t,r)},Hc=t=>{Ii(t,(s,a)=>{if(Ae(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(Ae(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Wc=(t,s)=>{const a={},r=n=>{n.forEach(o=>{a[o]=!0})};return Vt(t)?r(t):r(String(t).split(s)),a},Gc=()=>{},Kc=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Yc(t){return!!(t&&Ae(t.append)&&t[Ei]==="FormData"&&t[Ks])}const Qc=t=>{const s=new Array(10),a=(r,n)=>{if(us(r)){if(s.indexOf(r)>=0)return;if(ps(r))return r;if(!("toJSON"in r)){s[n]=r;const o=Vt(r)?[]:{};return xs(r,(i,c)=>{const m=a(i,n+1);!Ot(m)&&(o[c]=m)}),s[n]=void 0,o}}return r};return a(t,0)},Jc=Ue("AsyncFunction"),Xc=t=>t&&(us(t)||Ae(t))&&Ae(t.then)&&Ae(t.catch),Vi=((t,s)=>t?setImmediate:s?((a,r)=>(gt.addEventListener("message",({source:n,data:o})=>{n===gt&&o===a&&r.length&&r.shift()()},!1),n=>{r.push(n),gt.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Ae(gt.postMessage)),Zc=typeof queueMicrotask<"u"?queueMicrotask.bind(gt):typeof process<"u"&&process.nextTick||Vi,ed=t=>t!=null&&Ae(t[Ks]),P={isArray:Vt,isArrayBuffer:Oi,isBuffer:ps,isFormData:Sc,isArrayBufferView:gc,isString:yc,isNumber:Fi,isBoolean:vc,isObject:us,isPlainObject:Ss,isEmptyObject:bc,isReadableStream:Ac,isRequest:Tc,isResponse:Dc,isHeaders:Rc,isUndefined:Ot,isDate:jc,isFile:Nc,isBlob:wc,isRegExp:qc,isFunction:Ae,isStream:kc,isURLSearchParams:Pc,isTypedArray:zc,isFileList:Cc,forEach:xs,merge:za,extend:Oc,trim:Ec,stripBOM:Fc,inherits:Mc,toFlatObject:Lc,kindOf:Ys,kindOfTest:Ue,endsWith:Ic,toArray:Vc,forEachEntry:Bc,matchAll:_c,isHTMLForm:$c,hasOwnProperty:qr,hasOwnProp:qr,reduceDescriptors:Ii,freezeMethods:Hc,toObjectSet:Wc,toCamelCase:Uc,noop:Gc,toFiniteNumber:Kc,findKey:Mi,global:gt,isContextDefined:Li,isSpecCompliantForm:Yc,toJSONObject:Qc,isAsyncFn:Jc,isThenable:Xc,setImmediate:Vi,asap:Zc,isIterable:ed};function te(t,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}P.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const zi=te.prototype,Bi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Bi[t]={value:t}});Object.defineProperties(te,Bi);Object.defineProperty(zi,"isAxiosError",{value:!0});te.from=(t,s,a,r,n,o)=>{const i=Object.create(zi);P.toFlatObject(t,i,function(d){return d!==Error.prototype},l=>l!=="isAxiosError");const c=t&&t.message?t.message:"Error",m=s==null&&t?t.code:s;return te.call(i,c,m,a,r,n),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const td=null;function Ba(t){return P.isPlainObject(t)||P.isArray(t)}function _i(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function Hr(t,s,a){return t?t.concat(s).map(function(n,o){return n=_i(n),!a&&o?"["+n+"]":n}).join(a?".":""):s}function sd(t){return P.isArray(t)&&!t.some(Ba)}const ad=P.toFlatObject(P,{},null,function(s){return/^is[A-Z]/.test(s)});function Js(t,s,a){if(!P.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=P.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,g){return!P.isUndefined(g[f])});const r=a.metaTokens,n=a.visitor||d,o=a.dots,i=a.indexes,m=(a.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(s);if(!P.isFunction(n))throw new TypeError("visitor must be a function");function l(x){if(x===null)return"";if(P.isDate(x))return x.toISOString();if(P.isBoolean(x))return x.toString();if(!m&&P.isBlob(x))throw new te("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(x)||P.isTypedArray(x)?m&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,f,g){let v=x;if(x&&!g&&typeof x=="object"){if(P.endsWith(f,"{}"))f=r?f:f.slice(0,-2),x=JSON.stringify(x);else if(P.isArray(x)&&sd(x)||(P.isFileList(x)||P.endsWith(f,"[]"))&&(v=P.toArray(x)))return f=_i(f),v.forEach(function(C,S){!(P.isUndefined(C)||C===null)&&s.append(i===!0?Hr([f],S,o):i===null?f:f+"[]",l(C))}),!1}return Ba(x)?!0:(s.append(Hr(g,f,o),l(x)),!1)}const p=[],u=Object.assign(ad,{defaultVisitor:d,convertValue:l,isVisitable:Ba});function h(x,f){if(!P.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+f.join("."));p.push(x),P.forEach(x,function(v,w){(!(P.isUndefined(v)||v===null)&&n.call(s,v,P.isString(w)?w.trim():w,f,u))===!0&&h(v,f?f.concat(w):[w])}),p.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return h(t),s}function Wr(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function dr(t,s){this._pairs=[],t&&Js(t,this,s)}const $i=dr.prototype;$i.append=function(s,a){this._pairs.push([s,a])};$i.toString=function(s){const a=s?function(r){return s.call(this,r,Wr)}:Wr;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function rd(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ui(t,s,a){if(!s)return t;const r=a&&a.encode||rd;P.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let o;if(n?o=n(s,a):o=P.isURLSearchParams(s)?s.toString():new dr(s,a).toString(r),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class nd{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){P.forEach(this.handlers,function(r){r!==null&&s(r)})}}const Gr=nd,qi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},id=typeof URLSearchParams<"u"?URLSearchParams:dr,od=typeof FormData<"u"?FormData:null,ld=typeof Blob<"u"?Blob:null,cd={isBrowser:!0,classes:{URLSearchParams:id,FormData:od,Blob:ld},protocols:["http","https","file","blob","url","data"]},mr=typeof window<"u"&&typeof document<"u",_a=typeof navigator=="object"&&navigator||void 0,dd=mr&&(!_a||["ReactNative","NativeScript","NS"].indexOf(_a.product)<0),md=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),pd=mr&&window.location.href||"http://localhost",ud=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mr,hasStandardBrowserEnv:dd,hasStandardBrowserWebWorkerEnv:md,navigator:_a,origin:pd},Symbol.toStringTag,{value:"Module"})),je={...ud,...cd};function xd(t,s){return Js(t,new je.classes.URLSearchParams,{visitor:function(a,r,n,o){return je.isNode&&P.isBuffer(a)?(this.append(r,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function hd(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function fd(t){const s={},a=Object.keys(t);let r;const n=a.length;let o;for(r=0;r<n;r++)o=a[r],s[o]=t[o];return s}function Hi(t){function s(a,r,n,o){let i=a[o++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),m=o>=a.length;return i=!i&&P.isArray(n)?n.length:i,m?(P.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!c):((!n[i]||!P.isObject(n[i]))&&(n[i]=[]),s(a,r,n[i],o)&&P.isArray(n[i])&&(n[i]=fd(n[i])),!c)}if(P.isFormData(t)&&P.isFunction(t.entries)){const a={};return P.forEachEntry(t,(r,n)=>{s(hd(r),n,a,0)}),a}return null}function gd(t,s,a){if(P.isString(t))try{return(s||JSON.parse)(t),P.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const pr={transitional:qi,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,o=P.isObject(s);if(o&&P.isHTMLForm(s)&&(s=new FormData(s)),P.isFormData(s))return n?JSON.stringify(Hi(s)):s;if(P.isArrayBuffer(s)||P.isBuffer(s)||P.isStream(s)||P.isFile(s)||P.isBlob(s)||P.isReadableStream(s))return s;if(P.isArrayBufferView(s))return s.buffer;if(P.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xd(s,this.formSerializer).toString();if((c=P.isFileList(s))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Js(c?{"files[]":s}:s,m&&new m,this.formSerializer)}}return o||n?(a.setContentType("application/json",!1),gd(s)):s}],transformResponse:[function(s){const a=this.transitional||pr.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(P.isResponse(s)||P.isReadableStream(s))return s;if(s&&P.isString(s)&&(r&&!this.responseType||n)){const i=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?te.from(c,te.ERR_BAD_RESPONSE,this,null,this.response):c}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:je.classes.FormData,Blob:je.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],t=>{pr.headers[t]={}});const ur=pr,yd=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vd=t=>{const s={};let a,r,n;return t&&t.split(`
`).forEach(function(i){n=i.indexOf(":"),a=i.substring(0,n).trim().toLowerCase(),r=i.substring(n+1).trim(),!(!a||s[a]&&yd[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},Kr=Symbol("internals");function Wt(t){return t&&String(t).trim().toLowerCase()}function Ps(t){return t===!1||t==null?t:P.isArray(t)?t.map(Ps):String(t)}function bd(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)s[r[1]]=r[2];return s}const jd=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ya(t,s,a,r,n){if(P.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!P.isString(s)){if(P.isString(r))return s.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(s)}}function Nd(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function wd(t,s){const a=P.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(n,o,i){return this[r].call(this,s,n,o,i)},configurable:!0})})}class Xs{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function o(c,m,l){const d=Wt(m);if(!d)throw new Error("header name must be a non-empty string");const p=P.findKey(n,d);(!p||n[p]===void 0||l===!0||l===void 0&&n[p]!==!1)&&(n[p||m]=Ps(c))}const i=(c,m)=>P.forEach(c,(l,d)=>o(l,d,m));if(P.isPlainObject(s)||s instanceof this.constructor)i(s,a);else if(P.isString(s)&&(s=s.trim())&&!jd(s))i(vd(s),a);else if(P.isObject(s)&&P.isIterable(s)){let c={},m,l;for(const d of s){if(!P.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[l=d[0]]=(m=c[l])?P.isArray(m)?[...m,d[1]]:[m,d[1]]:d[1]}i(c,a)}else s!=null&&o(a,s,r);return this}get(s,a){if(s=Wt(s),s){const r=P.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return bd(n);if(P.isFunction(a))return a.call(this,n,r);if(P.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Wt(s),s){const r=P.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||ya(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function o(i){if(i=Wt(i),i){const c=P.findKey(r,i);c&&(!a||ya(r,r[c],c,a))&&(delete r[c],n=!0)}}return P.isArray(s)?s.forEach(o):o(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const o=a[r];(!s||ya(this,this[o],o,s,!0))&&(delete this[o],n=!0)}return n}normalize(s){const a=this,r={};return P.forEach(this,(n,o)=>{const i=P.findKey(r,o);if(i){a[i]=Ps(n),delete a[o];return}const c=s?Nd(o):String(o).trim();c!==o&&delete a[o],a[c]=Ps(n),r[c]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return P.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&P.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[Kr]=this[Kr]={accessors:{}}).accessors,n=this.prototype;function o(i){const c=Wt(i);r[c]||(wd(n,i),r[c]=!0)}return P.isArray(s)?s.forEach(o):o(s),this}}Xs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Xs.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[a]=r}}});P.freezeMethods(Xs);const $e=Xs;function va(t,s){const a=this||ur,r=s||a,n=$e.from(r.headers);let o=r.data;return P.forEach(t,function(c){o=c.call(a,o,n.normalize(),s?s.status:void 0)}),n.normalize(),o}function Wi(t){return!!(t&&t.__CANCEL__)}function zt(t,s,a){te.call(this,t??"canceled",te.ERR_CANCELED,s,a),this.name="CanceledError"}P.inherits(zt,te,{__CANCEL__:!0});function Gi(t,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):s(new te("Request failed with status code "+a.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Cd(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function kd(t,s){t=t||10;const a=new Array(t),r=new Array(t);let n=0,o=0,i;return s=s!==void 0?s:1e3,function(m){const l=Date.now(),d=r[o];i||(i=l),a[n]=m,r[n]=l;let p=o,u=0;for(;p!==n;)u+=a[p++],p=p%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),l-i<s)return;const h=d&&l-d;return h?Math.round(u*1e3/h):void 0}}function Sd(t,s){let a=0,r=1e3/s,n,o;const i=(l,d=Date.now())=>{a=d,n=null,o&&(clearTimeout(o),o=null),t(...l)};return[(...l)=>{const d=Date.now(),p=d-a;p>=r?i(l,d):(n=l,o||(o=setTimeout(()=>{o=null,i(n)},r-p)))},()=>n&&i(n)]}const Es=(t,s,a=3)=>{let r=0;const n=kd(50,250);return Sd(o=>{const i=o.loaded,c=o.lengthComputable?o.total:void 0,m=i-r,l=n(m),d=i<=c;r=i;const p={loaded:i,total:c,progress:c?i/c:void 0,bytes:m,rate:l||void 0,estimated:l&&c&&d?(c-i)/l:void 0,event:o,lengthComputable:c!=null,[s?"download":"upload"]:!0};t(p)},a)},Yr=(t,s)=>{const a=t!=null;return[r=>s[0]({lengthComputable:a,total:t,loaded:r}),s[1]]},Qr=t=>(...s)=>P.asap(()=>t(...s)),Pd=je.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,je.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(je.origin),je.navigator&&/(msie|trident)/i.test(je.navigator.userAgent)):()=>!0,Ad=je.hasStandardBrowserEnv?{write(t,s,a,r,n,o,i){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(s)}`];P.isNumber(a)&&c.push(`expires=${new Date(a).toUTCString()}`),P.isString(r)&&c.push(`path=${r}`),P.isString(n)&&c.push(`domain=${n}`),o===!0&&c.push("secure"),P.isString(i)&&c.push(`SameSite=${i}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Td(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Dd(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Ki(t,s,a){let r=!Td(s);return t&&(r||a==!1)?Dd(t,s):s}const Jr=t=>t instanceof $e?{...t}:t;function vt(t,s){s=s||{};const a={};function r(l,d,p,u){return P.isPlainObject(l)&&P.isPlainObject(d)?P.merge.call({caseless:u},l,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function n(l,d,p,u){if(P.isUndefined(d)){if(!P.isUndefined(l))return r(void 0,l,p,u)}else return r(l,d,p,u)}function o(l,d){if(!P.isUndefined(d))return r(void 0,d)}function i(l,d){if(P.isUndefined(d)){if(!P.isUndefined(l))return r(void 0,l)}else return r(void 0,d)}function c(l,d,p){if(p in s)return r(l,d);if(p in t)return r(void 0,l)}const m={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(l,d,p)=>n(Jr(l),Jr(d),p,!0)};return P.forEach(Object.keys({...t,...s}),function(d){const p=m[d]||n,u=p(t[d],s[d],d);P.isUndefined(u)&&p!==c||(a[d]=u)}),a}const Yi=t=>{const s=vt({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:c}=s;if(s.headers=i=$e.from(i),s.url=Ui(Ki(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),P.isFormData(a)){if(je.hasStandardBrowserEnv||je.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(P.isFunction(a.getHeaders)){const m=a.getHeaders(),l=["content-type","content-length"];Object.entries(m).forEach(([d,p])=>{l.includes(d.toLowerCase())&&i.set(d,p)})}}if(je.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(s)),r||r!==!1&&Pd(s.url))){const m=n&&o&&Ad.read(o);m&&i.set(n,m)}return s},Rd=typeof XMLHttpRequest<"u",Ed=Rd&&function(t){return new Promise(function(a,r){const n=Yi(t);let o=n.data;const i=$e.from(n.headers).normalize();let{responseType:c,onUploadProgress:m,onDownloadProgress:l}=n,d,p,u,h,x;function f(){h&&h(),x&&x(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function v(){if(!g)return;const C=$e.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),M={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:C,config:t,request:g};Gi(function(D){a(D),f()},function(D){r(D),f()},M),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(r(new te("Request aborted",te.ECONNABORTED,t,g)),g=null)},g.onerror=function(S){const M=S&&S.message?S.message:"Network Error",B=new te(M,te.ERR_NETWORK,t,g);B.event=S||null,r(B),g=null},g.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const M=n.transitional||qi;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),r(new te(S,M.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,t,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&P.forEach(i.toJSON(),function(S,M){g.setRequestHeader(M,S)}),P.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),c&&c!=="json"&&(g.responseType=n.responseType),l&&([u,x]=Es(l,!0),g.addEventListener("progress",u)),m&&g.upload&&([p,h]=Es(m),g.upload.addEventListener("progress",p),g.upload.addEventListener("loadend",h)),(n.cancelToken||n.signal)&&(d=C=>{g&&(r(!C||C.type?new zt(null,t,g):C),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const w=Cd(n.url);if(w&&je.protocols.indexOf(w)===-1){r(new te("Unsupported protocol "+w+":",te.ERR_BAD_REQUEST,t));return}g.send(o||null)})},Od=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let r=new AbortController,n;const o=function(l){if(!n){n=!0,c();const d=l instanceof Error?l:this.reason;r.abort(d instanceof te?d:new zt(d instanceof Error?d.message:d))}};let i=s&&setTimeout(()=>{i=null,o(new te(`timeout ${s} of ms exceeded`,te.ETIMEDOUT))},s);const c=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),t=null)};t.forEach(l=>l.addEventListener("abort",o));const{signal:m}=r;return m.unsubscribe=()=>P.asap(c),m}},Fd=Od,Md=function*(t,s){let a=t.byteLength;if(!s||a<s){yield t;return}let r=0,n;for(;r<a;)n=r+s,yield t.slice(r,n),r=n},Ld=async function*(t,s){for await(const a of Id(t))yield*Md(a,s)},Id=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},Xr=(t,s,a,r)=>{const n=Ld(t,s);let o=0,i,c=m=>{i||(i=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:l,value:d}=await n.next();if(l){c(),m.close();return}let p=d.byteLength;if(a){let u=o+=p;a(u)}m.enqueue(new Uint8Array(d))}catch(l){throw c(l),l}},cancel(m){return c(m),n.return()}},{highWaterMark:2})},Zr=64*1024,{isFunction:bs}=P,Vd=(({Request:t,Response:s})=>({Request:t,Response:s}))(P.global),{ReadableStream:en,TextEncoder:tn}=P.global,sn=(t,...s)=>{try{return!!t(...s)}catch{return!1}},zd=t=>{t=P.merge.call({skipUndefined:!0},Vd,t);const{fetch:s,Request:a,Response:r}=t,n=s?bs(s):typeof fetch=="function",o=bs(a),i=bs(r);if(!n)return!1;const c=n&&bs(en),m=n&&(typeof tn=="function"?(x=>f=>x.encode(f))(new tn):async x=>new Uint8Array(await new a(x).arrayBuffer())),l=o&&c&&sn(()=>{let x=!1;const f=new a(je.origin,{body:new en,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!f}),d=i&&c&&sn(()=>P.isReadableStream(new r("").body)),p={stream:d&&(x=>x.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!p[x]&&(p[x]=(f,g)=>{let v=f&&f[x];if(v)return v.call(f);throw new te(`Response type '${x}' is not supported`,te.ERR_NOT_SUPPORT,g)})});const u=async x=>{if(x==null)return 0;if(P.isBlob(x))return x.size;if(P.isSpecCompliantForm(x))return(await new a(je.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(P.isArrayBufferView(x)||P.isArrayBuffer(x))return x.byteLength;if(P.isURLSearchParams(x)&&(x=x+""),P.isString(x))return(await m(x)).byteLength},h=async(x,f)=>{const g=P.toFiniteNumber(x.getContentLength());return g??u(f)};return async x=>{let{url:f,method:g,data:v,signal:w,cancelToken:C,timeout:S,onDownloadProgress:M,onUploadProgress:B,responseType:D,headers:E,withCredentials:$="same-origin",fetchOptions:k}=Yi(x),A=s||fetch;D=D?(D+"").toLowerCase():"text";let b=Fd([w,C&&C.toAbortSignal()],S),O=null;const z=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let G;try{if(B&&l&&g!=="get"&&g!=="head"&&(G=await h(E,v))!==0){let I=new a(f,{method:"POST",body:v,duplex:"half"}),Y;if(P.isFormData(v)&&(Y=I.headers.get("content-type"))&&E.setContentType(Y),I.body){const[T,V]=Yr(G,Es(Qr(B)));v=Xr(I.body,Zr,T,V)}}P.isString($)||($=$?"include":"omit");const N=o&&"credentials"in a.prototype,U={...k,signal:b,method:g.toUpperCase(),headers:E.normalize().toJSON(),body:v,duplex:"half",credentials:N?$:void 0};O=o&&new a(f,U);let q=await(o?A(O,k):A(f,U));const R=d&&(D==="stream"||D==="response");if(d&&(M||R&&z)){const I={};["status","statusText","headers"].forEach(F=>{I[F]=q[F]});const Y=P.toFiniteNumber(q.headers.get("content-length")),[T,V]=M&&Yr(Y,Es(Qr(M),!0))||[];q=new r(Xr(q.body,Zr,T,()=>{V&&V(),z&&z()}),I)}D=D||"text";let Q=await p[P.findKey(p,D)||"text"](q,x);return!R&&z&&z(),await new Promise((I,Y)=>{Gi(I,Y,{data:Q,headers:$e.from(q.headers),status:q.status,statusText:q.statusText,config:x,request:O})})}catch(N){throw z&&z(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,x,O),{cause:N.cause||N}):te.from(N,N&&N.code,x,O)}}},Bd=new Map,Qi=t=>{let s=t&&t.env||{};const{fetch:a,Request:r,Response:n}=s,o=[r,n,a];let i=o.length,c=i,m,l,d=Bd;for(;c--;)m=o[c],l=d.get(m),l===void 0&&d.set(m,l=c?new Map:zd(s)),d=l;return l};Qi();const xr={http:td,xhr:Ed,fetch:{get:Qi}};P.forEach(xr,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const an=t=>`- ${t}`,_d=t=>P.isFunction(t)||t===null||t===!1;function $d(t,s){t=P.isArray(t)?t:[t];const{length:a}=t;let r,n;const o={};for(let i=0;i<a;i++){r=t[i];let c;if(n=r,!_d(r)&&(n=xr[(c=String(r)).toLowerCase()],n===void 0))throw new te(`Unknown adapter '${c}'`);if(n&&(P.isFunction(n)||(n=n.get(s))))break;o[c||"#"+i]=n}if(!n){const i=Object.entries(o).map(([m,l])=>`adapter ${m} `+(l===!1?"is not supported by the environment":"is not available in the build"));let c=a?i.length>1?`since :
`+i.map(an).join(`
`):" "+an(i[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n}const Ji={getAdapter:$d,adapters:xr};function ba(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zt(null,t)}function rn(t){return ba(t),t.headers=$e.from(t.headers),t.data=va.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ji.getAdapter(t.adapter||ur.adapter,t)(t).then(function(r){return ba(t),r.data=va.call(t,t.transformResponse,r),r.headers=$e.from(r.headers),r},function(r){return Wi(r)||(ba(t),r&&r.response&&(r.response.data=va.call(t,t.transformResponse,r.response),r.response.headers=$e.from(r.response.headers))),Promise.reject(r)})}const Xi="1.13.1",Zs={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Zs[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const nn={};Zs.transitional=function(s,a,r){function n(o,i){return"[Axios v"+Xi+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,c)=>{if(s===!1)throw new te(n(i," has been removed"+(a?" in "+a:"")),te.ERR_DEPRECATED);return a&&!nn[i]&&(nn[i]=!0,console.warn(n(i," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(o,i,c):!0}};Zs.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function Ud(t,s,a){if(typeof t!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const o=r[n],i=s[o];if(i){const c=t[o],m=c===void 0||i(c,o,t);if(m!==!0)throw new te("option "+o+" must be "+m,te.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new te("Unknown option "+o,te.ERR_BAD_OPTION)}}const As={assertOptions:Ud,validators:Zs},He=As.validators;class Os{constructor(s){this.defaults=s||{},this.interceptors={request:new Gr,response:new Gr}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=vt(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:o}=a;r!==void 0&&As.assertOptions(r,{silentJSONParsing:He.transitional(He.boolean),forcedJSONParsing:He.transitional(He.boolean),clarifyTimeoutError:He.transitional(He.boolean)},!1),n!=null&&(P.isFunction(n)?a.paramsSerializer={serialize:n}:As.assertOptions(n,{encode:He.function,serialize:He.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),As.assertOptions(a,{baseUrl:He.spelling("baseURL"),withXsrfToken:He.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&P.merge(o.common,o[a.method]);o&&P.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),a.headers=$e.concat(i,o);const c=[];let m=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(a)===!1||(m=m&&f.synchronous,c.unshift(f.fulfilled,f.rejected))});const l=[];this.interceptors.response.forEach(function(f){l.push(f.fulfilled,f.rejected)});let d,p=0,u;if(!m){const x=[rn.bind(this),void 0];for(x.unshift(...c),x.push(...l),u=x.length,d=Promise.resolve(a);p<u;)d=d.then(x[p++],x[p++]);return d}u=c.length;let h=a;for(;p<u;){const x=c[p++],f=c[p++];try{h=x(h)}catch(g){f.call(this,g);break}}try{d=rn.call(this,h)}catch(x){return Promise.reject(x)}for(p=0,u=l.length;p<u;)d=d.then(l[p++],l[p++]);return d}getUri(s){s=vt(this.defaults,s);const a=Ki(s.baseURL,s.url,s.allowAbsoluteUrls);return Ui(a,s.params,s.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(s){Os.prototype[s]=function(a,r){return this.request(vt(r||{},{method:s,url:a,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(s){function a(r){return function(o,i,c){return this.request(vt(c||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Os.prototype[s]=a(),Os.prototype[s+"Form"]=a(!0)});const Ts=Os;class hr{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const r=this;this.promise.then(n=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](n);r._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(c=>{r.subscribe(c),o=c}).then(n);return i.cancel=function(){r.unsubscribe(o)},i},s(function(o,i,c){r.reason||(r.reason=new zt(o,i,c),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new hr(function(n){s=n}),cancel:s}}}const qd=hr;function Hd(t){return function(a){return t.apply(null,a)}}function Wd(t){return P.isObject(t)&&t.isAxiosError===!0}const $a={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries($a).forEach(([t,s])=>{$a[s]=t});const Gd=$a;function Zi(t){const s=new Ts(t),a=Ri(Ts.prototype.request,s);return P.extend(a,Ts.prototype,s,{allOwnKeys:!0}),P.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return Zi(vt(t,n))},a}const ue=Zi(ur);ue.Axios=Ts;ue.CanceledError=zt;ue.CancelToken=qd;ue.isCancel=Wi;ue.VERSION=Xi;ue.toFormData=Js;ue.AxiosError=te;ue.Cancel=ue.CanceledError;ue.all=function(s){return Promise.all(s)};ue.spread=Hd;ue.isAxiosError=Wd;ue.mergeConfig=vt;ue.AxiosHeaders=$e;ue.formToJSON=t=>Hi(P.isHTMLForm(t)?new FormData(t):t);ue.getAdapter=Ji.getAdapter;ue.HttpStatusCode=Gd;ue.default=ue;const Kd=ue,Yd="https://msucre-backend-65c219542360.herokuapp.com/api",W=Kd.create({baseURL:Yd,headers:{"Content-Type":"application/json"},withCredentials:!0});W.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));W.interceptors.response.use(t=>t,t=>{var s;if(((s=t.response)==null?void 0:s.status)===401){localStorage.removeItem("token");const a="/msucre-frontend";window.location.href=a+"/login"}return Promise.reject(t)});const eo=y.createContext(),et=()=>{const t=y.useContext(eo);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Qd=({children:t})=>{const[s,a]=y.useState(null),[r,n]=y.useState(!0);y.useEffect(()=>{o()},[]);const o=async()=>{if(localStorage.getItem("token"))try{const u=await W.get("/auth/me");a(u.data.data)}catch{localStorage.removeItem("token")}n(!1)},d={user:s,loading:r,login:async(p,u)=>{const h=await W.post("/auth/login",{email:p,password:u});return localStorage.setItem("token",h.data.token),a(h.data.user),h.data},register:async p=>{const u=await W.post("/auth/register",p);return localStorage.setItem("token",u.data.token),a(u.data.user),u.data},logout:async()=>{try{await W.post("/auth/logout")}catch(p){console.error("Logout error:",p)}localStorage.removeItem("token"),a(null)},updateProfile:async p=>{const u=await W.put("/auth/profile",p);return a(u.data.data),u.data},isAuthenticated:!!s,isAdmin:(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="editor"};return e.jsx(eo.Provider,{value:d,children:t})},to=y.createContext(),Bt=()=>{const t=y.useContext(to);if(!t)throw new Error("useCart must be used within a CartProvider");return t},Jd=({children:t})=>{const[s,a]=y.useState(()=>{try{const d=localStorage.getItem("cart");return d?JSON.parse(d):[]}catch(d){return console.error("Error loading cart from localStorage:",d),[]}});y.useEffect(()=>{try{localStorage.setItem("cart",JSON.stringify(s))}catch(d){console.error("Error saving cart to localStorage:",d)}},[s]);const r=d=>{a(p=>{const u=p.findIndex(h=>d.isCombo?h.comboId===d.comboId:h.productId===d.productId&&h.selectedSize===d.selectedSize);if(u>-1){const h=[...p];return h[u].quantity+=d.quantity||1,h}else return[...p,{...d,quantity:d.quantity||1}]})},n=d=>{a(p=>p.filter((u,h)=>h!==d))},l={cart:s,addToCart:r,removeFromCart:n,updateQuantity:(d,p)=>{if(p<1){n(d);return}a(u=>{const h=[...u];return h[d].quantity=p,h})},clearCart:()=>{a([])},getCartTotal:()=>s.reduce((d,p)=>d+p.unitPrice*p.quantity,0),getCartCount:()=>s.reduce((d,p)=>d+p.quantity,0)};return e.jsx(to.Provider,{value:l,children:t})},so=y.createContext(),ao=()=>{const t=y.useContext(so);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},Xd=({children:t})=>{const[s,a]=y.useState(()=>localStorage.getItem("websiteLanguage")||"en");y.useEffect(()=>{localStorage.setItem("websiteLanguage",s)},[s]);const n={language:s,changeLanguage:o=>{(o==="en"||o==="fr")&&a(o)},isEnglish:s==="en",isFrench:s==="fr"};return e.jsx(so.Provider,{value:n,children:t})},ro=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ea=y.createContext({}),ta=y.createContext(null),sa=typeof document<"u",fr=sa?y.useLayoutEffect:y.useEffect,no=y.createContext({strict:!1}),gr=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Zd="framerAppearId",io="data-"+gr(Zd);function em(t,s,a,r){const{visualElement:n}=y.useContext(ea),o=y.useContext(no),i=y.useContext(ta),c=y.useContext(ro).reducedMotion,m=y.useRef();r=r||o.renderer,!m.current&&r&&(m.current=r(t,{visualState:s,parent:n,props:a,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:c}));const l=m.current;y.useInsertionEffect(()=>{l&&l.update(a,i)});const d=y.useRef(!!(a[io]&&!window.HandoffComplete));return fr(()=>{l&&(l.render(),d.current&&l.animationState&&l.animationState.animateChanges())}),y.useEffect(()=>{l&&(l.updateFeatures(),!d.current&&l.animationState&&l.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),l}function At(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tm(t,s,a){return y.useCallback(r=>{r&&t.mount&&t.mount(r),s&&(r?s.mount(r):s.unmount()),a&&(typeof a=="function"?a(r):At(a)&&(a.current=r))},[s])}function ss(t){return typeof t=="string"||Array.isArray(t)}function aa(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const yr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vr=["initial",...yr];function ra(t){return aa(t.animate)||vr.some(s=>ss(t[s]))}function oo(t){return!!(ra(t)||t.variants)}function sm(t,s){if(ra(t)){const{initial:a,animate:r}=t;return{initial:a===!1||ss(a)?a:void 0,animate:ss(r)?r:void 0}}return t.inherit!==!1?s:{}}function am(t){const{initial:s,animate:a}=sm(t,y.useContext(ea));return y.useMemo(()=>({initial:s,animate:a}),[on(s),on(a)])}function on(t){return Array.isArray(t)?t.join(" "):t}const ln={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},as={};for(const t in ln)as[t]={isEnabled:s=>ln[t].some(a=>!!s[a])};function rm(t){for(const s in t)as[s]={...as[s],...t[s]}}const br=y.createContext({}),lo=y.createContext({}),nm=Symbol.for("motionComponentSymbol");function im({preloadedFeatures:t,createVisualElement:s,useRender:a,useVisualState:r,Component:n}){t&&rm(t);function o(c,m){let l;const d={...y.useContext(ro),...c,layoutId:om(c)},{isStatic:p}=d,u=am(c),h=r(c,p);if(!p&&sa){u.visualElement=em(n,h,d,s);const x=y.useContext(lo),f=y.useContext(no).strict;u.visualElement&&(l=u.visualElement.loadFeatures(d,f,t,x))}return y.createElement(ea.Provider,{value:u},l&&u.visualElement?y.createElement(l,{visualElement:u.visualElement,...d}):null,a(n,c,tm(h,u.visualElement,m),h,p,u.visualElement))}const i=y.forwardRef(o);return i[nm]=n,i}function om({layoutId:t}){const s=y.useContext(br).id;return s&&t!==void 0?s+"-"+t:t}function lm(t){function s(r,n={}){return im(t(r,n))}if(typeof Proxy>"u")return s;const a=new Map;return new Proxy(s,{get:(r,n)=>(a.has(n)||a.set(n,s(n)),a.get(n))})}const cm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jr(t){return typeof t!="string"||t.includes("-")?!1:!!(cm.indexOf(t)>-1||/[A-Z]/.test(t))}const Fs={};function dm(t){Object.assign(Fs,t)}const hs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jt=new Set(hs);function co(t,{layout:s,layoutId:a}){return jt.has(t)||t.startsWith("origin")||(s||a!==void 0)&&(!!Fs[t]||t==="opacity")}const Te=t=>!!(t&&t.getVelocity),mm={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pm=hs.length;function um(t,{enableHardwareAcceleration:s=!0,allowTransformNone:a=!0},r,n){let o="";for(let i=0;i<pm;i++){const c=hs[i];if(t[c]!==void 0){const m=mm[c]||c;o+=`${m}(${t[c]}) `}}return s&&!t.z&&(o+="translateZ(0)"),o=o.trim(),n?o=n(t,r?"":o):a&&r&&(o="none"),o}const mo=t=>s=>typeof s=="string"&&s.startsWith(t),po=mo("--"),Ua=mo("var(--"),xm=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hm=(t,s)=>s&&typeof t=="number"?s.transform(t):t,lt=(t,s,a)=>Math.min(Math.max(a,t),s),Nt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Jt={...Nt,transform:t=>lt(0,1,t)},js={...Nt,default:1},Xt=t=>Math.round(t*1e5)/1e5,na=/(-)?([\d]*\.?[\d])+/g,uo=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fm=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function fs(t){return typeof t=="string"}const gs=t=>({test:s=>fs(s)&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),st=gs("deg"),Ge=gs("%"),J=gs("px"),gm=gs("vh"),ym=gs("vw"),cn={...Ge,parse:t=>Ge.parse(t)/100,transform:t=>Ge.transform(t*100)},dn={...Nt,transform:Math.round},xo={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,size:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,rotate:st,rotateX:st,rotateY:st,rotateZ:st,scale:js,scaleX:js,scaleY:js,scaleZ:js,skew:st,skewX:st,skewY:st,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:Jt,originX:cn,originY:cn,originZ:J,zIndex:dn,fillOpacity:Jt,strokeOpacity:Jt,numOctaves:dn};function Nr(t,s,a,r){const{style:n,vars:o,transform:i,transformOrigin:c}=t;let m=!1,l=!1,d=!0;for(const p in s){const u=s[p];if(po(p)){o[p]=u;continue}const h=xo[p],x=hm(u,h);if(jt.has(p)){if(m=!0,i[p]=x,!d)continue;u!==(h.default||0)&&(d=!1)}else p.startsWith("origin")?(l=!0,c[p]=x):n[p]=x}if(s.transform||(m||r?n.transform=um(t.transform,a,d,r):n.transform&&(n.transform="none")),l){const{originX:p="50%",originY:u="50%",originZ:h=0}=c;n.transformOrigin=`${p} ${u} ${h}`}}const wr=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ho(t,s,a){for(const r in s)!Te(s[r])&&!co(r,a)&&(t[r]=s[r])}function vm({transformTemplate:t},s,a){return y.useMemo(()=>{const r=wr();return Nr(r,s,{enableHardwareAcceleration:!a},t),Object.assign({},r.vars,r.style)},[s])}function bm(t,s,a){const r=t.style||{},n={};return ho(n,r,t),Object.assign(n,vm(t,s,a)),t.transformValues?t.transformValues(n):n}function jm(t,s,a){const r={},n=bm(t,s,a);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Nm=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ms(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Nm.has(t)}let fo=t=>!Ms(t);function wm(t){t&&(fo=s=>s.startsWith("on")?!Ms(s):t(s))}try{wm(require("@emotion/is-prop-valid").default)}catch{}function Cm(t,s,a){const r={};for(const n in t)n==="values"&&typeof t.values=="object"||(fo(n)||a===!0&&Ms(n)||!s&&!Ms(n)||t.draggable&&n.startsWith("onDrag"))&&(r[n]=t[n]);return r}function mn(t,s,a){return typeof t=="string"?t:J.transform(s+a*t)}function km(t,s,a){const r=mn(s,t.x,t.width),n=mn(a,t.y,t.height);return`${r} ${n}`}const Sm={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pm={offset:"strokeDashoffset",array:"strokeDasharray"};function Am(t,s,a=1,r=0,n=!0){t.pathLength=1;const o=n?Sm:Pm;t[o.offset]=J.transform(-r);const i=J.transform(s),c=J.transform(a);t[o.array]=`${i} ${c}`}function Cr(t,{attrX:s,attrY:a,attrScale:r,originX:n,originY:o,pathLength:i,pathSpacing:c=1,pathOffset:m=0,...l},d,p,u){if(Nr(t,l,d,u),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:x,dimensions:f}=t;h.transform&&(f&&(x.transform=h.transform),delete h.transform),f&&(n!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=km(f,n!==void 0?n:.5,o!==void 0?o:.5)),s!==void 0&&(h.x=s),a!==void 0&&(h.y=a),r!==void 0&&(h.scale=r),i!==void 0&&Am(h,i,c,m,!1)}const go=()=>({...wr(),attrs:{}}),kr=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Tm(t,s,a,r){const n=y.useMemo(()=>{const o=go();return Cr(o,s,{enableHardwareAcceleration:!1},kr(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[s]);if(t.style){const o={};ho(o,t.style,t),n.style={...o,...n.style}}return n}function Dm(t=!1){return(a,r,n,{latestValues:o},i)=>{const m=(jr(a)?Tm:jm)(r,o,i,a),d={...Cm(r,typeof a=="string",t),...m,ref:n},{children:p}=r,u=y.useMemo(()=>Te(p)?p.get():p,[p]);return y.createElement(a,{...d,children:u})}}function yo(t,{style:s,vars:a},r,n){Object.assign(t.style,s,n&&n.getProjectionStyles(r));for(const o in a)t.style.setProperty(o,a[o])}const vo=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bo(t,s,a,r){yo(t,s,void 0,r);for(const n in s.attrs)t.setAttribute(vo.has(n)?n:gr(n),s.attrs[n])}function Sr(t,s){const{style:a}=t,r={};for(const n in a)(Te(a[n])||s.style&&Te(s.style[n])||co(n,t))&&(r[n]=a[n]);return r}function jo(t,s){const a=Sr(t,s);for(const r in t)if(Te(t[r])||Te(s[r])){const n=hs.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[n]=t[r]}return a}function Pr(t,s,a,r={},n={}){return typeof s=="function"&&(s=s(a!==void 0?a:t.custom,r,n)),typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"&&(s=s(a!==void 0?a:t.custom,r,n)),s}function No(t){const s=y.useRef(null);return s.current===null&&(s.current=t()),s.current}const Ls=t=>Array.isArray(t),Rm=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Em=t=>Ls(t)?t[t.length-1]||0:t;function Ds(t){const s=Te(t)?t.get():t;return Rm(s)?s.toValue():s}function Om({scrapeMotionValuesFromProps:t,createRenderState:s,onMount:a},r,n,o){const i={latestValues:Fm(r,n,o,t),renderState:s()};return a&&(i.mount=c=>a(r,c,i)),i}const wo=t=>(s,a)=>{const r=y.useContext(ea),n=y.useContext(ta),o=()=>Om(t,s,r,n);return a?o():No(o)};function Fm(t,s,a,r){const n={},o=r(t,{});for(const u in o)n[u]=Ds(o[u]);let{initial:i,animate:c}=t;const m=ra(t),l=oo(t);s&&l&&!m&&t.inherit!==!1&&(i===void 0&&(i=s.initial),c===void 0&&(c=s.animate));let d=a?a.initial===!1:!1;d=d||i===!1;const p=d?c:i;return p&&typeof p!="boolean"&&!aa(p)&&(Array.isArray(p)?p:[p]).forEach(h=>{const x=Pr(t,h);if(!x)return;const{transitionEnd:f,transition:g,...v}=x;for(const w in v){let C=v[w];if(Array.isArray(C)){const S=d?C.length-1:0;C=C[S]}C!==null&&(n[w]=C)}for(const w in f)n[w]=f[w]}),n}const ce=t=>t;class pn{constructor(){this.order=[],this.scheduled=new Set}add(s){if(!this.scheduled.has(s))return this.scheduled.add(s),this.order.push(s),!0}remove(s){const a=this.order.indexOf(s);a!==-1&&(this.order.splice(a,1),this.scheduled.delete(s))}clear(){this.order.length=0,this.scheduled.clear()}}function Mm(t){let s=new pn,a=new pn,r=0,n=!1,o=!1;const i=new WeakSet,c={schedule:(m,l=!1,d=!1)=>{const p=d&&n,u=p?s:a;return l&&i.add(m),u.add(m)&&p&&n&&(r=s.order.length),m},cancel:m=>{a.remove(m),i.delete(m)},process:m=>{if(n){o=!0;return}if(n=!0,[s,a]=[a,s],a.clear(),r=s.order.length,r)for(let l=0;l<r;l++){const d=s.order[l];d(m),i.has(d)&&(c.schedule(d),t())}n=!1,o&&(o=!1,c.process(m))}};return c}const Ns=["prepare","read","update","preRender","render","postRender"],Lm=40;function Im(t,s){let a=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},o=Ns.reduce((p,u)=>(p[u]=Mm(()=>a=!0),p),{}),i=p=>o[p].process(n),c=()=>{const p=performance.now();a=!1,n.delta=r?1e3/60:Math.max(Math.min(p-n.timestamp,Lm),1),n.timestamp=p,n.isProcessing=!0,Ns.forEach(i),n.isProcessing=!1,a&&s&&(r=!1,t(c))},m=()=>{a=!0,r=!0,n.isProcessing||t(c)};return{schedule:Ns.reduce((p,u)=>{const h=o[u];return p[u]=(x,f=!1,g=!1)=>(a||m(),h.schedule(x,f,g)),p},{}),cancel:p=>Ns.forEach(u=>o[u].cancel(p)),state:n,steps:o}}const{schedule:ne,cancel:Ze,state:be,steps:ja}=Im(typeof requestAnimationFrame<"u"?requestAnimationFrame:ce,!0),Vm={useVisualState:wo({scrapeMotionValuesFromProps:jo,createRenderState:go,onMount:(t,s,{renderState:a,latestValues:r})=>{ne.read(()=>{try{a.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{a.dimensions={x:0,y:0,width:0,height:0}}}),ne.render(()=>{Cr(a,r,{enableHardwareAcceleration:!1},kr(s.tagName),t.transformTemplate),bo(s,a)})}})},zm={useVisualState:wo({scrapeMotionValuesFromProps:Sr,createRenderState:wr})};function Bm(t,{forwardMotionProps:s=!1},a,r){return{...jr(t)?Vm:zm,preloadedFeatures:a,useRender:Dm(s),createVisualElement:r,Component:t}}function Ke(t,s,a,r={passive:!0}){return t.addEventListener(s,a,r),()=>t.removeEventListener(s,a)}const Co=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ia(t,s="page"){return{point:{x:t[s+"X"],y:t[s+"Y"]}}}const _m=t=>s=>Co(s)&&t(s,ia(s));function Je(t,s,a,r){return Ke(t,s,_m(a),r)}const $m=(t,s)=>a=>s(t(a)),rt=(...t)=>t.reduce($m);function ko(t){let s=null;return()=>{const a=()=>{s=null};return s===null?(s=t,a):!1}}const un=ko("dragHorizontal"),xn=ko("dragVertical");function So(t){let s=!1;if(t==="y")s=xn();else if(t==="x")s=un();else{const a=un(),r=xn();a&&r?s=()=>{a(),r()}:(a&&a(),r&&r())}return s}function Po(){const t=So(!0);return t?(t(),!1):!0}class mt{constructor(s){this.isMounted=!1,this.node=s}update(){}}function hn(t,s){const a="pointer"+(s?"enter":"leave"),r="onHover"+(s?"Start":"End"),n=(o,i)=>{if(o.pointerType==="touch"||Po())return;const c=t.getProps();t.animationState&&c.whileHover&&t.animationState.setActive("whileHover",s),c[r]&&ne.update(()=>c[r](o,i))};return Je(t.current,a,n,{passive:!t.getProps()[r]})}class Um extends mt{mount(){this.unmount=rt(hn(this.node,!0),hn(this.node,!1))}unmount(){}}class qm extends mt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rt(Ke(this.node.current,"focus",()=>this.onFocus()),Ke(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ao=(t,s)=>s?t===s?!0:Ao(t,s.parentElement):!1;function Na(t,s){if(!s)return;const a=new PointerEvent("pointer"+t);s(a,ia(a))}class Hm extends mt{constructor(){super(...arguments),this.removeStartListeners=ce,this.removeEndListeners=ce,this.removeAccessibleListeners=ce,this.startPointerPress=(s,a)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Je(window,"pointerup",(c,m)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:d,globalTapTarget:p}=this.node.getProps();ne.update(()=>{!p&&!Ao(this.node.current,c.target)?d&&d(c,m):l&&l(c,m)})},{passive:!(r.onTap||r.onPointerUp)}),i=Je(window,"pointercancel",(c,m)=>this.cancelPress(c,m),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=rt(o,i),this.startPress(s,a)},this.startAccessiblePress=()=>{const s=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=c=>{c.key!=="Enter"||!this.checkPressEnd()||Na("up",(m,l)=>{const{onTap:d}=this.node.getProps();d&&ne.update(()=>d(m,l))})};this.removeEndListeners(),this.removeEndListeners=Ke(this.node.current,"keyup",i),Na("down",(c,m)=>{this.startPress(c,m)})},a=Ke(this.node.current,"keydown",s),r=()=>{this.isPressing&&Na("cancel",(o,i)=>this.cancelPress(o,i))},n=Ke(this.node.current,"blur",r);this.removeAccessibleListeners=rt(a,n)}}startPress(s,a){this.isPressing=!0;const{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ne.update(()=>r(s,a))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Po()}cancelPress(s,a){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ne.update(()=>r(s,a))}mount(){const s=this.node.getProps(),a=Je(s.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(s.onTapStart||s.onPointerStart)}),r=Ke(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=rt(a,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const qa=new WeakMap,wa=new WeakMap,Wm=t=>{const s=qa.get(t.target);s&&s(t)},Gm=t=>{t.forEach(Wm)};function Km({root:t,...s}){const a=t||document;wa.has(a)||wa.set(a,{});const r=wa.get(a),n=JSON.stringify(s);return r[n]||(r[n]=new IntersectionObserver(Gm,{root:t,...s})),r[n]}function Ym(t,s,a){const r=Km(s);return qa.set(t,a),r.observe(t),()=>{qa.delete(t),r.unobserve(t)}}const Qm={some:0,all:1};class Jm extends mt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:r,amount:n="some",once:o}=s,i={root:a?a.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:Qm[n]},c=m=>{const{isIntersecting:l}=m;if(this.isInView===l||(this.isInView=l,o&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),u=l?d:p;u&&u(m)};return Ym(this.node.current,i,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(Xm(s,a))&&this.startObserver()}unmount(){}}function Xm({viewport:t={}},{viewport:s={}}={}){return a=>t[a]!==s[a]}const Zm={inView:{Feature:Jm},tap:{Feature:Hm},focus:{Feature:qm},hover:{Feature:Um}};function To(t,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==t.length)return!1;for(let r=0;r<a;r++)if(s[r]!==t[r])return!1;return!0}function ep(t){const s={};return t.values.forEach((a,r)=>s[r]=a.get()),s}function tp(t){const s={};return t.values.forEach((a,r)=>s[r]=a.getVelocity()),s}function oa(t,s,a){const r=t.getProps();return Pr(r,s,a!==void 0?a:r.custom,ep(t),tp(t))}let sp=ce,Ar=ce;const nt=t=>t*1e3,Xe=t=>t/1e3,ap={current:!1},Do=t=>Array.isArray(t)&&typeof t[0]=="number";function Ro(t){return!!(!t||typeof t=="string"&&Eo[t]||Do(t)||Array.isArray(t)&&t.every(Ro))}const Yt=([t,s,a,r])=>`cubic-bezier(${t}, ${s}, ${a}, ${r})`,Eo={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yt([0,.65,.55,1]),circOut:Yt([.55,0,1,.45]),backIn:Yt([.31,.01,.66,-.59]),backOut:Yt([.33,1.53,.69,.99])};function Oo(t){if(t)return Do(t)?Yt(t):Array.isArray(t)?t.map(Oo):Eo[t]}function rp(t,s,a,{delay:r=0,duration:n,repeat:o=0,repeatType:i="loop",ease:c,times:m}={}){const l={[s]:a};m&&(l.offset=m);const d=Oo(c);return Array.isArray(d)&&(l.easing=d),t.animate(l,{delay:r,duration:n,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function np(t,{repeat:s,repeatType:a="loop"}){const r=s&&a!=="loop"&&s%2===1?0:t.length-1;return t[r]}const Fo=(t,s,a)=>(((1-3*a+3*s)*t+(3*a-6*s))*t+3*s)*t,ip=1e-7,op=12;function lp(t,s,a,r,n){let o,i,c=0;do i=s+(a-s)/2,o=Fo(i,r,n)-t,o>0?a=i:s=i;while(Math.abs(o)>ip&&++c<op);return i}function ys(t,s,a,r){if(t===s&&a===r)return ce;const n=o=>lp(o,0,1,t,a);return o=>o===0||o===1?o:Fo(n(o),s,r)}const cp=ys(.42,0,1,1),dp=ys(0,0,.58,1),Mo=ys(.42,0,.58,1),mp=t=>Array.isArray(t)&&typeof t[0]!="number",Lo=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,Io=t=>s=>1-t(1-s),Tr=t=>1-Math.sin(Math.acos(t)),Vo=Io(Tr),pp=Lo(Tr),zo=ys(.33,1.53,.69,.99),Dr=Io(zo),up=Lo(Dr),xp=t=>(t*=2)<1?.5*Dr(t):.5*(2-Math.pow(2,-10*(t-1))),hp={linear:ce,easeIn:cp,easeInOut:Mo,easeOut:dp,circIn:Tr,circInOut:pp,circOut:Vo,backIn:Dr,backInOut:up,backOut:zo,anticipate:xp},fn=t=>{if(Array.isArray(t)){Ar(t.length===4);const[s,a,r,n]=t;return ys(s,a,r,n)}else if(typeof t=="string")return hp[t];return t},Rr=(t,s)=>a=>!!(fs(a)&&fm.test(a)&&a.startsWith(t)||s&&Object.prototype.hasOwnProperty.call(a,s)),Bo=(t,s,a)=>r=>{if(!fs(r))return r;const[n,o,i,c]=r.match(na);return{[t]:parseFloat(n),[s]:parseFloat(o),[a]:parseFloat(i),alpha:c!==void 0?parseFloat(c):1}},fp=t=>lt(0,255,t),Ca={...Nt,transform:t=>Math.round(fp(t))},yt={test:Rr("rgb","red"),parse:Bo("red","green","blue"),transform:({red:t,green:s,blue:a,alpha:r=1})=>"rgba("+Ca.transform(t)+", "+Ca.transform(s)+", "+Ca.transform(a)+", "+Xt(Jt.transform(r))+")"};function gp(t){let s="",a="",r="",n="";return t.length>5?(s=t.substring(1,3),a=t.substring(3,5),r=t.substring(5,7),n=t.substring(7,9)):(s=t.substring(1,2),a=t.substring(2,3),r=t.substring(3,4),n=t.substring(4,5),s+=s,a+=a,r+=r,n+=n),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const Ha={test:Rr("#"),parse:gp,transform:yt.transform},Tt={test:Rr("hsl","hue"),parse:Bo("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:a,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ge.transform(Xt(s))+", "+Ge.transform(Xt(a))+", "+Xt(Jt.transform(r))+")"},Ce={test:t=>yt.test(t)||Ha.test(t)||Tt.test(t),parse:t=>yt.test(t)?yt.parse(t):Tt.test(t)?Tt.parse(t):Ha.parse(t),transform:t=>fs(t)?t:t.hasOwnProperty("red")?yt.transform(t):Tt.transform(t)},le=(t,s,a)=>-a*t+a*s+t;function ka(t,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(s-t)*6*a:a<1/2?s:a<2/3?t+(s-t)*(2/3-a)*6:t}function yp({hue:t,saturation:s,lightness:a,alpha:r}){t/=360,s/=100,a/=100;let n=0,o=0,i=0;if(!s)n=o=i=a;else{const c=a<.5?a*(1+s):a+s-a*s,m=2*a-c;n=ka(m,c,t+1/3),o=ka(m,c,t),i=ka(m,c,t-1/3)}return{red:Math.round(n*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Sa=(t,s,a)=>{const r=t*t;return Math.sqrt(Math.max(0,a*(s*s-r)+r))},vp=[Ha,yt,Tt],bp=t=>vp.find(s=>s.test(t));function gn(t){const s=bp(t);let a=s.parse(t);return s===Tt&&(a=yp(a)),a}const _o=(t,s)=>{const a=gn(t),r=gn(s),n={...a};return o=>(n.red=Sa(a.red,r.red,o),n.green=Sa(a.green,r.green,o),n.blue=Sa(a.blue,r.blue,o),n.alpha=le(a.alpha,r.alpha,o),yt.transform(n))};function jp(t){var s,a;return isNaN(t)&&fs(t)&&(((s=t.match(na))===null||s===void 0?void 0:s.length)||0)+(((a=t.match(uo))===null||a===void 0?void 0:a.length)||0)>0}const $o={regex:xm,countKey:"Vars",token:"${v}",parse:ce},Uo={regex:uo,countKey:"Colors",token:"${c}",parse:Ce.parse},qo={regex:na,countKey:"Numbers",token:"${n}",parse:Nt.parse};function Pa(t,{regex:s,countKey:a,token:r,parse:n}){const o=t.tokenised.match(s);o&&(t["num"+a]=o.length,t.tokenised=t.tokenised.replace(s,r),t.values.push(...o.map(n)))}function Is(t){const s=t.toString(),a={value:s,tokenised:s,values:[],numVars:0,numColors:0,numNumbers:0};return a.value.includes("var(--")&&Pa(a,$o),Pa(a,Uo),Pa(a,qo),a}function Ho(t){return Is(t).values}function Wo(t){const{values:s,numColors:a,numVars:r,tokenised:n}=Is(t),o=s.length;return i=>{let c=n;for(let m=0;m<o;m++)m<r?c=c.replace($o.token,i[m]):m<r+a?c=c.replace(Uo.token,Ce.transform(i[m])):c=c.replace(qo.token,Xt(i[m]));return c}}const Np=t=>typeof t=="number"?0:t;function wp(t){const s=Ho(t);return Wo(t)(s.map(Np))}const ct={test:jp,parse:Ho,createTransformer:Wo,getAnimatableNone:wp},Go=(t,s)=>a=>`${a>0?s:t}`;function Ko(t,s){return typeof t=="number"?a=>le(t,s,a):Ce.test(t)?_o(t,s):t.startsWith("var(")?Go(t,s):Qo(t,s)}const Yo=(t,s)=>{const a=[...t],r=a.length,n=t.map((o,i)=>Ko(o,s[i]));return o=>{for(let i=0;i<r;i++)a[i]=n[i](o);return a}},Cp=(t,s)=>{const a={...t,...s},r={};for(const n in a)t[n]!==void 0&&s[n]!==void 0&&(r[n]=Ko(t[n],s[n]));return n=>{for(const o in r)a[o]=r[o](n);return a}},Qo=(t,s)=>{const a=ct.createTransformer(s),r=Is(t),n=Is(s);return r.numVars===n.numVars&&r.numColors===n.numColors&&r.numNumbers>=n.numNumbers?rt(Yo(r.values,n.values),a):Go(t,s)},rs=(t,s,a)=>{const r=s-t;return r===0?1:(a-t)/r},yn=(t,s)=>a=>le(t,s,a);function kp(t){return typeof t=="number"?yn:typeof t=="string"?Ce.test(t)?_o:Qo:Array.isArray(t)?Yo:typeof t=="object"?Cp:yn}function Sp(t,s,a){const r=[],n=a||kp(t[0]),o=t.length-1;for(let i=0;i<o;i++){let c=n(t[i],t[i+1]);if(s){const m=Array.isArray(s)?s[i]||ce:s;c=rt(m,c)}r.push(c)}return r}function Jo(t,s,{clamp:a=!0,ease:r,mixer:n}={}){const o=t.length;if(Ar(o===s.length),o===1)return()=>s[0];t[0]>t[o-1]&&(t=[...t].reverse(),s=[...s].reverse());const i=Sp(s,r,n),c=i.length,m=l=>{let d=0;if(c>1)for(;d<t.length-2&&!(l<t[d+1]);d++);const p=rs(t[d],t[d+1],l);return i[d](p)};return a?l=>m(lt(t[0],t[o-1],l)):m}function Pp(t,s){const a=t[t.length-1];for(let r=1;r<=s;r++){const n=rs(0,s,r);t.push(le(a,1,n))}}function Ap(t){const s=[0];return Pp(s,t.length-1),s}function Tp(t,s){return t.map(a=>a*s)}function Dp(t,s){return t.map(()=>s||Mo).splice(0,t.length-1)}function Vs({duration:t=300,keyframes:s,times:a,ease:r="easeInOut"}){const n=mp(r)?r.map(fn):fn(r),o={done:!1,value:s[0]},i=Tp(a&&a.length===s.length?a:Ap(s),t),c=Jo(i,s,{ease:Array.isArray(n)?n:Dp(s,n)});return{calculatedDuration:t,next:m=>(o.value=c(m),o.done=m>=t,o)}}function Xo(t,s){return s?t*(1e3/s):0}const Rp=5;function Zo(t,s,a){const r=Math.max(s-Rp,0);return Xo(a-t(r),s-r)}const Aa=.001,Ep=.01,vn=10,Op=.05,Fp=1;function Mp({duration:t=800,bounce:s=.25,velocity:a=0,mass:r=1}){let n,o;sp(t<=nt(vn));let i=1-s;i=lt(Op,Fp,i),t=lt(Ep,vn,Xe(t)),i<1?(n=l=>{const d=l*i,p=d*t,u=d-a,h=Wa(l,i),x=Math.exp(-p);return Aa-u/h*x},o=l=>{const p=l*i*t,u=p*a+a,h=Math.pow(i,2)*Math.pow(l,2)*t,x=Math.exp(-p),f=Wa(Math.pow(l,2),i);return(-n(l)+Aa>0?-1:1)*((u-h)*x)/f}):(n=l=>{const d=Math.exp(-l*t),p=(l-a)*t+1;return-Aa+d*p},o=l=>{const d=Math.exp(-l*t),p=(a-l)*(t*t);return d*p});const c=5/t,m=Ip(n,o,c);if(t=nt(t),isNaN(m))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(m,2)*r;return{stiffness:l,damping:i*2*Math.sqrt(r*l),duration:t}}}const Lp=12;function Ip(t,s,a){let r=a;for(let n=1;n<Lp;n++)r=r-t(r)/s(r);return r}function Wa(t,s){return t*Math.sqrt(1-s*s)}const Vp=["duration","bounce"],zp=["stiffness","damping","mass"];function bn(t,s){return s.some(a=>t[a]!==void 0)}function Bp(t){let s={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!bn(t,zp)&&bn(t,Vp)){const a=Mp(t);s={...s,...a,mass:1},s.isResolvedFromDuration=!0}return s}function el({keyframes:t,restDelta:s,restSpeed:a,...r}){const n=t[0],o=t[t.length-1],i={done:!1,value:n},{stiffness:c,damping:m,mass:l,duration:d,velocity:p,isResolvedFromDuration:u}=Bp({...r,velocity:-Xe(r.velocity||0)}),h=p||0,x=m/(2*Math.sqrt(c*l)),f=o-n,g=Xe(Math.sqrt(c/l)),v=Math.abs(f)<5;a||(a=v?.01:2),s||(s=v?.005:.5);let w;if(x<1){const C=Wa(g,x);w=S=>{const M=Math.exp(-x*g*S);return o-M*((h+x*g*f)/C*Math.sin(C*S)+f*Math.cos(C*S))}}else if(x===1)w=C=>o-Math.exp(-g*C)*(f+(h+g*f)*C);else{const C=g*Math.sqrt(x*x-1);w=S=>{const M=Math.exp(-x*g*S),B=Math.min(C*S,300);return o-M*((h+x*g*f)*Math.sinh(B)+C*f*Math.cosh(B))/C}}return{calculatedDuration:u&&d||null,next:C=>{const S=w(C);if(u)i.done=C>=d;else{let M=h;C!==0&&(x<1?M=Zo(w,C,S):M=0);const B=Math.abs(M)<=a,D=Math.abs(o-S)<=s;i.done=B&&D}return i.value=i.done?o:S,i}}}function jn({keyframes:t,velocity:s=0,power:a=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:o=500,modifyTarget:i,min:c,max:m,restDelta:l=.5,restSpeed:d}){const p=t[0],u={done:!1,value:p},h=E=>c!==void 0&&E<c||m!==void 0&&E>m,x=E=>c===void 0?m:m===void 0||Math.abs(c-E)<Math.abs(m-E)?c:m;let f=a*s;const g=p+f,v=i===void 0?g:i(g);v!==g&&(f=v-p);const w=E=>-f*Math.exp(-E/r),C=E=>v+w(E),S=E=>{const $=w(E),k=C(E);u.done=Math.abs($)<=l,u.value=u.done?v:k};let M,B;const D=E=>{h(u.value)&&(M=E,B=el({keyframes:[u.value,x(u.value)],velocity:Zo(C,E,u.value),damping:n,stiffness:o,restDelta:l,restSpeed:d}))};return D(0),{calculatedDuration:null,next:E=>{let $=!1;return!B&&M===void 0&&($=!0,S(E),D(E)),M!==void 0&&E>M?B.next(E-M):(!$&&S(E),u)}}}const _p=t=>{const s=({timestamp:a})=>t(a);return{start:()=>ne.update(s,!0),stop:()=>Ze(s),now:()=>be.isProcessing?be.timestamp:performance.now()}},Nn=2e4;function wn(t){let s=0;const a=50;let r=t.next(s);for(;!r.done&&s<Nn;)s+=a,r=t.next(s);return s>=Nn?1/0:s}const $p={decay:jn,inertia:jn,tween:Vs,keyframes:Vs,spring:el};function zs({autoplay:t=!0,delay:s=0,driver:a=_p,keyframes:r,type:n="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:c="loop",onPlay:m,onStop:l,onComplete:d,onUpdate:p,...u}){let h=1,x=!1,f,g;const v=()=>{g=new Promise(I=>{f=I})};v();let w;const C=$p[n]||Vs;let S;C!==Vs&&typeof r[0]!="number"&&(S=Jo([0,100],r,{clamp:!1}),r=[0,100]);const M=C({...u,keyframes:r});let B;c==="mirror"&&(B=C({...u,keyframes:[...r].reverse(),velocity:-(u.velocity||0)}));let D="idle",E=null,$=null,k=null;M.calculatedDuration===null&&o&&(M.calculatedDuration=wn(M));const{calculatedDuration:A}=M;let b=1/0,O=1/0;A!==null&&(b=A+i,O=b*(o+1)-i);let z=0;const G=I=>{if($===null)return;h>0&&($=Math.min($,I)),h<0&&($=Math.min(I-O/h,$)),E!==null?z=E:z=Math.round(I-$)*h;const Y=z-s*(h>=0?1:-1),T=h>=0?Y<0:Y>O;z=Math.max(Y,0),D==="finished"&&E===null&&(z=O);let V=z,F=M;if(o){const ae=Math.min(z,O)/b;let ie=Math.floor(ae),xe=ae%1;!xe&&ae>=1&&(xe=1),xe===1&&ie--,ie=Math.min(ie,o+1),!!(ie%2)&&(c==="reverse"?(xe=1-xe,i&&(xe-=i/b)):c==="mirror"&&(F=B)),V=lt(0,1,xe)*b}const j=T?{done:!1,value:r[0]}:F.next(V);S&&(j.value=S(j.value));let{done:L}=j;!T&&A!==null&&(L=h>=0?z>=O:z<=0);const ee=E===null&&(D==="finished"||D==="running"&&L);return p&&p(j.value),ee&&q(),j},N=()=>{w&&w.stop(),w=void 0},U=()=>{D="idle",N(),f(),v(),$=k=null},q=()=>{D="finished",d&&d(),N(),f()},R=()=>{if(x)return;w||(w=a(G));const I=w.now();m&&m(),E!==null?$=I-E:(!$||D==="finished")&&($=I),D==="finished"&&v(),k=$,E=null,D="running",w.start()};t&&R();const Q={then(I,Y){return g.then(I,Y)},get time(){return Xe(z)},set time(I){I=nt(I),z=I,E!==null||!w||h===0?E=I:$=w.now()-I/h},get duration(){const I=M.calculatedDuration===null?wn(M):M.calculatedDuration;return Xe(I)},get speed(){return h},set speed(I){I===h||!w||(h=I,Q.time=Xe(z))},get state(){return D},play:R,pause:()=>{D="paused",E=z},stop:()=>{x=!0,D!=="idle"&&(D="idle",l&&l(),U())},cancel:()=>{k!==null&&G(k),U()},complete:()=>{D="finished"},sample:I=>($=0,G(I))};return Q}function Up(t){let s;return()=>(s===void 0&&(s=t()),s)}const qp=Up(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hp=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ws=10,Wp=2e4,Gp=(t,s)=>s.type==="spring"||t==="backgroundColor"||!Ro(s.ease);function Kp(t,s,{onUpdate:a,onComplete:r,...n}){if(!(qp()&&Hp.has(s)&&!n.repeatDelay&&n.repeatType!=="mirror"&&n.damping!==0&&n.type!=="inertia"))return!1;let i=!1,c,m,l=!1;const d=()=>{m=new Promise(C=>{c=C})};d();let{keyframes:p,duration:u=300,ease:h,times:x}=n;if(Gp(s,n)){const C=zs({...n,repeat:0,delay:0});let S={done:!1,value:p[0]};const M=[];let B=0;for(;!S.done&&B<Wp;)S=C.sample(B),M.push(S.value),B+=ws;x=void 0,p=M,u=B-ws,h="linear"}const f=rp(t.owner.current,s,p,{...n,duration:u,ease:h,times:x}),g=()=>{l=!1,f.cancel()},v=()=>{l=!0,ne.update(g),c(),d()};return f.onfinish=()=>{l||(t.set(np(p,n)),r&&r(),v())},{then(C,S){return m.then(C,S)},attachTimeline(C){return f.timeline=C,f.onfinish=null,ce},get time(){return Xe(f.currentTime||0)},set time(C){f.currentTime=nt(C)},get speed(){return f.playbackRate},set speed(C){f.playbackRate=C},get duration(){return Xe(u)},play:()=>{i||(f.play(),Ze(g))},pause:()=>f.pause(),stop:()=>{if(i=!0,f.playState==="idle")return;const{currentTime:C}=f;if(C){const S=zs({...n,autoplay:!1});t.setWithVelocity(S.sample(C-ws).value,S.sample(C).value,ws)}v()},complete:()=>{l||f.finish()},cancel:v}}function Yp({keyframes:t,delay:s,onUpdate:a,onComplete:r}){const n=()=>(a&&a(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ce,pause:ce,stop:ce,then:o=>(o(),Promise.resolve()),cancel:ce,complete:ce});return s?zs({keyframes:[0,1],duration:0,delay:s,onComplete:n}):n()}const Qp={type:"spring",stiffness:500,damping:25,restSpeed:10},Jp=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Xp={type:"keyframes",duration:.8},Zp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eu=(t,{keyframes:s})=>s.length>2?Xp:jt.has(t)?t.startsWith("scale")?Jp(s[1]):Qp:Zp,Ga=(t,s)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(ct.test(s)||s==="0")&&!s.startsWith("url(")),tu=new Set(["brightness","contrast","saturate","opacity"]);function su(t){const[s,a]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[r]=a.match(na)||[];if(!r)return t;const n=a.replace(r,"");let o=tu.has(s)?1:0;return r!==a&&(o*=100),s+"("+o+n+")"}const au=/([a-z-]*)\(.*?\)/g,Ka={...ct,getAnimatableNone:t=>{const s=t.match(au);return s?s.map(su).join(" "):t}},ru={...xo,color:Ce,backgroundColor:Ce,outlineColor:Ce,fill:Ce,stroke:Ce,borderColor:Ce,borderTopColor:Ce,borderRightColor:Ce,borderBottomColor:Ce,borderLeftColor:Ce,filter:Ka,WebkitFilter:Ka},Er=t=>ru[t];function tl(t,s){let a=Er(t);return a!==Ka&&(a=ct),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const sl=t=>/^0[^.\s]+$/.test(t);function nu(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||sl(t)}function iu(t,s,a,r){const n=Ga(s,a);let o;Array.isArray(a)?o=[...a]:o=[null,a];const i=r.from!==void 0?r.from:t.get();let c;const m=[];for(let l=0;l<o.length;l++)o[l]===null&&(o[l]=l===0?i:o[l-1]),nu(o[l])&&m.push(l),typeof o[l]=="string"&&o[l]!=="none"&&o[l]!=="0"&&(c=o[l]);if(n&&m.length&&c)for(let l=0;l<m.length;l++){const d=m[l];o[d]=tl(s,c)}return o}function ou({when:t,delay:s,delayChildren:a,staggerChildren:r,staggerDirection:n,repeat:o,repeatType:i,repeatDelay:c,from:m,elapsed:l,...d}){return!!Object.keys(d).length}function Or(t,s){return t[s]||t.default||t}const lu={skipAnimations:!1},Fr=(t,s,a,r={})=>n=>{const o=Or(r,t)||{},i=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-nt(i);const m=iu(s,t,a,o),l=m[0],d=m[m.length-1],p=Ga(t,l),u=Ga(t,d);let h={keyframes:m,velocity:s.getVelocity(),ease:"easeOut",...o,delay:-c,onUpdate:x=>{s.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{n(),o.onComplete&&o.onComplete()}};if(ou(o)||(h={...h,...eu(t,h)}),h.duration&&(h.duration=nt(h.duration)),h.repeatDelay&&(h.repeatDelay=nt(h.repeatDelay)),!p||!u||ap.current||o.type===!1||lu.skipAnimations)return Yp(h);if(!r.isHandoff&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate){const x=Kp(s,t,h);if(x)return x}return zs(h)};function Bs(t){return!!(Te(t)&&t.add)}const al=t=>/^\-?\d*\.?\d+$/.test(t);function Mr(t,s){t.indexOf(s)===-1&&t.push(s)}function Lr(t,s){const a=t.indexOf(s);a>-1&&t.splice(a,1)}class Ir{constructor(){this.subscriptions=[]}add(s){return Mr(this.subscriptions,s),()=>Lr(this.subscriptions,s)}notify(s,a,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](s,a,r);else for(let o=0;o<n;o++){const i=this.subscriptions[o];i&&i(s,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cu=t=>!isNaN(parseFloat(t));class du{constructor(s,a={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,n=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=be;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,ne.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ne.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=s,this.canTrackVelocity=cu(this.current),this.owner=a.owner}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new Ir);const r=this.events[s].add(a);return s==="change"?()=>{r(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s,a=!0){!a||!this.passiveEffect?this.updateAndNotify(s,a):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,a,r){this.set(a),this.prev=s,this.timeDelta=r}jump(s){this.updateAndNotify(s),this.prev=s,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Xo(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ft(t,s){return new du(t,s)}const rl=t=>s=>s.test(t),mu={test:t=>t==="auto",parse:t=>t},nl=[Nt,J,Ge,st,ym,gm,mu],Gt=t=>nl.find(rl(t)),pu=[...nl,Ce,ct],uu=t=>pu.find(rl(t));function xu(t,s,a){t.hasValue(s)?t.getValue(s).set(a):t.addValue(s,Ft(a))}function hu(t,s){const a=oa(t,s);let{transitionEnd:r={},transition:n={},...o}=a?t.makeTargetAnimatable(a,!1):{};o={...o,...r};for(const i in o){const c=Em(o[i]);xu(t,i,c)}}function fu(t,s,a){var r,n;const o=Object.keys(s).filter(c=>!t.hasValue(c)),i=o.length;if(i)for(let c=0;c<i;c++){const m=o[c],l=s[m];let d=null;Array.isArray(l)&&(d=l[0]),d===null&&(d=(n=(r=a[m])!==null&&r!==void 0?r:t.readValue(m))!==null&&n!==void 0?n:s[m]),d!=null&&(typeof d=="string"&&(al(d)||sl(d))?d=parseFloat(d):!uu(d)&&ct.test(l)&&(d=tl(m,l)),t.addValue(m,Ft(d,{owner:t})),a[m]===void 0&&(a[m]=d),d!==null&&t.setBaseTarget(m,d))}}function gu(t,s){return s?(s[t]||s.default||s).from:void 0}function yu(t,s,a){const r={};for(const n in t){const o=gu(n,s);if(o!==void 0)r[n]=o;else{const i=a.getValue(n);i&&(r[n]=i.get())}}return r}function vu({protectedKeys:t,needsAnimating:s},a){const r=t.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,r}function bu(t,s){const a=t.get();if(Array.isArray(s)){for(let r=0;r<s.length;r++)if(s[r]!==a)return!0}else return a!==s}function il(t,s,{delay:a=0,transitionOverride:r,type:n}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...c}=t.makeTargetAnimatable(s);const m=t.getValue("willChange");r&&(o=r);const l=[],d=n&&t.animationState&&t.animationState.getState()[n];for(const p in c){const u=t.getValue(p),h=c[p];if(!u||h===void 0||d&&vu(d,p))continue;const x={delay:a,elapsed:0,...Or(o||{},p)};if(window.HandoffAppearAnimations){const v=t.getProps()[io];if(v){const w=window.HandoffAppearAnimations(v,p,u,ne);w!==null&&(x.elapsed=w,x.isHandoff=!0)}}let f=!x.isHandoff&&!bu(u,h);if(x.type==="spring"&&(u.getVelocity()||x.velocity)&&(f=!1),u.animation&&(f=!1),f)continue;u.start(Fr(p,u,h,t.shouldReduceMotion&&jt.has(p)?{type:!1}:x));const g=u.animation;Bs(m)&&(m.add(p),g.then(()=>m.remove(p))),l.push(g)}return i&&Promise.all(l).then(()=>{i&&hu(t,i)}),l}function Ya(t,s,a={}){const r=oa(t,s,a.custom);let{transition:n=t.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(n=a.transitionOverride);const o=r?()=>Promise.all(il(t,r,a)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:l=0,staggerChildren:d,staggerDirection:p}=n;return ju(t,s,l+m,d,p,a)}:()=>Promise.resolve(),{when:c}=n;if(c){const[m,l]=c==="beforeChildren"?[o,i]:[i,o];return m().then(()=>l())}else return Promise.all([o(),i(a.delay)])}function ju(t,s,a=0,r=0,n=1,o){const i=[],c=(t.variantChildren.size-1)*r,m=n===1?(l=0)=>l*r:(l=0)=>c-l*r;return Array.from(t.variantChildren).sort(Nu).forEach((l,d)=>{l.notify("AnimationStart",s),i.push(Ya(l,s,{...o,delay:a+m(d)}).then(()=>l.notify("AnimationComplete",s)))}),Promise.all(i)}function Nu(t,s){return t.sortNodePosition(s)}function wu(t,s,a={}){t.notify("AnimationStart",s);let r;if(Array.isArray(s)){const n=s.map(o=>Ya(t,o,a));r=Promise.all(n)}else if(typeof s=="string")r=Ya(t,s,a);else{const n=typeof s=="function"?oa(t,s,a.custom):s;r=Promise.all(il(t,n,a))}return r.then(()=>t.notify("AnimationComplete",s))}const Cu=[...yr].reverse(),ku=yr.length;function Su(t){return s=>Promise.all(s.map(({animation:a,options:r})=>wu(t,a,r)))}function Pu(t){let s=Su(t);const a=Tu();let r=!0;const n=(m,l)=>{const d=oa(t,l);if(d){const{transition:p,transitionEnd:u,...h}=d;m={...m,...h,...u}}return m};function o(m){s=m(t)}function i(m,l){const d=t.getProps(),p=t.getVariantContext(!0)||{},u=[],h=new Set;let x={},f=1/0;for(let v=0;v<ku;v++){const w=Cu[v],C=a[w],S=d[w]!==void 0?d[w]:p[w],M=ss(S),B=w===l?C.isActive:null;B===!1&&(f=v);let D=S===p[w]&&S!==d[w]&&M;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),C.protectedKeys={...x},!C.isActive&&B===null||!S&&!C.prevProp||aa(S)||typeof S=="boolean")continue;let $=Au(C.prevProp,S)||w===l&&C.isActive&&!D&&M||v>f&&M,k=!1;const A=Array.isArray(S)?S:[S];let b=A.reduce(n,{});B===!1&&(b={});const{prevResolvedValues:O={}}=C,z={...O,...b},G=N=>{$=!0,h.has(N)&&(k=!0,h.delete(N)),C.needsAnimating[N]=!0};for(const N in z){const U=b[N],q=O[N];if(x.hasOwnProperty(N))continue;let R=!1;Ls(U)&&Ls(q)?R=!To(U,q):R=U!==q,R?U!==void 0?G(N):h.add(N):U!==void 0&&h.has(N)?G(N):C.protectedKeys[N]=!0}C.prevProp=S,C.prevResolvedValues=b,C.isActive&&(x={...x,...b}),r&&t.blockInitialAnimation&&($=!1),$&&(!D||k)&&u.push(...A.map(N=>({animation:N,options:{type:w,...m}})))}if(h.size){const v={};h.forEach(w=>{const C=t.getBaseTarget(w);C!==void 0&&(v[w]=C)}),u.push({animation:v})}let g=!!u.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?s(u):Promise.resolve()}function c(m,l,d){var p;if(a[m].isActive===l)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(h=>{var x;return(x=h.animationState)===null||x===void 0?void 0:x.setActive(m,l)}),a[m].isActive=l;const u=i(d,m);for(const h in a)a[h].protectedKeys={};return u}return{animateChanges:i,setActive:c,setAnimateFunction:o,getState:()=>a}}function Au(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!To(s,t):!1}function pt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tu(){return{animate:pt(!0),whileInView:pt(),whileHover:pt(),whileTap:pt(),whileDrag:pt(),whileFocus:pt(),exit:pt()}}class Du extends mt{constructor(s){super(s),s.animationState||(s.animationState=Pu(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();this.unmount(),aa(s)&&(this.unmount=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){}}let Ru=0;class Eu extends mt{constructor(){super(...arguments),this.id=Ru++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a,custom:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===n)return;const o=this.node.animationState.setActive("exit",!s,{custom:r??this.node.getProps().custom});a&&!s&&o.then(()=>a(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const Ou={animation:{Feature:Du},exit:{Feature:Eu}},Cn=(t,s)=>Math.abs(t-s);function Fu(t,s){const a=Cn(t.x,s.x),r=Cn(t.y,s.y);return Math.sqrt(a**2+r**2)}class ol{constructor(s,a,{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Da(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,h=Fu(p.offset,{x:0,y:0})>=3;if(!u&&!h)return;const{point:x}=p,{timestamp:f}=be;this.history.push({...x,timestamp:f});const{onStart:g,onMove:v}=this.handlers;u||(g&&g(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,u)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Ta(u,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(p,u)=>{this.end();const{onEnd:h,onSessionEnd:x,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Da(p.type==="pointercancel"?this.lastMoveEventInfo:Ta(u,this.transformPagePoint),this.history);this.startEvent&&h&&h(p,g),x&&x(p,g)},!Co(s))return;this.dragSnapToOrigin=o,this.handlers=a,this.transformPagePoint=r,this.contextWindow=n||window;const i=ia(s),c=Ta(i,this.transformPagePoint),{point:m}=c,{timestamp:l}=be;this.history=[{...m,timestamp:l}];const{onSessionStart:d}=a;d&&d(s,Da(c,this.history)),this.removeListeners=rt(Je(this.contextWindow,"pointermove",this.handlePointerMove),Je(this.contextWindow,"pointerup",this.handlePointerUp),Je(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Ze(this.updatePoint)}}function Ta(t,s){return s?{point:s(t.point)}:t}function kn(t,s){return{x:t.x-s.x,y:t.y-s.y}}function Da({point:t},s){return{point:t,delta:kn(t,ll(s)),offset:kn(t,Mu(s)),velocity:Lu(s,.1)}}function Mu(t){return t[0]}function ll(t){return t[t.length-1]}function Lu(t,s){if(t.length<2)return{x:0,y:0};let a=t.length-1,r=null;const n=ll(t);for(;a>=0&&(r=t[a],!(n.timestamp-r.timestamp>nt(s)));)a--;if(!r)return{x:0,y:0};const o=Xe(n.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(n.x-r.x)/o,y:(n.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Fe(t){return t.max-t.min}function Qa(t,s=0,a=.01){return Math.abs(t-s)<=a}function Sn(t,s,a,r=.5){t.origin=r,t.originPoint=le(s.min,s.max,t.origin),t.scale=Fe(a)/Fe(s),(Qa(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=le(a.min,a.max,t.origin)-t.originPoint,(Qa(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Zt(t,s,a,r){Sn(t.x,s.x,a.x,r?r.originX:void 0),Sn(t.y,s.y,a.y,r?r.originY:void 0)}function Pn(t,s,a){t.min=a.min+s.min,t.max=t.min+Fe(s)}function Iu(t,s,a){Pn(t.x,s.x,a.x),Pn(t.y,s.y,a.y)}function An(t,s,a){t.min=s.min-a.min,t.max=t.min+Fe(s)}function es(t,s,a){An(t.x,s.x,a.x),An(t.y,s.y,a.y)}function Vu(t,{min:s,max:a},r){return s!==void 0&&t<s?t=r?le(s,t,r.min):Math.max(t,s):a!==void 0&&t>a&&(t=r?le(a,t,r.max):Math.min(t,a)),t}function Tn(t,s,a){return{min:s!==void 0?t.min+s:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function zu(t,{top:s,left:a,bottom:r,right:n}){return{x:Tn(t.x,a,n),y:Tn(t.y,s,r)}}function Dn(t,s){let a=s.min-t.min,r=s.max-t.max;return s.max-s.min<t.max-t.min&&([a,r]=[r,a]),{min:a,max:r}}function Bu(t,s){return{x:Dn(t.x,s.x),y:Dn(t.y,s.y)}}function _u(t,s){let a=.5;const r=Fe(t),n=Fe(s);return n>r?a=rs(s.min,s.max-r,t.min):r>n&&(a=rs(t.min,t.max-n,s.min)),lt(0,1,a)}function $u(t,s){const a={};return s.min!==void 0&&(a.min=s.min-t.min),s.max!==void 0&&(a.max=s.max-t.min),a}const Ja=.35;function Uu(t=Ja){return t===!1?t=0:t===!0&&(t=Ja),{x:Rn(t,"left","right"),y:Rn(t,"top","bottom")}}function Rn(t,s,a){return{min:En(t,s),max:En(t,a)}}function En(t,s){return typeof t=="number"?t:t[s]||0}const On=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dt=()=>({x:On(),y:On()}),Fn=()=>({min:0,max:0}),pe=()=>({x:Fn(),y:Fn()});function Le(t){return[t("x"),t("y")]}function cl({top:t,left:s,right:a,bottom:r}){return{x:{min:s,max:a},y:{min:t,max:r}}}function qu({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function Hu(t,s){if(!s)return t;const a=s({x:t.left,y:t.top}),r=s({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function Ra(t){return t===void 0||t===1}function Xa({scale:t,scaleX:s,scaleY:a}){return!Ra(t)||!Ra(s)||!Ra(a)}function ut(t){return Xa(t)||dl(t)||t.z||t.rotate||t.rotateX||t.rotateY}function dl(t){return Mn(t.x)||Mn(t.y)}function Mn(t){return t&&t!=="0%"}function _s(t,s,a){const r=t-a,n=s*r;return a+n}function Ln(t,s,a,r,n){return n!==void 0&&(t=_s(t,n,r)),_s(t,a,r)+s}function Za(t,s=0,a=1,r,n){t.min=Ln(t.min,s,a,r,n),t.max=Ln(t.max,s,a,r,n)}function ml(t,{x:s,y:a}){Za(t.x,s.translate,s.scale,s.originPoint),Za(t.y,a.translate,a.scale,a.originPoint)}function Wu(t,s,a,r=!1){const n=a.length;if(!n)return;s.x=s.y=1;let o,i;for(let c=0;c<n;c++){o=a[c],i=o.projectionDelta;const m=o.instance;m&&m.style&&m.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Rt(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(s.x*=i.x.scale,s.y*=i.y.scale,ml(t,i)),r&&ut(o.latestValues)&&Rt(t,o.latestValues))}s.x=In(s.x),s.y=In(s.y)}function In(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function at(t,s){t.min=t.min+s,t.max=t.max+s}function Vn(t,s,[a,r,n]){const o=s[n]!==void 0?s[n]:.5,i=le(t.min,t.max,o);Za(t,s[a],s[r],i,s.scale)}const Gu=["x","scaleX","originX"],Ku=["y","scaleY","originY"];function Rt(t,s){Vn(t.x,s,Gu),Vn(t.y,s,Ku)}function pl(t,s){return cl(Hu(t.getBoundingClientRect(),s))}function Yu(t,s,a){const r=pl(t,a),{scroll:n}=s;return n&&(at(r.x,n.offset.x),at(r.y,n.offset.y)),r}const ul=({current:t})=>t?t.ownerDocument.defaultView:null,Qu=new WeakMap;class Ju{constructor(s){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pe(),this.visualElement=s}start(s,{snapToCursor:a=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const n=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(ia(d,"page").point)},o=(d,p)=>{const{drag:u,dragPropagation:h,onDragStart:x}=this.getProps();if(u&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=So(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Le(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Ge.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const C=w.layout.layoutBox[g];C&&(v=Fe(C)*(parseFloat(v)/100))}}this.originPoint[g]=v}),x&&ne.update(()=>x(d,p),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},i=(d,p)=>{const{dragPropagation:u,dragDirectionLock:h,onDirectionLock:x,onDrag:f}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:g}=p;if(h&&this.currentDirection===null){this.currentDirection=Xu(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,g),this.updateAxis("y",p.point,g),this.visualElement.render(),f&&f(d,p)},c=(d,p)=>this.stop(d,p),m=()=>Le(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new ol(s,{onSessionStart:n,onStart:o,onMove:i,onSessionEnd:c,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:ul(this.visualElement)})}stop(s,a){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=a;this.startAnimation(n);const{onDragEnd:o}=this.getProps();o&&ne.update(()=>o(s,a))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,r){const{drag:n}=this.getProps();if(!r||!Cs(s,n,this.currentDirection))return;const o=this.getAxisMotionValue(s);let i=this.originPoint[s]+r[s];this.constraints&&this.constraints[s]&&(i=Vu(i,this.constraints[s],this.elastic[s])),o.set(i)}resolveConstraints(){var s;const{dragConstraints:a,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,o=this.constraints;a&&At(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&n?this.constraints=zu(n.layoutBox,a):this.constraints=!1,this.elastic=Uu(r),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Le(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=$u(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!At(s))return!1;const r=s.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const o=Yu(r,n.root,this.visualElement.getTransformPagePoint());let i=Bu(n.layout.layoutBox,o);if(a){const c=a(qu(i));this.hasMutatedConstraints=!!c,c&&(i=cl(c))}return i}startAnimation(s){const{drag:a,dragMomentum:r,dragElastic:n,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:c}=this.getProps(),m=this.constraints||{},l=Le(d=>{if(!Cs(d,a,this.currentDirection))return;let p=m&&m[d]||{};i&&(p={min:0,max:0});const u=n?200:1e6,h=n?40:1e7,x={type:"inertia",velocity:r?s[d]:0,bounceStiffness:u,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(d,x)});return Promise.all(l).then(c)}startAxisValueAnimation(s,a){const r=this.getAxisMotionValue(s);return r.start(Fr(s,r,0,a))}stopAnimation(){Le(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){Le(s=>{var a;return(a=this.getAxisMotionValue(s).animation)===null||a===void 0?void 0:a.pause()})}getAnimationState(s){var a;return(a=this.getAxisMotionValue(s).animation)===null||a===void 0?void 0:a.state}getAxisMotionValue(s){const a="_drag"+s.toUpperCase(),r=this.visualElement.getProps(),n=r[a];return n||this.visualElement.getValue(s,(r.initial?r.initial[s]:void 0)||0)}snapToCursor(s){Le(a=>{const{drag:r}=this.getProps();if(!Cs(a,r,this.currentDirection))return;const{projection:n}=this.visualElement,o=this.getAxisMotionValue(a);if(n&&n.layout){const{min:i,max:c}=n.layout.layoutBox[a];o.set(s[a]-le(i,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!At(a)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Le(i=>{const c=this.getAxisMotionValue(i);if(c){const m=c.get();n[i]=_u({min:m,max:m},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Le(i=>{if(!Cs(i,s,null))return;const c=this.getAxisMotionValue(i),{min:m,max:l}=this.constraints[i];c.set(le(m,l,n[i]))})}addListeners(){if(!this.visualElement.current)return;Qu.set(this.visualElement,this);const s=this.visualElement.current,a=Je(s,"pointerdown",m=>{const{drag:l,dragListener:d=!0}=this.getProps();l&&d&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();At(m)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,o=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),r();const i=Ke(window,"resize",()=>this.scalePositionWithinConstraints()),c=n.addEventListener("didUpdate",({delta:m,hasLayoutChanged:l})=>{this.isDragging&&l&&(Le(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=m[d].translate,p.set(p.get()+m[d].translate))}),this.visualElement.render())});return()=>{i(),a(),o(),c&&c()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:i=Ja,dragMomentum:c=!0}=s;return{...s,drag:a,dragDirectionLock:r,dragPropagation:n,dragConstraints:o,dragElastic:i,dragMomentum:c}}}function Cs(t,s,a){return(s===!0||s===t)&&(a===null||a===t)}function Xu(t,s=10){let a=null;return Math.abs(t.y)>s?a="y":Math.abs(t.x)>s&&(a="x"),a}class Zu extends mt{constructor(s){super(s),this.removeGroupControls=ce,this.removeListeners=ce,this.controls=new Ju(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ce}unmount(){this.removeGroupControls(),this.removeListeners()}}const zn=t=>(s,a)=>{t&&ne.update(()=>t(s,a))};class ex extends mt{constructor(){super(...arguments),this.removePointerDownListener=ce}onPointerDown(s){this.session=new ol(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ul(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:zn(s),onStart:zn(a),onMove:r,onEnd:(o,i)=>{delete this.session,n&&ne.update(()=>n(o,i))}}}mount(){this.removePointerDownListener=Je(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tx(){const t=y.useContext(ta);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:r}=t,n=y.useId();return y.useEffect(()=>r(n),[]),!s&&a?[!1,()=>a&&a(n)]:[!0]}const Rs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bn(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const Kt={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(J.test(t))t=parseFloat(t);else return t;const a=Bn(t,s.target.x),r=Bn(t,s.target.y);return`${a}% ${r}%`}},sx={correct:(t,{treeScale:s,projectionDelta:a})=>{const r=t,n=ct.parse(t);if(n.length>5)return r;const o=ct.createTransformer(t),i=typeof n[0]!="number"?1:0,c=a.x.scale*s.x,m=a.y.scale*s.y;n[0+i]/=c,n[1+i]/=m;const l=le(c,m,.5);return typeof n[2+i]=="number"&&(n[2+i]/=l),typeof n[3+i]=="number"&&(n[3+i]/=l),o(n)}};class ax extends Ie.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r,layoutId:n}=this.props,{projection:o}=s;dm(rx),o&&(a.group&&a.group.add(o),r&&r.register&&n&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Rs.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:r,drag:n,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,n||s.layoutDependency!==a||a===void 0?i.willUpdate():this.safeToRemove(),s.isPresent!==o&&(o?i.promote():i.relegate()||ne.postRender(()=>{const c=i.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),queueMicrotask(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:n}=s;n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function xl(t){const[s,a]=tx(),r=y.useContext(br);return Ie.createElement(ax,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(lo),isPresent:s,safeToRemove:a})}const rx={borderRadius:{...Kt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kt,borderTopRightRadius:Kt,borderBottomLeftRadius:Kt,borderBottomRightRadius:Kt,boxShadow:sx},hl=["TopLeft","TopRight","BottomLeft","BottomRight"],nx=hl.length,_n=t=>typeof t=="string"?parseFloat(t):t,$n=t=>typeof t=="number"||J.test(t);function ix(t,s,a,r,n,o){n?(t.opacity=le(0,a.opacity!==void 0?a.opacity:1,ox(r)),t.opacityExit=le(s.opacity!==void 0?s.opacity:1,0,lx(r))):o&&(t.opacity=le(s.opacity!==void 0?s.opacity:1,a.opacity!==void 0?a.opacity:1,r));for(let i=0;i<nx;i++){const c=`border${hl[i]}Radius`;let m=Un(s,c),l=Un(a,c);if(m===void 0&&l===void 0)continue;m||(m=0),l||(l=0),m===0||l===0||$n(m)===$n(l)?(t[c]=Math.max(le(_n(m),_n(l),r),0),(Ge.test(l)||Ge.test(m))&&(t[c]+="%")):t[c]=l}(s.rotate||a.rotate)&&(t.rotate=le(s.rotate||0,a.rotate||0,r))}function Un(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const ox=fl(0,.5,Vo),lx=fl(.5,.95,ce);function fl(t,s,a){return r=>r<t?0:r>s?1:a(rs(t,s,r))}function qn(t,s){t.min=s.min,t.max=s.max}function Me(t,s){qn(t.x,s.x),qn(t.y,s.y)}function Hn(t,s,a,r,n){return t-=s,t=_s(t,1/a,r),n!==void 0&&(t=_s(t,1/n,r)),t}function cx(t,s=0,a=1,r=.5,n,o=t,i=t){if(Ge.test(s)&&(s=parseFloat(s),s=le(i.min,i.max,s/100)-i.min),typeof s!="number")return;let c=le(o.min,o.max,r);t===o&&(c-=s),t.min=Hn(t.min,s,a,c,n),t.max=Hn(t.max,s,a,c,n)}function Wn(t,s,[a,r,n],o,i){cx(t,s[a],s[r],s[n],s.scale,o,i)}const dx=["x","scaleX","originX"],mx=["y","scaleY","originY"];function Gn(t,s,a,r){Wn(t.x,s,dx,a?a.x:void 0,r?r.x:void 0),Wn(t.y,s,mx,a?a.y:void 0,r?r.y:void 0)}function Kn(t){return t.translate===0&&t.scale===1}function gl(t){return Kn(t.x)&&Kn(t.y)}function px(t,s){return t.x.min===s.x.min&&t.x.max===s.x.max&&t.y.min===s.y.min&&t.y.max===s.y.max}function yl(t,s){return Math.round(t.x.min)===Math.round(s.x.min)&&Math.round(t.x.max)===Math.round(s.x.max)&&Math.round(t.y.min)===Math.round(s.y.min)&&Math.round(t.y.max)===Math.round(s.y.max)}function Yn(t){return Fe(t.x)/Fe(t.y)}class ux{constructor(){this.members=[]}add(s){Mr(this.members,s),s.scheduleRender()}remove(s){if(Lr(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(n=>s===n);if(a===0)return!1;let r;for(let n=a;n>=0;n--){const o=this.members[n];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(s,a){const r=this.lead;if(s!==r&&(this.prevLead=r,this.lead=s,s.show(),r)){r.instance&&r.scheduleRender(),s.scheduleRender(),s.resumeFrom=r,a&&(s.resumeFrom.preserveOpacity=!0),r.snapshot&&(s.snapshot=r.snapshot,s.snapshot.latestValues=r.animationValues||r.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:n}=s.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:r}=s;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qn(t,s,a){let r="";const n=t.x.translate/s.x,o=t.y.translate/s.y;if((n||o)&&(r=`translate3d(${n}px, ${o}px, 0) `),(s.x!==1||s.y!==1)&&(r+=`scale(${1/s.x}, ${1/s.y}) `),a){const{rotate:m,rotateX:l,rotateY:d}=a;m&&(r+=`rotate(${m}deg) `),l&&(r+=`rotateX(${l}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=t.x.scale*s.x,c=t.y.scale*s.y;return(i!==1||c!==1)&&(r+=`scale(${i}, ${c})`),r||"none"}const xx=(t,s)=>t.depth-s.depth;class hx{constructor(){this.children=[],this.isDirty=!1}add(s){Mr(this.children,s),this.isDirty=!0}remove(s){Lr(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(xx),this.isDirty=!1,this.children.forEach(s)}}function fx(t,s){const a=performance.now(),r=({timestamp:n})=>{const o=n-a;o>=s&&(Ze(r),t(o-s))};return ne.read(r,!0),()=>Ze(r)}function gx(t){window.MotionDebug&&window.MotionDebug.record(t)}function yx(t){return t instanceof SVGElement&&t.tagName!=="svg"}function vx(t,s,a){const r=Te(t)?t:Ft(t);return r.start(Fr("",r,s,a)),r.animation}const Jn=["","X","Y","Z"],bx={visibility:"hidden"},Xn=1e3;let jx=0;const xt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function vl({attachResizeListener:t,defaultParent:s,measureScroll:a,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(i={},c=s==null?void 0:s()){this.id=jx++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xt.totalNodes=xt.resolvedTargetDeltas=xt.recalculatedProjection=0,this.nodes.forEach(Cx),this.nodes.forEach(Tx),this.nodes.forEach(Dx),this.nodes.forEach(kx),gx(xt)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new hx)}addEventListener(i,c){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Ir),this.eventHandlers.get(i).add(c)}notifyListeners(i,...c){const m=this.eventHandlers.get(i);m&&m.notify(...c)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yx(i),this.instance=i;const{layoutId:m,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(l||m)&&(this.isLayoutDirty=!0),t){let p;const u=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=fx(u,250),Rs.hasAnimatedSinceResize&&(Rs.hasAnimatedSinceResize=!1,this.nodes.forEach(ei))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&d&&(m||l)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:u,hasRelativeTargetChanged:h,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||d.getDefaultTransition()||Mx,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=d.getProps(),w=!this.targetLayout||!yl(this.targetLayout,x)||h,C=!u&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||u&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,C);const S={...Or(f,"layout"),onPlay:g,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else u||ei(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ze(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rx),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:m}=this.options;if(c===void 0&&!m)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zn);return}this.isUpdating||this.nodes.forEach(Px),this.isUpdating=!1,this.nodes.forEach(Ax),this.nodes.forEach(Nx),this.nodes.forEach(wx),this.clearAllSnapshots();const c=performance.now();be.delta=lt(0,1e3/60,c-be.timestamp),be.timestamp=c,be.isProcessing=!0,ja.update.process(be),ja.preRender.process(be),ja.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Sx),this.sharedNodes.forEach(Ex)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:a(this.instance)})}resetTransform(){if(!n)return;const i=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!gl(this.projectionDelta),m=this.getTransformTemplate(),l=m?m(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;i&&(c||ut(this.latestValues)||d)&&(n(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const c=this.measurePageBox();let m=this.removeElementScroll(c);return i&&(m=this.removeTransform(m)),Lx(m),{animationId:this.root.animationId,measuredBox:c,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return pe();const c=i.measureViewportBox(),{scroll:m}=this.root;return m&&(at(c.x,m.offset.x),at(c.y,m.offset.y)),c}removeElementScroll(i){const c=pe();Me(c,i);for(let m=0;m<this.path.length;m++){const l=this.path[m],{scroll:d,options:p}=l;if(l!==this.root&&d&&p.layoutScroll){if(d.isRoot){Me(c,i);const{scroll:u}=this.root;u&&(at(c.x,-u.offset.x),at(c.y,-u.offset.y))}at(c.x,d.offset.x),at(c.y,d.offset.y)}}return c}applyTransform(i,c=!1){const m=pe();Me(m,i);for(let l=0;l<this.path.length;l++){const d=this.path[l];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rt(m,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ut(d.latestValues)&&Rt(m,d.latestValues)}return ut(this.latestValues)&&Rt(m,this.latestValues),m}removeTransform(i){const c=pe();Me(c,i);for(let m=0;m<this.path.length;m++){const l=this.path[m];if(!l.instance||!ut(l.latestValues))continue;Xa(l.latestValues)&&l.updateSnapshot();const d=pe(),p=l.measurePageBox();Me(d,p),Gn(c,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return ut(this.latestValues)&&Gn(c,this.latestValues),c}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var c;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==m;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:u}=this.options;if(!(!this.layout||!(p||u))){if(this.resolvedRelativeTargetAt=be.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),es(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Me(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pe(),this.targetWithTransforms=pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Iu(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Me(this.target,this.layout.layoutBox),ml(this.target,this.targetDelta)):Me(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),es(this.relativeTargetOrigin,this.target,h.target),Me(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xt.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xa(this.parent.latestValues)||dl(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const c=this.getLead(),m=!!this.resumingFrom||this!==c;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===be.timestamp&&(l=!1),l)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Me(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,h=this.treeScale.y;Wu(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:x}=c;if(!x){this.projectionTransform&&(this.projectionDelta=Dt(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Dt(),this.projectionDeltaWithTransform=Dt());const f=this.projectionTransform;Zt(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=Qn(this.projectionDelta,this.treeScale),(this.projectionTransform!==f||this.treeScale.x!==u||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),xt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,c=!1){const m=this.snapshot,l=m?m.latestValues:{},d={...this.latestValues},p=Dt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const u=pe(),h=m?m.source:void 0,x=this.layout?this.layout.source:void 0,f=h!==x,g=this.getStack(),v=!g||g.members.length<=1,w=!!(f&&!v&&this.options.crossfade===!0&&!this.path.some(Fx));this.animationProgress=0;let C;this.mixTargetDelta=S=>{const M=S/1e3;ti(p.x,i.x,M),ti(p.y,i.y,M),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(es(u,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ox(this.relativeTarget,this.relativeTargetOrigin,u,M),C&&px(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=pe()),Me(C,this.relativeTarget)),f&&(this.animationValues=d,ix(d,l,this.latestValues,M,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ze(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{Rs.hasAnimatedSinceResize=!0,this.currentAnimation=vx(0,Xn,{...i,onUpdate:c=>{this.mixTargetDelta(c),i.onUpdate&&i.onUpdate(c)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xn),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:c,target:m,layout:l,latestValues:d}=i;if(!(!c||!m||!l)){if(this!==i&&this.layout&&l&&bl(this.options.animationType,this.layout.layoutBox,l.layoutBox)){m=this.target||pe();const p=Fe(this.layout.layoutBox.x);m.x.min=i.target.x.min,m.x.max=m.x.min+p;const u=Fe(this.layout.layoutBox.y);m.y.min=i.target.y.min,m.y.max=m.y.min+u}Me(c,m),Rt(c,d),Zt(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(i,c){this.sharedNodes.has(i)||this.sharedNodes.set(i,new ux),this.sharedNodes.get(i).add(c);const l=c.options.initialPromotionConfig;c.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(c):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:c}=this.options;return c?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:c}=this.options;return c?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:c,preserveFollowOpacity:m}={}){const l=this.getStack();l&&l.promote(this,m),i&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let c=!1;const{latestValues:m}=i;if((m.rotate||m.rotateX||m.rotateY||m.rotateZ)&&(c=!0),!c)return;const l={};for(let d=0;d<Jn.length;d++){const p="rotate"+Jn[d];m[p]&&(l[p]=m[p],i.setStaticValue(p,0))}i.render();for(const d in l)i.setStaticValue(d,l[d]);i.scheduleRender()}getProjectionStyles(i){var c,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bx;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Ds(i==null?void 0:i.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Ds(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!ut(this.latestValues)&&(f.transform=d?d({},""):"none",this.hasProjected=!1),f}const u=p.animationValues||p.latestValues;this.applyTransformsToTarget(),l.transform=Qn(this.projectionDeltaWithTransform,this.treeScale,u),d&&(l.transform=d(u,l.transform));const{x:h,y:x}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${x.origin*100}% 0`,p.animationValues?l.opacity=p===this?(m=(c=u.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=p===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const f in Fs){if(u[f]===void 0)continue;const{correct:g,applyTo:v}=Fs[f],w=l.transform==="none"?u[f]:g(u[f],p);if(v){const C=v.length;for(let S=0;S<C;S++)l[v[S]]=w}else l[f]=w}return this.options.layoutId&&(l.pointerEvents=p===this?Ds(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var c;return(c=i.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Zn),this.root.sharedNodes.clear()}}}function Nx(t){t.updateLayout()}function wx(t){var s;const a=((s=t.resumeFrom)===null||s===void 0?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&a&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:o}=t.options,i=a.source!==t.layout.source;o==="size"?Le(p=>{const u=i?a.measuredBox[p]:a.layoutBox[p],h=Fe(u);u.min=r[p].min,u.max=u.min+h}):bl(o,a.layoutBox,r)&&Le(p=>{const u=i?a.measuredBox[p]:a.layoutBox[p],h=Fe(r[p]);u.max=u.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+h)});const c=Dt();Zt(c,r,a.layoutBox);const m=Dt();i?Zt(m,t.applyTransform(n,!0),a.measuredBox):Zt(m,r,a.layoutBox);const l=!gl(c);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:u,layout:h}=p;if(u&&h){const x=pe();es(x,a.layoutBox,u.layoutBox);const f=pe();es(f,r,h.layoutBox),yl(x,f)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=f,t.relativeTargetOrigin=x,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:a,delta:m,layoutDelta:c,hasLayoutChanged:l,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Cx(t){xt.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kx(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Sx(t){t.clearSnapshot()}function Zn(t){t.clearMeasurements()}function Px(t){t.isLayoutDirty=!1}function Ax(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function ei(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Tx(t){t.resolveTargetDelta()}function Dx(t){t.calcProjection()}function Rx(t){t.resetRotation()}function Ex(t){t.removeLeadSnapshot()}function ti(t,s,a){t.translate=le(s.translate,0,a),t.scale=le(s.scale,1,a),t.origin=s.origin,t.originPoint=s.originPoint}function si(t,s,a,r){t.min=le(s.min,a.min,r),t.max=le(s.max,a.max,r)}function Ox(t,s,a,r){si(t.x,s.x,a.x,r),si(t.y,s.y,a.y,r)}function Fx(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Mx={duration:.45,ease:[.4,0,.1,1]},ai=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),ri=ai("applewebkit/")&&!ai("chrome/")?Math.round:ce;function ni(t){t.min=ri(t.min),t.max=ri(t.max)}function Lx(t){ni(t.x),ni(t.y)}function bl(t,s,a){return t==="position"||t==="preserve-aspect"&&!Qa(Yn(s),Yn(a),.2)}const Ix=vl({attachResizeListener:(t,s)=>Ke(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ea={current:void 0},jl=vl({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ea.current){const t=new Ix({});t.mount(window),t.setOptions({layoutScroll:!0}),Ea.current=t}return Ea.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Vx={pan:{Feature:ex},drag:{Feature:Zu,ProjectionNode:jl,MeasureLayout:xl}},zx=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Bx(t){const s=zx.exec(t);if(!s)return[,];const[,a,r]=s;return[a,r]}function er(t,s,a=1){const[r,n]=Bx(t);if(!r)return;const o=window.getComputedStyle(s).getPropertyValue(r);if(o){const i=o.trim();return al(i)?parseFloat(i):i}else return Ua(n)?er(n,s,a+1):n}function _x(t,{...s},a){const r=t.current;if(!(r instanceof Element))return{target:s,transitionEnd:a};a&&(a={...a}),t.values.forEach(n=>{const o=n.get();if(!Ua(o))return;const i=er(o,r);i&&n.set(i)});for(const n in s){const o=s[n];if(!Ua(o))continue;const i=er(o,r);i&&(s[n]=i,a||(a={}),a[n]===void 0&&(a[n]=o))}return{target:s,transitionEnd:a}}const $x=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Nl=t=>$x.has(t),Ux=t=>Object.keys(t).some(Nl),ii=t=>t===Nt||t===J,oi=(t,s)=>parseFloat(t.split(", ")[s]),li=(t,s)=>(a,{transform:r})=>{if(r==="none"||!r)return 0;const n=r.match(/^matrix3d\((.+)\)$/);if(n)return oi(n[1],s);{const o=r.match(/^matrix\((.+)\)$/);return o?oi(o[1],t):0}},qx=new Set(["x","y","z"]),Hx=hs.filter(t=>!qx.has(t));function Wx(t){const s=[];return Hx.forEach(a=>{const r=t.getValue(a);r!==void 0&&(s.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),s.length&&t.render(),s}const Mt={width:({x:t},{paddingLeft:s="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),height:({y:t},{paddingTop:s="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:li(4,13),y:li(5,14)};Mt.translateX=Mt.x;Mt.translateY=Mt.y;const Gx=(t,s,a)=>{const r=s.measureViewportBox(),n=s.current,o=getComputedStyle(n),{display:i}=o,c={};i==="none"&&s.setStaticValue("display",t.display||"block"),a.forEach(l=>{c[l]=Mt[l](r,o)}),s.render();const m=s.measureViewportBox();return a.forEach(l=>{const d=s.getValue(l);d&&d.jump(c[l]),t[l]=Mt[l](m,o)}),t},Kx=(t,s,a={},r={})=>{s={...s},r={...r};const n=Object.keys(s).filter(Nl);let o=[],i=!1;const c=[];if(n.forEach(m=>{const l=t.getValue(m);if(!t.hasValue(m))return;let d=a[m],p=Gt(d);const u=s[m];let h;if(Ls(u)){const x=u.length,f=u[0]===null?1:0;d=u[f],p=Gt(d);for(let g=f;g<x&&u[g]!==null;g++)h?Ar(Gt(u[g])===h):h=Gt(u[g])}else h=Gt(u);if(p!==h)if(ii(p)&&ii(h)){const x=l.get();typeof x=="string"&&l.set(parseFloat(x)),typeof u=="string"?s[m]=parseFloat(u):Array.isArray(u)&&h===J&&(s[m]=u.map(parseFloat))}else p!=null&&p.transform&&(h!=null&&h.transform)&&(d===0||u===0)?d===0?l.set(h.transform(d)):s[m]=p.transform(u):(i||(o=Wx(t),i=!0),c.push(m),r[m]=r[m]!==void 0?r[m]:s[m],l.jump(u))}),c.length){const m=c.indexOf("height")>=0?window.pageYOffset:null,l=Gx(s,t,c);return o.length&&o.forEach(([d,p])=>{t.getValue(d).set(p)}),t.render(),sa&&m!==null&&window.scrollTo({top:m}),{target:l,transitionEnd:r}}else return{target:s,transitionEnd:r}};function Yx(t,s,a,r){return Ux(s)?Kx(t,s,a,r):{target:s,transitionEnd:r}}const Qx=(t,s,a,r)=>{const n=_x(t,s,r);return s=n.target,r=n.transitionEnd,Yx(t,s,a,r)},tr={current:null},wl={current:!1};function Jx(){if(wl.current=!0,!!sa)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>tr.current=t.matches;t.addListener(s),s()}else tr.current=!1}function Xx(t,s,a){const{willChange:r}=s;for(const n in s){const o=s[n],i=a[n];if(Te(o))t.addValue(n,o),Bs(r)&&r.add(n);else if(Te(i))t.addValue(n,Ft(o,{owner:t})),Bs(r)&&r.remove(n);else if(i!==o)if(t.hasValue(n)){const c=t.getValue(n);!c.hasAnimated&&c.set(o)}else{const c=t.getStaticValue(n);t.addValue(n,Ft(c!==void 0?c:o,{owner:t}))}}for(const n in a)s[n]===void 0&&t.removeValue(n);return s}const ci=new WeakMap,Cl=Object.keys(as),Zx=Cl.length,di=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],eh=vr.length;class th{constructor({parent:s,props:a,presenceContext:r,reducedMotionConfig:n,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ne.render(this.render,!1,!0);const{latestValues:c,renderState:m}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=a.initial?{...c}:{},this.renderState=m,this.parent=s,this.props=a,this.presenceContext=r,this.depth=s?s.depth+1:0,this.reducedMotionConfig=n,this.options=i,this.isControllingVariants=ra(a),this.isVariantNode=oo(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:l,...d}=this.scrapeMotionValuesFromProps(a,{});for(const p in d){const u=d[p];c[p]!==void 0&&Te(u)&&(u.set(c[p],!1),Bs(l)&&l.add(p))}}scrapeMotionValuesFromProps(s,a){return{}}mount(s){this.current=s,ci.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),wl.current||Jx(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tr.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ci.delete(this.current),this.projection&&this.projection.unmount(),Ze(this.notifyUpdate),Ze(this.render),this.valueSubscriptions.forEach(s=>s()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features)this.features[s].unmount();this.current=null}bindToMotionValue(s,a){const r=jt.has(s),n=a.on("change",i=>{this.latestValues[s]=i,this.props.onUpdate&&ne.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=a.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(s,()=>{n(),o()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}loadFeatures({children:s,...a},r,n,o){let i,c;for(let m=0;m<Zx;m++){const l=Cl[m],{isEnabled:d,Feature:p,ProjectionNode:u,MeasureLayout:h}=as[l];u&&(i=u),d(a)&&(!this.features[l]&&p&&(this.features[l]=new p(this)),h&&(c=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:m,layout:l,drag:d,dragConstraints:p,layoutScroll:u,layoutRoot:h}=a;this.projection.setOptions({layoutId:m,layout:l,alwaysMeasureLayout:!!d||p&&At(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof l=="string"?l:"both",initialPromotionConfig:o,layoutScroll:u,layoutRoot:h})}return c}updateFeatures(){for(const s in this.features){const a=this.features[s];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pe()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}makeTargetAnimatable(s,a=!0){return this.makeTargetAnimatableFromInstance(s,this.props,a)}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<di.length;r++){const n=di[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const o=s["on"+n];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=Xx(this,this.scrapeMotionValuesFromProps(s,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(s=!1){if(s)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const a={};for(let r=0;r<eh;r++){const n=vr[r],o=this.props[n];(ss(o)||o===!1)&&(a[n]=o)}return a}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){a!==this.values.get(s)&&(this.removeValue(s),this.bindToMotionValue(s,a)),this.values.set(s,a),this.latestValues[s]=a.get()}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let r=this.values.get(s);return r===void 0&&a!==void 0&&(r=Ft(a,{owner:this}),this.addValue(s,r)),r}readValue(s){var a;return this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(a=this.getBaseTargetFromProps(this.props,s))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,s,this.options)}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){var a;const{initial:r}=this.props,n=typeof r=="string"||typeof r=="object"?(a=Pr(this.props,r))===null||a===void 0?void 0:a[s]:void 0;if(r&&n!==void 0)return n;const o=this.getBaseTargetFromProps(this.props,s);return o!==void 0&&!Te(o)?o:this.initialValues[s]!==void 0&&n===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new Ir),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}}class kl extends th{sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:r}){delete a[s],delete r[s]}makeTargetAnimatableFromInstance({transition:s,transitionEnd:a,...r},{transformValues:n},o){let i=yu(r,s||{},this);if(n&&(a&&(a=n(a)),r&&(r=n(r)),i&&(i=n(i))),o){fu(this,r,i);const c=Qx(this,r,i,a);a=c.transitionEnd,r=c.target}return{transition:s,transitionEnd:a,...r}}}function sh(t){return window.getComputedStyle(t)}class ah extends kl{constructor(){super(...arguments),this.type="html"}readValueFromInstance(s,a){if(jt.has(a)){const r=Er(a);return r&&r.default||0}else{const r=sh(s),n=(po(a)?r.getPropertyValue(a):r[a])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(s,{transformPagePoint:a}){return pl(s,a)}build(s,a,r,n){Nr(s,a,r,n.transformTemplate)}scrapeMotionValuesFromProps(s,a){return Sr(s,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;Te(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}renderInstance(s,a,r,n){yo(s,a,r,n)}}class rh extends kl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(jt.has(a)){const r=Er(a);return r&&r.default||0}return a=vo.has(a)?a:gr(a),s.getAttribute(a)}measureInstanceViewportBox(){return pe()}scrapeMotionValuesFromProps(s,a){return jo(s,a)}build(s,a,r,n){Cr(s,a,r,this.isSVGTag,n.transformTemplate)}renderInstance(s,a,r,n){bo(s,a,r,n)}mount(s){this.isSVGTag=kr(s.tagName),super.mount(s)}}const nh=(t,s)=>jr(t)?new rh(s,{enableHardwareAcceleration:!1}):new ah(s,{enableHardwareAcceleration:!0}),ih={layout:{ProjectionNode:jl,MeasureLayout:xl}},oh={...Ou,...Zm,...Vx,...ih},ke=lm((t,s)=>Bm(t,s,oh,nh));function Sl(){const t=y.useRef(!1);return fr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function lh(){const t=Sl(),[s,a]=y.useState(0),r=y.useCallback(()=>{t.current&&a(s+1)},[s]);return[y.useCallback(()=>ne.postRender(r),[r]),s]}class ch extends y.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=a.offsetHeight||0,r.width=a.offsetWidth||0,r.top=a.offsetTop,r.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function dh({children:t,isPresent:s}){const a=y.useId(),r=y.useRef(null),n=y.useRef({width:0,height:0,top:0,left:0});return y.useInsertionEffect(()=>{const{width:o,height:i,top:c,left:m}=n.current;if(s||!r.current||!o||!i)return;r.current.dataset.motionPopId=a;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${c}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[s]),y.createElement(ch,{isPresent:s,childRef:r,sizeRef:n},y.cloneElement(t,{ref:r}))}const Oa=({children:t,initial:s,isPresent:a,onExitComplete:r,custom:n,presenceAffectsLayout:o,mode:i})=>{const c=No(mh),m=y.useId(),l=y.useMemo(()=>({id:m,initial:s,isPresent:a,custom:n,onExitComplete:d=>{c.set(d,!0);for(const p of c.values())if(!p)return;r&&r()},register:d=>(c.set(d,!1),()=>c.delete(d))}),o?void 0:[a]);return y.useMemo(()=>{c.forEach((d,p)=>c.set(p,!1))},[a]),y.useEffect(()=>{!a&&!c.size&&r&&r()},[a]),i==="popLayout"&&(t=y.createElement(dh,{isPresent:a},t)),y.createElement(ta.Provider,{value:l},t)};function mh(){return new Map}function ph(t){return y.useEffect(()=>()=>t(),[])}const ht=t=>t.key||"";function uh(t,s){t.forEach(a=>{const r=ht(a);s.set(r,a)})}function xh(t){const s=[];return y.Children.forEach(t,a=>{y.isValidElement(a)&&s.push(a)}),s}const ts=({children:t,custom:s,initial:a=!0,onExitComplete:r,exitBeforeEnter:n,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const c=y.useContext(br).forceRender||lh()[0],m=Sl(),l=xh(t);let d=l;const p=y.useRef(new Map).current,u=y.useRef(d),h=y.useRef(new Map).current,x=y.useRef(!0);if(fr(()=>{x.current=!1,uh(l,h),u.current=d}),ph(()=>{x.current=!0,h.clear(),p.clear()}),x.current)return y.createElement(y.Fragment,null,d.map(w=>y.createElement(Oa,{key:ht(w),isPresent:!0,initial:a?void 0:!1,presenceAffectsLayout:o,mode:i},w)));d=[...d];const f=u.current.map(ht),g=l.map(ht),v=f.length;for(let w=0;w<v;w++){const C=f[w];g.indexOf(C)===-1&&!p.has(C)&&p.set(C,void 0)}return i==="wait"&&p.size&&(d=[]),p.forEach((w,C)=>{if(g.indexOf(C)!==-1)return;const S=h.get(C);if(!S)return;const M=f.indexOf(C);let B=w;if(!B){const D=()=>{p.delete(C);const E=Array.from(h.keys()).filter($=>!g.includes($));if(E.forEach($=>h.delete($)),u.current=l.filter($=>{const k=ht($);return k===C||E.includes(k)}),!p.size){if(m.current===!1)return;c(),r&&r()}};B=y.createElement(Oa,{key:ht(S),isPresent:!1,onExitComplete:D,custom:s,presenceAffectsLayout:o,mode:i},S),p.set(C,B)}d.splice(M,0,B)}),d=d.map(w=>{const C=w.key;return p.has(C)?w:y.createElement(Oa,{key:ht(w),isPresent:!0,presenceAffectsLayout:o,mode:i},w)}),y.createElement(y.Fragment,null,p.size?d:d.map(w=>y.cloneElement(w)))};var Pl={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mi=Ie.createContext&&Ie.createContext(Pl),it=globalThis&&globalThis.__assign||function(){return it=Object.assign||function(t){for(var s,a=1,r=arguments.length;a<r;a++){s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},it.apply(this,arguments)},hh=globalThis&&globalThis.__rest||function(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a};function Al(t){return t&&t.map(function(s,a){return Ie.createElement(s.tag,it({key:a},s.attr),Al(s.child))})}function K(t){return function(s){return Ie.createElement(fh,it({attr:it({},t.attr)},s),Al(t.child))}}function fh(t){var s=function(a){var r=t.attr,n=t.size,o=t.title,i=hh(t,["attr","size","title"]),c=n||a.size||"1em",m;return a.className&&(m=a.className),t.className&&(m=(m?m+" ":"")+t.className),Ie.createElement("svg",it({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,i,{className:m,style:it(it({color:t.color||a.color},a.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Ie.createElement("title",null,o),t.children)};return mi!==void 0?Ie.createElement(mi.Consumer,null,function(a){return s(a)}):s(Pl)}function gh(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(t)}function yh(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(t)}function vh(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"}}]})(t)}function Vr(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(t)}function bh(t){return K({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(t)}function jh(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(t)}function Nh(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(t)}function Tl(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(t)}function Ye(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"}}]})(t)}function Et(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"}}]})(t)}function bt(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(t)}function wh(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"}}]})(t)}function Qt(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(t)}function ns(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(t)}function Se(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function Ch(t){return K({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(t)}function kh(t){return K({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(t)}function _t(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(t)}function Dl(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(t)}function Fa(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"}}]})(t)}function Sh(t){return K({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"}}]})(t)}function pi(t){return K({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}}]})(t)}function Ph(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(t)}function la(t){return K({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(t)}function Pe(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(t)}function Rl(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(t)}function ui(t){return K({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(t)}function El(t){return K({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(t)}function ot(t){return K({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(t)}function Ah(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(t)}function is(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"}}]})(t)}function Th(t){return K({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(t)}function Dh(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(t)}function Rh(t){return K({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(t)}function dt(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(t)}function Eh(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(t)}function zr(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"}}]})(t)}function Oh(t){return K({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(t)}function sr(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(t)}function Ma(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(t)}function Fh(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 224c61.9 0 112-50.1 112-112S173.9 0 112 0 0 50.1 0 112s50.1 112 112 112zm0-160c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zm224 224c-61.9 0-112 50.1-112 112s50.1 112 112 112 112-50.1 112-112-50.1-112-112-112zm0 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zM392.3.2l31.6-.1c19.4-.1 30.9 21.8 19.7 37.8L77.4 501.6a23.95 23.95 0 0 1-19.6 10.2l-33.4.1c-19.5 0-30.9-21.9-19.7-37.8l368-463.7C377.2 4 384.5.2 392.3.2z"}}]})(t)}function ca(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(t)}function Qe(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(t)}function Br(t){return K({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M635.7 167.2L556.1 31.7c-8.8-15-28.3-20.1-43.5-11.5l-69 39.1L503.3 161c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L416 75l-55.2 31.3 27.9 47.4c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L333.2 122 278 153.3 337.8 255c2.2 3.7.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9l-59.7-101.7-55.2 31.3 27.9 47.4c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9l-27.9-47.5-55.2 31.3 59.7 101.7c2.2 3.7.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L84.9 262.9l-69 39.1C.7 310.7-4.6 329.8 4.2 344.8l79.6 135.6c8.8 15 28.3 20.1 43.5 11.5L624.1 210c15.2-8.6 20.4-27.8 11.6-42.8z"}}]})(t)}function os(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(t)}function Be(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(t)}function Pt(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"}}]})(t)}function da(t){return K({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"}}]})(t)}function Mh(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(t)}function Lt(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(t)}function Oe(t){return K({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(t)}function Lh(t){return K({tag:"svg",attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"}}]})(t)}function Ih(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(t)}function $s(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"}}]})(t)}function ar(t){return K({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"}}]})(t)}function Vh(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(t)}function Ne(t){return K({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function _e(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}function zh(t){return K({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(t)}function ls(t){return K({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(t)}function cs(t){return K({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}function Ol(t){return K({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(t)}const Fl=y.createContext(),de=()=>{const t=y.useContext(Fl);if(!t)throw new Error("useToast must be used within ToastProvider");return t},Bh=({children:t})=>{const[s,a]=y.useState([]),r=y.useCallback((l,d="info",p=5e3)=>{const u=Date.now()+Math.random();a(h=>[...h,{id:u,message:l,type:d,duration:p}]),p>0&&setTimeout(()=>{n(u)},p)},[]),n=y.useCallback(l=>{a(d=>d.filter(p=>p.id!==l))},[]),o=y.useCallback((l,d)=>r(l,"success",d),[r]),i=y.useCallback((l,d)=>r(l,"error",d),[r]),c=y.useCallback((l,d)=>r(l,"warning",d),[r]),m=y.useCallback((l,d)=>r(l,"info",d),[r]);return e.jsxs(Fl.Provider,{value:{success:o,error:i,warning:c,info:m,addToast:r,removeToast:n},children:[t,e.jsx(_h,{toasts:s,removeToast:n})]})},_h=({toasts:t,removeToast:s})=>e.jsx("div",{className:"fixed top-4 right-4 z-[9999] space-y-3 max-w-md pointer-events-none",children:e.jsx(ts,{mode:"popLayout",children:t.map(a=>e.jsx(Ml,{toast:a,onClose:()=>s(a.id)},a.id))})}),Ml=Ie.forwardRef(({toast:t,onClose:s},a)=>{const n=(()=>{switch(t.type){case"success":return{icon:ns,iconBg:"bg-gradient-to-br from-emerald-400 to-green-500",iconColor:"text-white",containerBg:"bg-white/95 backdrop-blur-lg",borderColor:"border-emerald-500/30",shadowColor:"shadow-emerald-500/20",textColor:"text-gray-800",title:"Success",progressBg:"from-emerald-500 to-green-600",glow:"shadow-[0_0_20px_rgba(16,185,129,0.3)]"};case"error":return{icon:ui,iconBg:"bg-gradient-to-br from-red-400 to-rose-500",iconColor:"text-white",containerBg:"bg-white/95 backdrop-blur-lg",borderColor:"border-red-500/30",shadowColor:"shadow-red-500/20",textColor:"text-gray-800",title:"Error",progressBg:"from-red-500 to-rose-600",glow:"shadow-[0_0_20px_rgba(239,68,68,0.3)]"};case"warning":return{icon:ui,iconBg:"bg-gradient-to-br from-amber-400 to-orange-500",iconColor:"text-white",containerBg:"bg-white/95 backdrop-blur-lg",borderColor:"border-amber-500/30",shadowColor:"shadow-amber-500/20",textColor:"text-gray-800",title:"Warning",progressBg:"from-amber-500 to-orange-600",glow:"shadow-[0_0_20px_rgba(245,158,11,0.3)]"};case"info":default:return{icon:Eh,iconBg:"bg-gradient-to-br from-blue-400 to-indigo-500",iconColor:"text-white",containerBg:"bg-white/95 backdrop-blur-lg",borderColor:"border-blue-500/30",shadowColor:"shadow-blue-500/20",textColor:"text-gray-800",title:"Information",progressBg:"from-blue-500 to-indigo-600",glow:"shadow-[0_0_20px_rgba(59,130,246,0.3)]"}}})(),o=n.icon;return e.jsxs(ke.div,{ref:a,initial:{opacity:0,x:400,scale:.8,y:-20},animate:{opacity:1,x:0,scale:1,y:0},exit:{opacity:0,x:400,scale:.8,y:-20},transition:{type:"spring",stiffness:500,damping:30,mass:.8},className:`relative ${n.containerBg} ${n.borderColor} border-2 rounded-2xl ${n.shadowColor} shadow-2xl ${n.glow} p-5 flex items-start gap-4 max-w-md pointer-events-auto`,style:{backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},children:[e.jsx(ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.1,type:"spring",stiffness:500,damping:25},className:`flex-shrink-0 ${n.iconBg} ${n.iconColor} rounded-xl p-2.5 shadow-lg`,children:e.jsx(o,{className:"text-xl"})}),e.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[e.jsx("div",{className:`${n.textColor} font-semibold text-sm mb-1 tracking-wide`,children:n.title}),e.jsx("p",{className:`${n.textColor} text-sm leading-relaxed font-medium`,children:t.message})]}),e.jsx(ke.button,{onClick:s,whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100","aria-label":"Close notification",children:e.jsx(Ne,{className:"text-sm"})}),t.duration>0&&e.jsx(ke.div,{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${n.progressBg} rounded-b-2xl`,initial:{scaleX:1},animate:{scaleX:0},transition:{duration:t.duration/1e3,ease:"linear",originX:0}}),e.jsx("div",{className:`absolute top-0 right-0 w-20 h-20 ${n.iconBg} opacity-10 rounded-bl-full -z-10`})]})});Ml.displayName="Toast";const xi={en:{nav:{home:"Home",catalog:"Catalog",customCakes:"Custom Cakes",about:"About",contact:"Contact",cart:"Cart",login:"Login",register:"Register",profile:"Profile",orders:"My Orders",logout:"Logout",admin:"Admin Panel"},home:{heroTitle:"Artisan Cakes Made with Love",heroSubtitle:"Custom cakes for every occasion, crafted with passion in the heart of Ottawa-Gatineau",heroDescription:"Create your dream cake or choose from our exquisite collection. Every cake is handcrafted with premium ingredients and lots of love.",viewCatalog:"View Catalog",browseCatalog:"Browse Catalog",orderCustom:"Order Custom Cake",startCustom:"Start a Custom Cake",startDesigning:"Start Designing Now",serving:"Serving",bestsellers:"Our Bestsellers",bestsellersDesc:"Most loved cakes by our customers",testimonials:"What Our Customers Say",testimonialsDesc:"Real reviews from real customers",readMoreReviews:"Read More Reviews",watchVideo:"Watch on YouTube",watchVideoDesc:"Watch our latest cake creations on YouTube",chatWhatsApp:"Chat on WhatsApp",subscribeNewsletter:"Subscribe to our newsletter for exclusive deals and updates",emailPlaceholder:"Enter your email",namePlaceholder:"Your name (optional)",subscribe:"Subscribe",subscribed:"Subscribed!",subscribeSuccess:"Thank you for subscribing!",subscribeError:"Please enter a valid email",followJourney:"Follow Our Journey",followJourneyDesc:"See our latest creations on social media",createDreamCake:"Create Your Dream Cake",createDreamCakeDesc:"Upload your inspiration, choose your flavors, and let us bring your vision to life. Perfect for weddings, birthdays, anniversaries, and special celebrations!",viewAllProducts:"View All Products",noProducts:"No products available at the moment.",happyCustomers:"Happy Customers",happyCustomersCount:"Happy Customers",averageRating:"Average Rating",freshIngredients:"Fresh Ingredients",leadTime:"Lead Time",freeSample:"Free Sample Available",firstOrderDiscount:"10% Off First Order",leadTimeBadge:"2-Day Lead Time"},footer:{tagline:"Artisan custom cakes made with love, serving the Ottawa-Gatineau region.",quickLinks:"Quick Links",contactInfo:"Contact",hours:"Hours",newsletter:"Newsletter",subscribe:"Subscribe",subscribeDesc:"Get updates on new products and special offers",emailPlaceholder:"Your email",namePlaceholder:"Your name",copyright:"All rights reserved.",madeWith:"Made with",by:"by M. Sucre",customerService:"Customer Service",followUs:"Follow Us"},product:{addToCart:"Add to Cart",outOfStock:"Out of Stock",viewDetails:"View Details",price:"Price",flavor:"Flavor",size:"Size",description:"Description",allergens:"Allergens",leadTime:"Lead Time",days:"days",sampleAvailable:"Sample Available",customCake:"Custom Cake",prepaid:"Prepaid",bestseller:"Bestseller",bento:"Bento Cake"},cart:{title:"Shopping Cart",empty:"Your cart is empty",emptyDesc:"Start adding delicious cakes to your cart!",continueShopping:"Continue Shopping",subtotal:"Subtotal",total:"Total",checkout:"Proceed to Checkout",remove:"Remove",quantity:"Quantity",loginRequired:"Please login to continue",loginNow:"Login Now",tax:"Tax (HST 13%)"},checkout:{title:"Checkout",customerInfo:"Customer Information",name:"Full Name",email:"Email",phone:"Phone",deliveryInfo:"Delivery Information",deliveryMode:"Delivery Mode",pickup:"Pickup",delivery:"Delivery",address:"Address",street:"Street Address",city:"City",province:"Province",postalCode:"Postal Code",instructions:"Delivery Instructions",promoCode:"Promo Code",apply:"Apply",remove:"Remove",placeOrder:"Place Order",orderSummary:"Order Summary",items:"Items",discount:"Discount",deliveryFee:"Delivery Fee",total:"Total"},contact:{title:"Contact Us",subtitle:"Get in touch with us",whatsapp:"Chat on WhatsApp",email:"Send Email",call:"Call Us",locations:"Our Locations",hours:"Operating Hours",closed:"Closed",serviceAreas:"Service Areas",sendMessage:"Send us a Message",clickToChat:"Click to chat instantly!",fasterResponse:"For faster response, we recommend contacting us via WhatsApp!"},customCakes:{title:"Custom Cake Orders",subtitle:"Create your dream cake with us",formTitle:"Custom Cake Request Form",customerInfo:"Customer Information",cakeSpecs:"Cake Specifications",flavor:"Flavor",size:"Size",layers:"Number of Layers",shape:"Shape (Optional)",fillings:"Fillings",icing:"Icing Type",message:"Message on Cake",theme:"Theme/Decoration",dietary:"Dietary Requirements",deadline:"Deadline Date",notes:"Additional Notes",submit:"Submit Request",submitting:"Submitting...",success:"Request submitted successfully!",error:"Error submitting request"},orders:{myOrders:"My Orders",orderNumber:"Order Number",date:"Date",status:"Status",total:"Total",viewDetails:"View Details",noOrders:"No orders yet",pending:"Pending",confirmed:"Confirmed",inPreparation:"In Preparation",ready:"Ready",completed:"Completed",cancelled:"Cancelled",awaitingPayment:"Awaiting Payment"},common:{loading:"Loading...",error:"An error occurred",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",remove:"Remove",search:"Search",filter:"Filter",close:"Close",back:"Back",next:"Next",previous:"Previous",yes:"Yes",no:"No",confirm:"Confirm",required:"Required",and:"&",subject:"Subject",message:"Message",send:"Send"},catalog:{title:"Our Catalog",subtitle:"Browse our collection of delicious cakes",allProducts:"All Products",filterBy:"Filter by",category:"Category",priceRange:"Price Range",sortBy:"Sort By",noProducts:"No products found",noProductsDesc:"Try adjusting your filters"},about:{title:"About M. Sucre",ourStory:"Our Story",mission:"Our Mission",values:"Our Values"},auth:{loginTitle:"Login to Your Account",registerTitle:"Create Your Account",email:"Email Address",password:"Password",confirmPassword:"Confirm Password",name:"Full Name",phone:"Phone Number",rememberMe:"Remember Me",forgotPassword:"Forgot Password?",loginButton:"Login",registerButton:"Register",noAccount:"Don't have an account?",haveAccount:"Already have an account?",loginLink:"Login here",registerLink:"Register here",loginSuccess:"Login successful!",registerSuccess:"Registration successful!"},profile:{title:"My Profile",editProfile:"Edit Profile",name:"Full Name",email:"Email",phone:"Phone Number",save:"Save Changes",saved:"Profile updated successfully!"}},fr:{nav:{home:"Accueil",catalog:"Catalogue",customCakes:"Gteaux Personnaliss",about:" Propos",contact:"Contact",cart:"Panier",login:"Connexion",register:"Inscription",profile:"Profil",orders:"Mes Commandes",logout:"Dconnexion",admin:"Panneau Admin"},home:{heroTitle:"Gteaux Artisanaux Faits avec Amour",heroSubtitle:"Gteaux personnaliss pour toutes les occasions, confectionns avec passion au cur d'Ottawa-Gatineau",heroDescription:"Crez votre gteau de rve ou choisissez parmi notre collection exquise. Chaque gteau est confectionn  la main avec des ingrdients premium et beaucoup d'amour.",viewCatalog:"Voir le Catalogue",browseCatalog:"Parcourir le Catalogue",orderCustom:"Commander un Gteau Personnalis",startCustom:"Crer un Gteau Personnalis",startDesigning:"Commencer la Conception",serving:"Desservant",bestsellers:"Nos Meilleures Ventes",bestsellersDesc:"Gteaux les plus apprcis par nos clients",testimonials:"Ce Que Disent Nos Clients",testimonialsDesc:"Vrais avis de vrais clients",readMoreReviews:"Lire Plus d'Avis",watchVideo:"Regarder sur YouTube",watchVideoDesc:"Regardez nos dernires crations de gteaux sur YouTube",chatWhatsApp:"Discuter sur WhatsApp",subscribeNewsletter:"Abonnez-vous  notre newsletter pour des offres exclusives et des mises  jour",emailPlaceholder:"Entrez votre courriel",namePlaceholder:"Votre nom (optionnel)",subscribe:"S'abonner",subscribed:"Abonn!",subscribeSuccess:"Merci de vous tre abonn!",subscribeError:"Veuillez entrer un courriel valide",followJourney:"Suivez Notre Parcours",followJourneyDesc:"Voyez nos dernires crations sur les rseaux sociaux",createDreamCake:"Crez Votre Gteau de Rve",createDreamCakeDesc:"Tlversez votre inspiration, choisissez vos saveurs et laissez-nous donner vie  votre vision. Parfait pour les mariages, anniversaires et clbrations spciales!",viewAllProducts:"Voir Tous les Produits",noProducts:"Aucun produit disponible pour le moment.",happyCustomers:"Clients Heureux",happyCustomersCount:"Clients Heureux",averageRating:"Note Moyenne",freshIngredients:"Ingrdients Frais",leadTime:"Dlai",freeSample:"chantillon Gratuit Disponible",firstOrderDiscount:"10% de Rduction sur la Premire Commande",leadTimeBadge:"Dlai de 2 Jours"},footer:{tagline:"Gteaux personnaliss artisanaux faits avec amour, servant la rgion d'Ottawa-Gatineau.",quickLinks:"Liens Rapides",contactInfo:"Contact",hours:"Heures",newsletter:"Infolettre",subscribe:"S'abonner",subscribeDesc:"Recevez des mises  jour sur les nouveaux produits et les offres spciales",emailPlaceholder:"Votre courriel",namePlaceholder:"Votre nom",copyright:"Tous droits rservs.",madeWith:"Fait avec",by:"par M. Sucre",customerService:"Service Client",followUs:"Suivez-Nous"},product:{addToCart:"Ajouter au Panier",outOfStock:"Rupture de Stock",viewDetails:"Voir les Dtails",price:"Prix",flavor:"Saveur",size:"Taille",description:"Description",allergens:"Allergnes",leadTime:"Dlai de Livraison",days:"jours",sampleAvailable:"chantillon Disponible",customCake:"Gteau Personnalis",prepaid:"Prpai",bestseller:"Meilleure Vente",bento:"Gteau Bento"},cart:{title:"Panier",empty:"Votre panier est vide",emptyDesc:"Commencez  ajouter de dlicieux gteaux  votre panier!",continueShopping:"Continuer les Achats",subtotal:"Sous-total",total:"Total",checkout:"Passer  la Caisse",remove:"Retirer",quantity:"Quantit",loginRequired:"Veuillez vous connecter pour continuer",loginNow:"Se Connecter Maintenant",tax:"Taxe (TPS 13%)"},checkout:{title:"Caisse",customerInfo:"Informations Client",name:"Nom Complet",email:"Courriel",phone:"Tlphone",deliveryInfo:"Informations de Livraison",deliveryMode:"Mode de Livraison",pickup:"Ramassage",delivery:"Livraison",address:"Adresse",street:"Adresse",city:"Ville",province:"Province",postalCode:"Code Postal",instructions:"Instructions de Livraison",promoCode:"Code Promo",apply:"Appliquer",remove:"Retirer",placeOrder:"Passer la Commande",orderSummary:"Rsum de la Commande",items:"Articles",discount:"Rabais",deliveryFee:"Frais de Livraison",total:"Total"},contact:{title:"Contactez-nous",subtitle:"Entrez en contact avec nous",whatsapp:"Discuter sur WhatsApp",email:"Envoyer un Courriel",call:"Nous Appeler",locations:"Nos Emplacements",hours:"Heures d'Ouverture",closed:"Ferm",serviceAreas:"Zones de Service",sendMessage:"Envoyez-nous un Message",clickToChat:"Cliquez pour discuter instantanment!",fasterResponse:"Pour une rponse plus rapide, nous vous recommandons de nous contacter via WhatsApp!"},customCakes:{title:"Commandes de Gteaux Personnaliss",subtitle:"Crez votre gteau de rve avec nous",formTitle:"Formulaire de Demande de Gteau Personnalis",customerInfo:"Informations Client",cakeSpecs:"Spcifications du Gteau",flavor:"Saveur",size:"Taille",layers:"Nombre de Couches",shape:"Forme (Optionnel)",fillings:"Garnitures",icing:"Type de Glaage",message:"Message sur le Gteau",theme:"Thme/Dcoration",dietary:"Exigences Dittiques",deadline:"Date Limite",notes:"Notes Additionnelles",submit:"Soumettre la Demande",submitting:"Envoi en cours...",success:"Demande soumise avec succs!",error:"Erreur lors de la soumission de la demande"},orders:{myOrders:"Mes Commandes",orderNumber:"Numro de Commande",date:"Date",status:"Statut",total:"Total",viewDetails:"Voir les Dtails",noOrders:"Aucune commande pour le moment",pending:"En Attente",confirmed:"Confirm",inPreparation:"En Prparation",ready:"Prt",completed:"Termin",cancelled:"Annul",awaitingPayment:"En Attente de Paiement"},common:{loading:"Chargement...",error:"Une erreur s'est produite",success:"Succs",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",add:"Ajouter",remove:"Retirer",search:"Rechercher",filter:"Filtrer",close:"Fermer",back:"Retour",next:"Suivant",previous:"Prcdent",yes:"Oui",no:"Non",confirm:"Confirmer",required:"Obligatoire",and:"et",subject:"Sujet",message:"Message",send:"Envoyer"},catalog:{title:"Notre Catalogue",subtitle:"Parcourez notre collection de dlicieux gteaux",allProducts:"Tous les Produits",filterBy:"Filtrer par",category:"Catgorie",priceRange:"Gamme de Prix",sortBy:"Trier par",noProducts:"Aucun produit trouv",noProductsDesc:"Essayez d'ajuster vos filtres"},about:{title:" Propos de M. Sucre",ourStory:"Notre Histoire",mission:"Notre Mission",values:"Nos Valeurs"},auth:{loginTitle:"Connectez-vous  Votre Compte",registerTitle:"Crez Votre Compte",email:"Adresse Courriel",password:"Mot de Passe",confirmPassword:"Confirmer le Mot de Passe",name:"Nom Complet",phone:"Numro de Tlphone",rememberMe:"Se Souvenir de Moi",forgotPassword:"Mot de Passe Oubli?",loginButton:"Connexion",registerButton:"Inscription",noAccount:"Vous n'avez pas de compte?",haveAccount:"Vous avez dj un compte?",loginLink:"Connectez-vous ici",registerLink:"Inscrivez-vous ici",loginSuccess:"Connexion russie!",registerSuccess:"Inscription russie!"},profile:{title:"Mon Profil",editProfile:"Modifier le Profil",name:"Nom Complet",email:"Courriel",phone:"Numro de Tlphone",save:"Enregistrer les Modifications",saved:"Profil mis  jour avec succs!"}}},$h=(t,s)=>{const a=s.split(".");let r=xi[t];for(const n of a)if(r&&r[n])r=r[n];else{r=xi.en;for(const o of a)if(r&&r[o])r=r[o];else return s;break}return typeof r=="string"?r:s},tt=()=>{const{language:t}=ao();return{t:a=>$h(t,a),language:t}},hi=({className:t=""})=>{const{language:s,changeLanguage:a}=ao();return e.jsx("div",{className:`relative inline-block ${t}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Th,{className:"text-gray-600"}),e.jsxs("select",{value:s,onChange:r=>a(r.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm font-medium text-gray-700 focus:ring-2 focus:ring-primary-500 focus:border-transparent cursor-pointer appearance-none pr-8",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.5em 1.5em"},children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"fr",children:"Franais"})]})]})})},Uh=()=>{const{user:t,logout:s,isAuthenticated:a,isAdmin:r}=et(),{getCartCount:n}=Bt(),o=Ve(),{t:i}=tt(),[c,m]=y.useState(!1),l=async()=>{await s(),o("/")},d=n();return e.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(_,{to:"/",className:"flex items-center space-x-2",children:e.jsx("span",{className:"text-2xl font-display font-bold text-primary-600",children:"M. Sucre"})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[e.jsx(_,{to:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:i("nav.home")}),e.jsx(_,{to:"/custom-cakes",className:"text-gray-700 hover:text-primary-600 transition-colors",children:i("nav.customCakes")}),e.jsx(_,{to:"/catalog",className:"text-gray-700 hover:text-primary-600 transition-colors",children:i("nav.catalog")}),e.jsx(_,{to:"/combos",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Combos "}),e.jsx(_,{to:"/about",className:"text-gray-700 hover:text-primary-600 transition-colors",children:i("nav.about")}),e.jsx(_,{to:"/contact",className:"text-gray-700 hover:text-primary-600 transition-colors",children:i("nav.contact")})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsx(hi,{}),e.jsxs(_,{to:"/cart",className:"relative p-2 text-gray-700 hover:text-primary-600 transition-colors",children:[e.jsx(da,{className:"text-xl"}),d>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:d})]}),a?e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center space-x-2 p-2 text-gray-700 hover:text-primary-600 transition-colors",children:[e.jsx(cs,{}),e.jsx("span",{children:t==null?void 0:t.name})]}),e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[e.jsx(_,{to:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-primary-50",children:i("nav.profile")}),e.jsx(_,{to:"/my-orders",className:"block px-4 py-2 text-gray-700 hover:bg-primary-50",children:i("nav.orders")}),r&&e.jsx(_,{to:"/admin",className:"block px-4 py-2 text-gray-700 hover:bg-primary-50",children:i("nav.admin")}),e.jsx("button",{onClick:l,className:"block w-full text-left px-4 py-2 text-gray-700 hover:bg-primary-50",children:i("nav.logout")})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{to:"/login",className:"btn-outline py-2",children:i("nav.login")}),e.jsx(_,{to:"/register",className:"btn-primary py-2",children:i("nav.register")})]})]}),e.jsx("button",{onClick:()=>m(!c),className:"md:hidden p-2 text-gray-700",children:c?e.jsx(Ne,{className:"text-2xl"}):e.jsx(Tl,{className:"text-2xl"})})]})}),c&&e.jsx("div",{className:"md:hidden bg-white border-t",children:e.jsxs("div",{className:"px-4 py-4 space-y-3",children:[e.jsx(hi,{className:"mb-3"}),e.jsx(_,{to:"/",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:i("nav.home")}),e.jsx(_,{to:"/custom-cakes",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:i("nav.customCakes")}),e.jsx(_,{to:"/catalog",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:i("nav.catalog")}),e.jsx(_,{to:"/combos",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:"Combos "}),e.jsx(_,{to:"/about",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:i("nav.about")}),e.jsx(_,{to:"/contact",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:i("nav.contact")}),e.jsxs(_,{to:"/cart",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:[i("nav.cart")," (",d,")"]}),a?e.jsxs(e.Fragment,{children:[e.jsx(_,{to:"/profile",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:i("nav.profile")}),e.jsx(_,{to:"/my-orders",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:i("nav.orders")}),r&&e.jsx(_,{to:"/admin",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:i("nav.admin")}),e.jsx("button",{onClick:()=>{l(),m(!1)},className:"block w-full text-left text-gray-700 hover:text-primary-600",children:i("nav.logout")})]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{to:"/login",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:i("nav.login")}),e.jsx(_,{to:"/register",className:"block text-gray-700 hover:text-primary-600",onClick:()=>m(!1),children:i("nav.register")})]})]})})]})},Ll=({source:t="other",compact:s=!1,showName:a=!1})=>{const[r,n]=y.useState(""),[o,i]=y.useState(""),[c,m]=y.useState(!1),[l,d]=y.useState(!1),p=de(),u=async h=>{var f,g;if(h.preventDefault(),!r){p.error("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){p.error("Please enter a valid email address");return}m(!0);try{await W.post("/newsletter/subscribe",{email:r,name:a?o:void 0,source:t}),d(!0),p.success("Successfully subscribed! Check your email for confirmation. "),n(""),i(""),setTimeout(()=>{d(!1)},5e3)}catch(v){const w=((g=(f=v.response)==null?void 0:f.data)==null?void 0:g.message)||"Failed to subscribe. Please try again.";p.error(w)}finally{m(!1)}};return s?e.jsxs("form",{onSubmit:u,className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"email",value:r,onChange:h=>n(h.target.value),placeholder:"Enter your email",className:"w-full px-4 py-2.5 rounded-lg border-2 border-gray-300 focus:border-primary-500 focus:outline-none text-gray-900",disabled:c||l,required:!0})}),e.jsx("button",{type:"submit",disabled:c||l,className:`px-6 py-2.5 rounded-lg font-semibold transition-all flex items-center justify-center space-x-2 ${l?"bg-green-600 text-white cursor-default":"bg-primary-600 text-white hover:bg-primary-700 disabled:opacity-50"}`,children:c?e.jsxs(e.Fragment,{children:[e.jsx(Lt,{className:"animate-spin"}),e.jsx("span",{children:"Subscribing..."})]}):l?e.jsxs(e.Fragment,{children:[e.jsx(Se,{}),e.jsx("span",{children:"Subscribed!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{}),e.jsx("span",{children:"Subscribe"})]})})]}):e.jsxs("div",{className:"bg-gradient-to-br from-primary-50 via-white to-pink-50 rounded-xl p-6 md:p-8 border border-primary-100",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full mb-4",children:e.jsx(Pe,{className:"text-white text-2xl"})}),e.jsx("h3",{className:"text-2xl font-display font-bold text-gray-900 mb-2",children:"Stay Sweet! "}),e.jsx("p",{className:"text-gray-600",children:"Subscribe to our newsletter for exclusive deals, new flavors, and special promotions!"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a&&e.jsx("div",{children:e.jsx("input",{type:"text",value:o,onChange:h=>i(h.target.value),placeholder:"Your name (optional)",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-primary-500 focus:outline-none text-gray-900",disabled:c||l})}),e.jsx("div",{children:e.jsx("input",{type:"email",value:r,onChange:h=>n(h.target.value),placeholder:"Enter your email address",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-primary-500 focus:outline-none text-gray-900",disabled:c||l,required:!0})}),e.jsx("button",{type:"submit",disabled:c||l,className:`w-full px-6 py-3 rounded-lg font-semibold transition-all flex items-center justify-center space-x-2 ${l?"bg-green-600 text-white cursor-default":"bg-primary-600 text-white hover:bg-primary-700 disabled:opacity-50 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,children:c?e.jsxs(e.Fragment,{children:[e.jsx(Lt,{className:"animate-spin"}),e.jsx("span",{children:"Subscribing..."})]}):l?e.jsxs(e.Fragment,{children:[e.jsx(Se,{}),e.jsx("span",{children:"Successfully Subscribed! "})]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{}),e.jsx("span",{children:"Subscribe Now"})]})})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"We respect your privacy. Unsubscribe anytime."})]})},qh=()=>{const{t}=tt(),[s,a]=y.useState(null);y.useEffect(()=>{r()},[]);const r=async()=>{try{const c=await W.get("/settings");a(c.data.data)}catch(c){console.error("Error fetching settings:",c)}},n=(s==null?void 0:s.whatsappNumber)||"+1234567890",o=(s==null?void 0:s.socialMedia)||{},i=(s==null?void 0:s.locations)||["Gatineau (Quebec)","Downtown Ottawa"];return e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-display font-bold text-primary-400 mb-4",children:"M. Sucre"}),e.jsx("p",{className:"text-gray-400 mb-4",children:(s==null?void 0:s.tagline)||t("footer.tagline")}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[e.jsx("span",{children:""}),e.jsx("div",{children:i.map((c,m)=>e.jsx("div",{children:c},m))})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:t("footer.quickLinks")}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(_,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:t("nav.home")})}),e.jsx("li",{children:e.jsx(_,{to:"/custom-cakes",className:"text-gray-400 hover:text-white transition-colors",children:t("nav.customCakes")})}),e.jsx("li",{children:e.jsx(_,{to:"/catalog",className:"text-gray-400 hover:text-white transition-colors",children:t("nav.catalog")})}),e.jsx("li",{children:e.jsx(_,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:t("nav.about")})}),e.jsx("li",{children:e.jsx(_,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:t("nav.contact")})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:t("footer.customerService")}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(_,{to:"/my-orders",className:"text-gray-400 hover:text-white transition-colors",children:"Track Order"})}),e.jsx("li",{children:e.jsx(_,{to:"/reviews",className:"text-gray-400 hover:text-white transition-colors",children:"Reviews"})}),e.jsx("li",{children:e.jsx(_,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms & Conditions"})}),e.jsx("li",{children:e.jsx("a",{href:`https://wa.me/${n.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",children:"WhatsApp Support"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:t("footer.newsletter")}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:t("footer.subscribeDesc")}),e.jsx("div",{className:"mb-6",children:e.jsx(Ll,{source:"footer",compact:!0})}),e.jsx("h4",{className:"text-lg font-semibold mb-4 mt-6",children:t("footer.followUs")}),e.jsxs("div",{className:"flex space-x-4",children:[o.whatsapp&&e.jsx("a",{href:`https://wa.me/${n.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-gray-400 hover:text-green-400 transition-colors",children:e.jsx(Vr,{})}),o.youtube&&e.jsx("a",{href:o.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(bh,{})}),o.tiktok&&e.jsx("a",{href:o.tiktok,target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-gray-400 hover:text-white transition-colors",children:e.jsx(vh,{})}),o.instagram&&e.jsx("a",{href:o.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-gray-400 hover:text-pink-500 transition-colors",children:e.jsx(yh,{})}),o.facebook&&e.jsx("a",{href:o.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx(gh,{})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Payment Method:"}),e.jsx("div",{className:"bg-gray-800 px-4 py-2 rounded-lg inline-block",children:e.jsx("span",{className:"text-sm font-semibold",children:"Interac e-Transfer"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400 text-sm",children:[e.jsxs("p",{children:[" ",new Date().getFullYear()," M. Sucre. ",t("footer.copyright")]}),e.jsxs("p",{className:"mt-2",children:[t("footer.madeWith"),"  ",t("footer.by")]})]})]})})},we=({fullScreen:t=!1})=>t?e.jsx("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-primary-600"})}),ze=({children:t})=>{var p;const s=ic(),a=Ve(),{user:r,logout:n}=et(),o=de(),[i,c]=y.useState(!0),m=async()=>{await n(),o.success("Logged out successfully"),a("/")},l=[{name:"Dashboard",path:"/admin",icon:Qt},{name:"Hero Section",path:"/admin/hero",icon:dt},{name:"Products",path:"/admin/products",icon:Et},{name:"Combos",path:"/admin/combos",icon:ar},{name:"Orders",path:"/admin/orders",icon:Pt},{name:"Custom Requests",path:"/admin/custom-requests",icon:is},{name:"Reviews",path:"/admin/reviews",icon:Oe},{name:"Newsletter",path:"/admin/newsletter",icon:Pe},{name:"Offers & Promos",path:"/admin/offers",icon:ar},{name:"Settings",path:"/admin/settings",icon:Dl}],d=u=>u==="/admin"?s.pathname==="/admin":s.pathname.startsWith(u);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b sticky top-0 z-40",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>c(!i),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i?e.jsx(Ne,{className:"text-xl"}):e.jsx(Tl,{className:"text-xl"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-display font-bold text-primary-600",children:"M. Sucre"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(_,{to:"/",className:"text-sm text-gray-600 hover:text-primary-600 flex items-center space-x-1",children:[e.jsx(Rh,{}),e.jsx("span",{className:"hidden md:inline",children:"View Website"})]}),e.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center font-semibold",children:((p=r==null?void 0:r.name)==null?void 0:p.charAt(0))||"A"}),e.jsxs("div",{className:"hidden md:block",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(r==null?void 0:r.name)||"Admin"}),e.jsx("p",{className:"text-xs text-gray-500",children:(r==null?void 0:r.role)||"Administrator"})]})]}),e.jsx("button",{onClick:m,className:"p-2 text-gray-600 hover:text-red-600 transition-colors",title:"Logout",children:e.jsx(Mh,{className:"text-xl"})})]})]})}),e.jsxs("div",{className:"flex",children:[e.jsxs("aside",{className:`${i?"w-64":"w-0"} bg-white border-r transition-all duration-300 ease-in-out overflow-hidden flex flex-col fixed left-0 top-[73px] bottom-0 z-30`,children:[e.jsx("nav",{className:"p-4 space-y-1 flex-1 overflow-y-auto",children:l.map(u=>{const h=u.icon,x=d(u.path);return e.jsxs(_,{to:u.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${x?"bg-primary-600 text-white shadow-md":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(h,{className:`text-xl ${x?"text-white":"text-gray-400"}`}),e.jsx("span",{className:"font-medium",children:u.name}),x&&e.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full"})]},u.path)})}),i&&e.jsx("div",{className:"p-4 border-t bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"M. Sucre Admin v1.0"}),e.jsx(_,{to:"/",className:"text-xs text-primary-600 hover:underline",children:"Back to Website "})]})})]}),e.jsx("main",{className:`flex-1 transition-all duration-300 ${i?"ml-64":"ml-0"}`,children:t})]})]})},X=t=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(t),ye=t=>new Date(t).toLocaleString("en-CA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),fi=(t,s)=>t*(s/100),gi=(t=2)=>{const s=new Date;return s.setDate(s.getDate()+t),s.toISOString().split("T")[0]},Hh=(t,s="")=>{const a=t.replace(/[^0-9]/g,""),r=encodeURIComponent(s);return`https://wa.me/${a}${s?`?text=${r}`:""}`},ds=t=>({"Order Placed":"bg-blue-100 text-blue-800","Awaiting e-Transfer":"bg-yellow-100 text-yellow-800","Payment Received":"bg-green-100 text-green-800","Design Confirmed":"bg-purple-100 text-purple-800","In Preparation":"bg-orange-100 text-orange-800","Ready for Pickup":"bg-cyan-100 text-cyan-800","Out for Delivery":"bg-indigo-100 text-indigo-800",Completed:"bg-green-100 text-green-800",Cancelled:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",Il=({product:t})=>{var o,i;const{t:s}=tt(),{addToCart:a}=Bt();Ve();const r=de(),n=c=>{var m;c.preventDefault(),a({productId:t._id,title:t.title,unitPrice:t.price,image:(m=t.images[0])==null?void 0:m.url,quantity:1}),r.success(`${t.title} added to cart!`,2e3)};return e.jsxs(_,{to:`/products/${t.slug}`,className:"card group hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden bg-gray-100",children:[e.jsx("img",{src:((o=t.images[0])==null?void 0:o.url)||"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&h=600&fit=crop&q=80",alt:((i=t.images[0])==null?void 0:i.alt)||t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:c=>{c.target.onerror=null,c.target.src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&h=600&fit=crop&q=80"}}),t.isBestseller&&e.jsx("span",{className:"absolute top-2 left-2 bg-primary-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:s("product.bestseller")}),t.sampleEligible&&e.jsx("span",{className:"absolute top-2 right-2 bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:s("product.sampleAvailable")})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 group-hover:text-primary-600 transition-colors",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:t.description}),t.flavor&&e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full",children:t.flavor})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("span",{className:"text-2xl font-bold text-primary-600",children:X(t.price)}),e.jsx("button",{onClick:n,className:"btn-primary py-2 px-4 text-sm",children:s("product.addToCart")})]}),t.leadTimeDays>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" ",t.leadTimeDays," ",(t.leadTimeDays>1,s("product.days"))," ",s("product.leadTime")]})]})]})},Vl=({combo:t})=>{var o,i,c,m;const{t:s}=tt(),a=Ve(),r=()=>{a(`/combos/${t._id}`)},n=l=>{if(!l)return null;if(l.startsWith("http"))return l;let d="https://msucre-backend-65c219542360.herokuapp.com/api";d.startsWith("/api")?d=window.location.origin:d.startsWith("http")||(d=window.location.hostname==="localhost"?"http://localhost:5000":window.location.origin);const p=l.startsWith("/")?l:`/${l}`;return`${d}${p}`};return e.jsxs("div",{onClick:r,className:"card group hover:shadow-xl transition-shadow duration-300 cursor-pointer",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden bg-gray-100",children:[(i=(o=t.images)==null?void 0:o[0])!=null&&i.url?e.jsx("img",{src:n(t.images[0].url),alt:t.images[0].alt||t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:l=>{l.target.onerror=null,l.target.src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&h=600&fit=crop&q=80"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(is,{className:"text-6xl"})}),t.isBestseller&&e.jsx("span",{className:"absolute top-2 left-2 bg-primary-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:s("product.bestseller")}),t.originalPrice&&t.originalPrice>t.price&&e.jsxs("span",{className:"absolute top-2 right-2 bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:[Math.round((t.originalPrice-t.price)/t.originalPrice*100),"% OFF"]}),!t.isActive&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("span",{className:"bg-red-500 text-white px-4 py-2 rounded-lg font-semibold",children:s("product.outOfStock")})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-primary-600 transition-colors flex-1",children:t.name}),e.jsx($s,{className:"text-primary-600 ml-2 flex-shrink-0"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.shortDescription||t.description}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[(c=t.items)==null?void 0:c.slice(0,3).map((l,d)=>{var p;return e.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full",children:[l.name||((p=l.productId)==null?void 0:p.title)||"Product"," x",l.quantity]},d)}),((m=t.items)==null?void 0:m.length)>3&&e.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full",children:["+",t.items.length-3," more"]})]})}),e.jsx("div",{className:"flex items-center justify-between mt-4",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl font-bold text-primary-600",children:X(t.price)}),t.originalPrice&&t.originalPrice>t.price&&e.jsx("span",{className:"ml-2 text-sm text-gray-500 line-through",children:X(t.originalPrice)})]})}),t.leadTimeDays>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" ",t.leadTimeDays," ",(t.leadTimeDays>1,s("product.days"))," ",s("product.leadTime")]})]})]})},Wh=()=>{const[t,s]=y.useState(!1),[a,r]=y.useState(null);y.useEffect(()=>{n()},[]);const n=async()=>{var m;try{const d=(await W.get("/settings/popupConfig")).data.data;d&&d.enabled&&(sessionStorage.getItem("popupShown")||(r(d),setTimeout(()=>{s(!0),sessionStorage.setItem("popupShown","true")},3e3)))}catch(l){((m=l.response)==null?void 0:m.status)!==404&&console.error("Error fetching popup config:",l)}},o=()=>{s(!1)};if(!a)return null;const i=()=>{switch(a.type){case"freeSample":return e.jsx(is,{className:"text-5xl text-green-500"});case"discount":return e.jsx(Fh,{className:"text-5xl text-primary-500"});case"limitedTime":return e.jsx(_t,{className:"text-5xl text-orange-500"});default:return e.jsx(is,{className:"text-5xl text-primary-500"})}},c=()=>{switch(a.type){case"freeSample":return" Free Sample Available!";case"discount":return" Special Discount!";case"limitedTime":return" Limited Time Offer!";default:return" Special Offer!"}};return e.jsx(ts,{children:t&&e.jsx(e.Fragment,{children:e.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:o,children:e.jsxs(ke.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",duration:.5},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative",onClick:m=>m.stopPropagation(),children:[e.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ne,{className:"text-xl"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4 flex justify-center",children:i()}),e.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4",children:c()}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:a.message}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>{o(),window.location.href="/catalog"},className:"btn-primary flex-1",children:"Shop Now"}),e.jsx("button",{onClick:o,className:"btn-outline flex-1",children:"Maybe Later"})]})]})]})})})})},Gh=()=>{var g;const{t}=tt(),[s,a]=y.useState(null),[r,n]=y.useState([]),[o,i]=y.useState([]),[c,m]=y.useState([]),[l,d]=y.useState(null),[p,u]=y.useState(!0);y.useEffect(()=>{h(!0);const v=setInterval(()=>{h(!1)},6e4);return()=>clearInterval(v)},[]);const h=async(v=!1)=>{try{v&&u(!0);const[w,C,S,M,B]=await Promise.all([W.get("/settings"),W.get("/testimonials?featured=true"),W.get("/products?bestseller=true"),W.get("/combos?active=true&bestseller=true").catch(()=>({data:{data:[]}})),W.get("/settings/heroSection").catch(D=>{var E;return((E=D.response)==null?void 0:E.status)!==404&&console.error("Error fetching hero settings:",D),{data:{data:null}}})]);if(a(w.data.data),n(C.data.data.slice(0,3)),i(S.data.data.slice(0,4)),m(M.data.data.slice(0,4)),B.data.data)d(B.data.data);else{const D=localStorage.getItem("heroSection");if(D)try{d(JSON.parse(D))}catch{d(null)}}}catch(w){console.error("Error fetching data:",w)}finally{v&&u(!1)}};if(p)return e.jsx(we,{fullScreen:!0});const x=l?{...l,tagline:l.tagline||(s==null?void 0:s.tagline)||t("home.heroTitle"),description:l.description||t("home.heroDescription"),primaryCTA:l.primaryCTA||{text:` ${t("home.startCustom")}`,link:"/custom-cakes"},secondaryCTA:l.secondaryCTA||{text:t("home.browseCatalog"),link:"/catalog"},badges:l.badges||[{text:t("home.freeSample"),icon:""},{text:t("home.firstOrderDiscount"),icon:""},{text:t("home.leadTimeBadge"),icon:""}]}:{mainHeading:"M. Sucre",tagline:(s==null?void 0:s.tagline)||t("home.heroTitle"),description:t("home.heroDescription"),primaryCTA:{text:` ${t("home.startCustom")}`,link:"/custom-cakes"},secondaryCTA:{text:t("home.browseCatalog"),link:"/catalog"},heroImage:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&q=80",badges:[{text:t("home.freeSample"),icon:""},{text:t("home.firstOrderDiscount"),icon:""},{text:t("home.leadTimeBadge"),icon:""}],locations:(s==null?void 0:s.locations)||["Gatineau (Quebec)","Downtown Ottawa"],customerAvatars:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"],happyCustomersCount:"500+"},f=(s==null?void 0:s.whatsappNumber)||"+1234567890";return e.jsxs("div",{className:"min-h-screen",children:[e.jsx(Wh,{}),e.jsx("section",{className:"bg-gradient-to-br from-primary-50 via-white to-pink-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs(ke.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},children:[e.jsxs("div",{className:"inline-block bg-primary-100 text-primary-700 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[t("home.serving")," ",x.locations.join(` ${t("common.and")} `)]}),e.jsx("h1",{className:"text-5xl md:text-6xl font-display font-bold text-gray-900 mb-6 leading-tight",children:x.mainHeading}),e.jsx("p",{className:"text-2xl text-gray-600 mb-8 italic",children:x.tagline}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:x.description}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(_,{to:x.primaryCTA.link,className:"btn-primary text-center",children:x.primaryCTA.text}),e.jsx(_,{to:x.secondaryCTA.link,className:"btn-secondary text-center",children:x.secondaryCTA.text})]}),e.jsx("div",{className:"mt-8 flex flex-wrap gap-4 text-sm text-gray-600",children:x.badges.map((v,w)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600",children:v.icon}),e.jsx("span",{children:v.text})]},w))})]}),e.jsxs(ke.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"relative",children:[e.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl",children:[e.jsx("img",{src:x.heroImage,alt:"Beautiful custom cake",className:"w-full h-[500px] object-cover",onError:v=>{v.target.src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&q=80"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]}),e.jsx("div",{className:"absolute -bottom-6 -left-6 bg-white rounded-2xl shadow-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex -space-x-2",children:(x.customerAvatars||["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"]).slice(0,3).map((v,w)=>e.jsx("img",{src:v,alt:`Customer ${w+1}`,className:"w-10 h-10 rounded-full border-2 border-white object-cover",onError:C=>{C.target.src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"}},w))}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(v=>e.jsx(Oe,{className:"text-yellow-400 text-sm"},v))}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[x.happyCustomersCount||"500+"," ",t("home.happyCustomers")]})]})]})})]})]})})}),e.jsxs("section",{className:"section-container",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:t("home.bestsellers")}),e.jsx("p",{className:"text-lg text-gray-600",children:t("home.bestsellersDesc")})]}),o.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(v=>e.jsx(Il,{product:v},v._id))}):e.jsx("p",{className:"text-center text-gray-500",children:t("home.noProducts")}),e.jsx("div",{className:"text-center mt-10",children:e.jsx(_,{to:"/catalog",className:"btn-secondary",children:t("home.viewAllProducts")})})]}),c.length>0&&e.jsxs("section",{className:"section-container bg-gradient-to-br from-purple-50 via-white to-pink-50",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:" Special Combo Deals"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Perfect combinations of cakes and pastries at amazing prices"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(v=>e.jsx(Vl,{combo:v},v._id))}),e.jsx("div",{className:"text-center mt-10",children:e.jsx(_,{to:"/combos",className:"btn-secondary",children:"View All Combos"})})]}),e.jsx("section",{className:"bg-gradient-to-r from-primary-600 to-pink-600 text-white",children:e.jsx("div",{className:"section-container",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h2",{className:"text-4xl font-display font-bold mb-6",children:t("home.createDreamCake")}),e.jsx("p",{className:"text-xl mb-8 opacity-90",children:t("home.createDreamCakeDesc")}),e.jsx(_,{to:"/custom-cakes",className:"btn-secondary bg-white text-primary-600 hover:bg-gray-100",children:t("home.startDesigning")})]})})}),e.jsxs("section",{className:"section-container bg-gray-50",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:t("home.testimonials")}),e.jsx("p",{className:"text-lg text-gray-600",children:t("home.testimonialsDesc")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((v,w)=>e.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"card p-6",children:[e.jsx("div",{className:"flex items-center space-x-1 mb-4",children:[...Array(v.rating||5)].map((C,S)=>e.jsx(Oe,{className:"text-yellow-400"},S))}),e.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',v.body,'"']}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:v.author}),v.location&&e.jsx("p",{className:"text-sm text-gray-500",children:v.location})]})]},v._id))}),e.jsx("div",{className:"text-center mt-10",children:e.jsxs(_,{to:"/reviews",className:"text-primary-600 hover:underline font-semibold",children:[t("home.readMoreReviews")," "]})})]}),e.jsx("section",{className:"section-container bg-gradient-to-br from-primary-50 via-white to-pink-50",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx(Ll,{source:"home",showName:!0})})}),e.jsxs("section",{className:"section-container",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:t("home.followJourney")}),e.jsx("p",{className:"text-lg text-gray-600",children:t("home.followJourneyDesc")})]}),e.jsx("div",{className:"flex justify-center space-x-6 mb-8",children:e.jsxs("a",{href:`https://wa.me/${f.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[e.jsx(Vr,{className:"text-2xl"}),e.jsx("span",{children:t("home.chatWhatsApp")})]})}),((g=s==null?void 0:s.socialMedia)==null?void 0:g.youtube)&&s.socialMedia.youtube.includes("youtube")&&e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"aspect-video",children:e.jsx("iframe",{src:s.socialMedia.youtube.includes("embed")?s.socialMedia.youtube:s.socialMedia.youtube.replace("watch?v=","embed/").replace("youtube.com/","youtube.com/embed/"),className:"w-full h-full rounded-lg border-0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",title:"M. Sucre YouTube Video",loading:"lazy"})}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:t("home.watchVideoDesc")})]})]}),e.jsx("section",{className:"bg-primary-50 py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"500+"}),e.jsx("div",{className:"text-gray-600",children:t("home.happyCustomersCount")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"5"}),e.jsx("div",{className:"text-gray-600",children:t("home.averageRating")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"100%"}),e.jsx("div",{className:"text-gray-600",children:t("home.freshIngredients")})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:["2 ",t("product.days")]}),e.jsx("div",{className:"text-gray-600",children:t("home.leadTime")})]})]})})})]})};var zl={exports:{}},Kh="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Yh=Kh,Qh=Yh;function Bl(){}function _l(){}_l.resetWarningCache=Bl;var Jh=function(){function t(r,n,o,i,c,m){if(m!==Qh){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function s(){return t}var a={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:s,element:t,elementType:t,instanceOf:s,node:t,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:_l,resetWarningCache:Bl};return a.PropTypes=a,a};zl.exports=Jh();var Xh=zl.exports;const re=oc(Xh);function wt(t,s,a,r){function n(o){return o instanceof a?o:new a(function(i){i(o)})}return new(a||(a=Promise))(function(o,i){function c(d){try{l(r.next(d))}catch(p){i(p)}}function m(d){try{l(r.throw(d))}catch(p){i(p)}}function l(d){d.done?o(d.value):n(d.value).then(c,m)}l((r=r.apply(t,s||[])).next())})}const Zh=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function It(t,s,a){const r=ef(t),{webkitRelativePath:n}=t,o=typeof s=="string"?s:typeof n=="string"&&n.length>0?n:`./${t.name}`;return typeof r.path!="string"&&yi(r,"path",o),a!==void 0&&Object.defineProperty(r,"handle",{value:a,writable:!1,configurable:!1,enumerable:!0}),yi(r,"relativePath",o),r}function ef(t){const{name:s}=t;if(s&&s.lastIndexOf(".")!==-1&&!t.type){const r=s.split(".").pop().toLowerCase(),n=Zh.get(r);n&&Object.defineProperty(t,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return t}function yi(t,s,a){Object.defineProperty(t,s,{value:a,writable:!1,configurable:!1,enumerable:!0})}const tf=[".DS_Store","Thumbs.db"];function sf(t){return wt(this,void 0,void 0,function*(){return Us(t)&&af(t.dataTransfer)?lf(t.dataTransfer,t.type):rf(t)?nf(t):Array.isArray(t)&&t.every(s=>"getFile"in s&&typeof s.getFile=="function")?of(t):[]})}function af(t){return Us(t)}function rf(t){return Us(t)&&Us(t.target)}function Us(t){return typeof t=="object"&&t!==null}function nf(t){return rr(t.target.files).map(s=>It(s))}function of(t){return wt(this,void 0,void 0,function*(){return(yield Promise.all(t.map(a=>a.getFile()))).map(a=>It(a))})}function lf(t,s){return wt(this,void 0,void 0,function*(){if(t.items){const a=rr(t.items).filter(n=>n.kind==="file");if(s!=="drop")return a;const r=yield Promise.all(a.map(cf));return vi($l(r))}return vi(rr(t.files).map(a=>It(a)))})}function vi(t){return t.filter(s=>tf.indexOf(s.name)===-1)}function rr(t){if(t===null)return[];const s=[];for(let a=0;a<t.length;a++){const r=t[a];s.push(r)}return s}function cf(t){if(typeof t.webkitGetAsEntry!="function")return bi(t);const s=t.webkitGetAsEntry();return s&&s.isDirectory?Ul(s):bi(t,s)}function $l(t){return t.reduce((s,a)=>[...s,...Array.isArray(a)?$l(a):[a]],[])}function bi(t,s){return wt(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const i=yield o.getFile();return i.handle=o,It(i)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return It(r,(a=s==null?void 0:s.fullPath)!==null&&a!==void 0?a:void 0)})}function df(t){return wt(this,void 0,void 0,function*(){return t.isDirectory?Ul(t):mf(t)})}function Ul(t){const s=t.createReader();return new Promise((a,r)=>{const n=[];function o(){s.readEntries(i=>wt(this,void 0,void 0,function*(){if(i.length){const c=Promise.all(i.map(df));n.push(c),o()}else try{const c=yield Promise.all(n);a(c)}catch(c){r(c)}}),i=>{r(i)})}o()})}function mf(t){return wt(this,void 0,void 0,function*(){return new Promise((s,a)=>{t.file(r=>{const n=It(r,t.fullPath);s(n)},r=>{a(r)})})})}var La=function(t,s){if(t&&s){var a=Array.isArray(s)?s:s.split(",");if(a.length===0)return!0;var r=t.name||"",n=(t.type||"").toLowerCase(),o=n.replace(/\/.*$/,"");return a.some(function(i){var c=i.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?o===c.replace(/\/.*$/,""):n===c})}return!0};function ji(t){return xf(t)||uf(t)||Hl(t)||pf()}function pf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uf(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xf(t){if(Array.isArray(t))return nr(t)}function Ni(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function wi(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?Ni(Object(a),!0).forEach(function(r){ql(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ni(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function ql(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function ms(t,s){return gf(t)||ff(t,s)||Hl(t,s)||hf()}function hf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hl(t,s){if(t){if(typeof t=="string")return nr(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nr(t,s)}}function nr(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,r=new Array(s);a<s;a++)r[a]=t[a];return r}function ff(t,s){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var r=[],n=!0,o=!1,i,c;try{for(a=a.call(t);!(n=(i=a.next()).done)&&(r.push(i.value),!(s&&r.length===s));n=!0);}catch(m){o=!0,c=m}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw c}}return r}}function gf(t){if(Array.isArray(t))return t}var yf=typeof La=="function"?La:La.default,vf="file-invalid-type",bf="file-too-large",jf="file-too-small",Nf="too-many-files",wf=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=s.split(","),r=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:vf,message:"File type must be ".concat(r)}},Ci=function(s){return{code:bf,message:"File is larger than ".concat(s," ").concat(s===1?"byte":"bytes")}},ki=function(s){return{code:jf,message:"File is smaller than ".concat(s," ").concat(s===1?"byte":"bytes")}},Cf={code:Nf,message:"Too many files"};function Wl(t,s){var a=t.type==="application/x-moz-file"||yf(t,s);return[a,a?null:wf(s)]}function Gl(t,s,a){if(ft(t.size))if(ft(s)&&ft(a)){if(t.size>a)return[!1,Ci(a)];if(t.size<s)return[!1,ki(s)]}else{if(ft(s)&&t.size<s)return[!1,ki(s)];if(ft(a)&&t.size>a)return[!1,Ci(a)]}return[!0,null]}function ft(t){return t!=null}function kf(t){var s=t.files,a=t.accept,r=t.minSize,n=t.maxSize,o=t.multiple,i=t.maxFiles,c=t.validator;return!o&&s.length>1||o&&i>=1&&s.length>i?!1:s.every(function(m){var l=Wl(m,a),d=ms(l,1),p=d[0],u=Gl(m,r,n),h=ms(u,1),x=h[0],f=c?c(m):null;return p&&x&&!f})}function qs(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function ks(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(s){return s==="Files"||s==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Si(t){t.preventDefault()}function Sf(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Pf(t){return t.indexOf("Edge/")!==-1}function Af(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Sf(t)||Pf(t)}function We(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return s.some(function(c){return!qs(r)&&c&&c.apply(void 0,[r].concat(o)),qs(r)})}}function Tf(){return"showOpenFilePicker"in window}function Df(t){if(ft(t)){var s=Object.entries(t).filter(function(a){var r=ms(a,2),n=r[0],o=r[1],i=!0;return Kl(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(o)||!o.every(Yl))&&(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(a,r){var n=ms(r,2),o=n[0],i=n[1];return wi(wi({},a),{},ql({},o,i))},{});return[{description:"Files",accept:s}]}return t}function Rf(t){if(ft(t))return Object.entries(t).reduce(function(s,a){var r=ms(a,2),n=r[0],o=r[1];return[].concat(ji(s),[n],ji(o))},[]).filter(function(s){return Kl(s)||Yl(s)}).join(",")}function Ef(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Of(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function Kl(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function Yl(t){return/^.*\.[\w]+$/.test(t)}var Ff=["children"],Mf=["open"],Lf=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],If=["refKey","onChange","onClick"];function Vf(t){return _f(t)||Bf(t)||Ql(t)||zf()}function zf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bf(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _f(t){if(Array.isArray(t))return ir(t)}function Ia(t,s){return qf(t)||Uf(t,s)||Ql(t,s)||$f()}function $f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ql(t,s){if(t){if(typeof t=="string")return ir(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ir(t,s)}}function ir(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,r=new Array(s);a<s;a++)r[a]=t[a];return r}function Uf(t,s){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var r=[],n=!0,o=!1,i,c;try{for(a=a.call(t);!(n=(i=a.next()).done)&&(r.push(i.value),!(s&&r.length===s));n=!0);}catch(m){o=!0,c=m}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw c}}return r}}function qf(t){if(Array.isArray(t))return t}function Pi(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function oe(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?Pi(Object(a),!0).forEach(function(r){or(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Pi(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function or(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function Hs(t,s){if(t==null)return{};var a=Hf(t,s),r,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Hf(t,s){if(t==null)return{};var a={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(s.indexOf(n)>=0)&&(a[n]=t[n]);return a}var _r=y.forwardRef(function(t,s){var a=t.children,r=Hs(t,Ff),n=Xl(r),o=n.open,i=Hs(n,Mf);return y.useImperativeHandle(s,function(){return{open:o}},[o]),Ie.createElement(y.Fragment,null,a(oe(oe({},i),{},{open:o})))});_r.displayName="Dropzone";var Jl={disabled:!1,getFilesFromEvent:sf,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};_r.defaultProps=Jl;_r.propTypes={children:re.func,accept:re.objectOf(re.arrayOf(re.string)),multiple:re.bool,preventDropOnDocument:re.bool,noClick:re.bool,noKeyboard:re.bool,noDrag:re.bool,noDragEventsBubbling:re.bool,minSize:re.number,maxSize:re.number,maxFiles:re.number,disabled:re.bool,getFilesFromEvent:re.func,onFileDialogCancel:re.func,onFileDialogOpen:re.func,useFsAccessApi:re.bool,autoFocus:re.bool,onDragEnter:re.func,onDragLeave:re.func,onDragOver:re.func,onDrop:re.func,onDropAccepted:re.func,onDropRejected:re.func,onError:re.func,validator:re.func};var lr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Xl(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=oe(oe({},Jl),t),a=s.accept,r=s.disabled,n=s.getFilesFromEvent,o=s.maxSize,i=s.minSize,c=s.multiple,m=s.maxFiles,l=s.onDragEnter,d=s.onDragLeave,p=s.onDragOver,u=s.onDrop,h=s.onDropAccepted,x=s.onDropRejected,f=s.onFileDialogCancel,g=s.onFileDialogOpen,v=s.useFsAccessApi,w=s.autoFocus,C=s.preventDropOnDocument,S=s.noClick,M=s.noKeyboard,B=s.noDrag,D=s.noDragEventsBubbling,E=s.onError,$=s.validator,k=y.useMemo(function(){return Rf(a)},[a]),A=y.useMemo(function(){return Df(a)},[a]),b=y.useMemo(function(){return typeof g=="function"?g:Ai},[g]),O=y.useMemo(function(){return typeof f=="function"?f:Ai},[f]),z=y.useRef(null),G=y.useRef(null),N=y.useReducer(Wf,lr),U=Ia(N,2),q=U[0],R=U[1],Q=q.isFocused,I=q.isFileDialogActive,Y=y.useRef(typeof window<"u"&&window.isSecureContext&&v&&Tf()),T=function(){!Y.current&&I&&setTimeout(function(){if(G.current){var Z=G.current.files;Z.length||(R({type:"closeDialog"}),O())}},300)};y.useEffect(function(){return window.addEventListener("focus",T,!1),function(){window.removeEventListener("focus",T,!1)}},[G,I,O,Y]);var V=y.useRef([]),F=function(Z){z.current&&z.current.contains(Z.target)||(Z.preventDefault(),V.current=[])};y.useEffect(function(){return C&&(document.addEventListener("dragover",Si,!1),document.addEventListener("drop",F,!1)),function(){C&&(document.removeEventListener("dragover",Si),document.removeEventListener("drop",F))}},[z,C]),y.useEffect(function(){return!r&&w&&z.current&&z.current.focus(),function(){}},[z,w,r]);var j=y.useCallback(function(H){E?E(H):console.error(H)},[E]),L=y.useCallback(function(H){H.preventDefault(),H.persist(),kt(H),V.current=[].concat(Vf(V.current),[H.target]),ks(H)&&Promise.resolve(n(H)).then(function(Z){if(!(qs(H)&&!D)){var me=Z.length,he=me>0&&kf({files:Z,accept:k,minSize:i,maxSize:o,multiple:c,maxFiles:m,validator:$}),Re=me>0&&!he;R({isDragAccept:he,isDragReject:Re,isDragActive:!0,type:"setDraggedFiles"}),l&&l(H)}}).catch(function(Z){return j(Z)})},[n,l,j,D,k,i,o,c,m,$]),ee=y.useCallback(function(H){H.preventDefault(),H.persist(),kt(H);var Z=ks(H);if(Z&&H.dataTransfer)try{H.dataTransfer.dropEffect="copy"}catch{}return Z&&p&&p(H),!1},[p,D]),ae=y.useCallback(function(H){H.preventDefault(),H.persist(),kt(H);var Z=V.current.filter(function(he){return z.current&&z.current.contains(he)}),me=Z.indexOf(H.target);me!==-1&&Z.splice(me,1),V.current=Z,!(Z.length>0)&&(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ks(H)&&d&&d(H))},[z,d,D]),ie=y.useCallback(function(H,Z){var me=[],he=[];H.forEach(function(Re){var Ht=Wl(Re,k),St=Ia(Ht,2),ma=St[0],pa=St[1],ua=Gl(Re,i,o),vs=Ia(ua,2),xa=vs[0],ha=vs[1],fa=$?$(Re):null;if(ma&&xa&&!fa)me.push(Re);else{var ga=[pa,ha];fa&&(ga=ga.concat(fa)),he.push({file:Re,errors:ga.filter(function(rc){return rc})})}}),(!c&&me.length>1||c&&m>=1&&me.length>m)&&(me.forEach(function(Re){he.push({file:Re,errors:[Cf]})}),me.splice(0)),R({acceptedFiles:me,fileRejections:he,isDragReject:he.length>0,type:"setFiles"}),u&&u(me,he,Z),he.length>0&&x&&x(he,Z),me.length>0&&h&&h(me,Z)},[R,c,k,i,o,m,u,h,x,$]),xe=y.useCallback(function(H){H.preventDefault(),H.persist(),kt(H),V.current=[],ks(H)&&Promise.resolve(n(H)).then(function(Z){qs(H)&&!D||ie(Z,H)}).catch(function(Z){return j(Z)}),R({type:"reset"})},[n,ie,j,D]),ve=y.useCallback(function(){if(Y.current){R({type:"openDialog"}),b();var H={multiple:c,types:A};window.showOpenFilePicker(H).then(function(Z){return n(Z)}).then(function(Z){ie(Z,null),R({type:"closeDialog"})}).catch(function(Z){Ef(Z)?(O(Z),R({type:"closeDialog"})):Of(Z)?(Y.current=!1,G.current?(G.current.value=null,G.current.click()):j(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):j(Z)});return}G.current&&(R({type:"openDialog"}),b(),G.current.value=null,G.current.click())},[R,b,O,v,ie,j,A,c]),qe=y.useCallback(function(H){!z.current||!z.current.isEqualNode(H.target)||(H.key===" "||H.key==="Enter"||H.keyCode===32||H.keyCode===13)&&(H.preventDefault(),ve())},[z,ve]),$t=y.useCallback(function(){R({type:"focus"})},[]),Ut=y.useCallback(function(){R({type:"blur"})},[]),qt=y.useCallback(function(){S||(Af()?setTimeout(ve,0):ve())},[S,ve]),ge=function(Z){return r?null:Z},De=function(Z){return M?null:ge(Z)},Ct=function(Z){return B?null:ge(Z)},kt=function(Z){D&&Z.stopPropagation()},tc=y.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=H.refKey,me=Z===void 0?"ref":Z,he=H.role,Re=H.onKeyDown,Ht=H.onFocus,St=H.onBlur,ma=H.onClick,pa=H.onDragEnter,ua=H.onDragOver,vs=H.onDragLeave,xa=H.onDrop,ha=Hs(H,Lf);return oe(oe(or({onKeyDown:De(We(Re,qe)),onFocus:De(We(Ht,$t)),onBlur:De(We(St,Ut)),onClick:ge(We(ma,qt)),onDragEnter:Ct(We(pa,L)),onDragOver:Ct(We(ua,ee)),onDragLeave:Ct(We(vs,ae)),onDrop:Ct(We(xa,xe)),role:typeof he=="string"&&he!==""?he:"presentation"},me,z),!r&&!M?{tabIndex:0}:{}),ha)}},[z,qe,$t,Ut,qt,L,ee,ae,xe,M,B,r]),sc=y.useCallback(function(H){H.stopPropagation()},[]),ac=y.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=H.refKey,me=Z===void 0?"ref":Z,he=H.onChange,Re=H.onClick,Ht=Hs(H,If),St=or({accept:k,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ge(We(he,xe)),onClick:ge(We(Re,sc)),tabIndex:-1},me,G);return oe(oe({},St),Ht)}},[G,a,c,xe,r]);return oe(oe({},q),{},{isFocused:Q&&!r,getRootProps:tc,getInputProps:ac,rootRef:z,inputRef:G,open:ge(ve)})}function Wf(t,s){switch(s.type){case"focus":return oe(oe({},t),{},{isFocused:!0});case"blur":return oe(oe({},t),{},{isFocused:!1});case"openDialog":return oe(oe({},lr),{},{isFileDialogActive:!0});case"closeDialog":return oe(oe({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return oe(oe({},t),{},{isDragActive:s.isDragActive,isDragAccept:s.isDragAccept,isDragReject:s.isDragReject});case"setFiles":return oe(oe({},t),{},{acceptedFiles:s.acceptedFiles,fileRejections:s.fileRejections,isDragReject:s.isDragReject});case"reset":return oe({},lr);default:return t}}function Ai(){}const Gf=()=>{const t=Ve(),{user:s}=et(),a=de(),[r,n]=y.useState({customerName:(s==null?void 0:s.name)||"",customerEmail:(s==null?void 0:s.email)||"",customerPhone:(s==null?void 0:s.phone)||"",flavor:"Vanilla",size:"8 inch (serves 10-12)",shape:"Round",layers:2,fillings:[],icing:"Buttercream",messageOnCake:"",theme:"",dietaryRequirements:[],deadlineAt:gi(6),notes:""}),[o,i]=y.useState([]),[c,m]=y.useState(!1),[l,d]=y.useState(75),{getRootProps:p,getInputProps:u}=Xl({accept:{"image/*":[".jpeg",".jpg",".png",".gif"]},maxFiles:5,onDrop:g=>{i([...o,...g].slice(0,5))}}),h=g=>{const{name:v,value:w,type:C,checked:S}=g.target;if(C==="checkbox"){const M=r[v]||[];n({...r,[v]:S?[...M,w]:M.filter(B=>B!==w)})}else n({...r,[v]:w});x({...r,[v]:w})},x=g=>{var w;let v=50;g.size.includes("10 inch")?v+=30:g.size.includes("12 inch")?v+=60:g.size.includes("14 inch")&&(v+=100),v+=(g.layers-1)*15,v+=(((w=g.fillings)==null?void 0:w.length)||0)*5,d(v)},f=async g=>{var v,w,C,S,M;g.preventDefault(),m(!0);try{const B=new FormData;Object.keys(r).forEach(E=>{if(E==="fillings"||E==="dietaryRequirements")Array.isArray(r[E])&&r[E].length>0&&B.append(E,JSON.stringify(r[E]));else if(E==="layers")B.append(E,r[E].toString());else if(E==="deadlineAt"){const $=new Date(r[E]);isNaN($.getTime())||B.append(E,$.toISOString())}else r[E]!==null&&r[E]!==void 0&&r[E]!==""&&B.append(E,r[E])}),o.forEach(E=>{B.append("images",E)});const D=await W.post("/custom-requests",B,{headers:{"Content-Type":"multipart/form-data"}});a.success("Custom cake request submitted successfully! We will contact you soon with a quote. ",4e3),setTimeout(()=>t("/"),1500)}catch(B){if(console.error("Submission error:",(v=B.response)==null?void 0:v.data),(C=(w=B.response)==null?void 0:w.data)!=null&&C.errors&&Array.isArray(B.response.data.errors)){const D=B.response.data.errors.map(E=>`${E.field}: ${E.message}`).join(", ");a.error(`Validation errors: ${D}`,6e3)}else a.error(((M=(S=B.response)==null?void 0:S.data)==null?void 0:M.message)||"Failed to submit request. Please check all required fields and try again.")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:"Create Your Custom Cake"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below and we'll create the perfect cake for your special occasion"})]}),e.jsxs("form",{onSubmit:f,className:"card p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),e.jsx("input",{type:"text",name:"customerName",value:r.customerName,onChange:h,required:!0,className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"customerEmail",value:r.customerEmail,onChange:h,required:!0,className:"input-field"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",name:"customerPhone",value:r.customerPhone,onChange:h,className:"input-field"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Reference Images"}),e.jsxs("div",{...p(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-primary-500 transition-colors",children:[e.jsx("input",{...u()}),e.jsx(ls,{className:"text-4xl text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Drag & drop images here, or click to select"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Maximum 5 images"})]}),o.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-4",children:o.map((g,v)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(g),alt:`Upload ${v+1}`,className:"w-full h-24 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>i(o.filter((w,C)=>C!==v)),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full",children:e.jsx(_e,{className:"text-xs"})})]},v))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Cake Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Flavor *"}),e.jsxs("select",{name:"flavor",value:r.flavor,onChange:h,className:"input-field",children:[e.jsx("option",{children:"Vanilla"}),e.jsx("option",{children:"Chocolate"}),e.jsx("option",{children:"Red Velvet"}),e.jsx("option",{children:"Nutella"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size *"}),e.jsxs("select",{name:"size",value:r.size,onChange:h,className:"input-field",children:[e.jsx("option",{children:"6 inch (serves 6-8)"}),e.jsx("option",{children:"8 inch (serves 10-12)"}),e.jsx("option",{children:"10 inch (serves 15-20)"}),e.jsx("option",{children:"12 inch (serves 25-30)"}),e.jsx("option",{children:"14 inch (serves 40-50)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shape"}),e.jsxs("select",{name:"shape",value:r.shape,onChange:h,className:"input-field",children:[e.jsx("option",{children:"Round"}),e.jsx("option",{children:"Square"}),e.jsx("option",{children:"Rectangle"}),e.jsx("option",{children:"Heart"}),e.jsx("option",{children:"Custom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Layers"}),e.jsx("input",{type:"number",name:"layers",value:r.layers,onChange:h,min:"1",max:"5",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icing Type"}),e.jsxs("select",{name:"icing",value:r.icing,onChange:h,className:"input-field",children:[e.jsx("option",{children:"Buttercream"}),e.jsx("option",{children:"Cream Cheese"}),e.jsx("option",{children:"Fondant"}),e.jsx("option",{children:"Whipped Cream"}),e.jsx("option",{children:"Ganache"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadline Date *"}),e.jsx("input",{type:"date",name:"deadlineAt",value:r.deadlineAt,onChange:h,min:gi(6),required:!0,className:"input-field",title:"Minimum 6 days advance notice required"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message on Cake"}),e.jsx("input",{type:"text",name:"messageOnCake",value:r.messageOnCake,onChange:h,placeholder:"e.g., Happy Birthday Sarah!",maxLength:"50",className:"input-field"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme/Occasion"}),e.jsx("input",{type:"text",name:"theme",value:r.theme,onChange:h,placeholder:"e.g., Princess theme, Wedding, Anniversary",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),e.jsx("textarea",{name:"notes",value:r.notes,onChange:h,rows:"4",placeholder:"Any special requests or details...",className:"input-field"})]})]}),e.jsx("div",{className:"bg-primary-50 rounded-lg p-6 mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estimated Price"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Final price will be confirmed after review"})]}),e.jsx("div",{className:"text-3xl font-bold text-primary-600",children:X(l)})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Important Information:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Minimum 6 days advance notice"})," required for all orders"]}),e.jsx("li",{children:" 50% non-refundable deposit needed to confirm your order"}),e.jsx("li",{children:" Changes must be requested at least 4 days before delivery date"}),e.jsx("li",{children:" All products may contain dairy, gluten, and eggs - please inform us of allergies"})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"btn-primary w-full text-lg",children:c?"Submitting...":"Submit Custom Cake Request"}),e.jsxs("p",{className:"text-sm text-gray-500 text-center mt-4",children:["We'll review your request and send you a detailed quote within 24 hours. By submitting, you agree to our"," ",e.jsx(_,{to:"/terms",className:"text-primary-600 hover:underline font-semibold",children:"Terms and Conditions"})]})]})]})})},Zl=({message:t,onRetry:s})=>e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx(Rl,{className:"text-4xl text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-red-600 mb-4",children:t||"An error occurred. Please try again."}),s&&e.jsx("button",{onClick:s,className:"btn-primary",children:"Try Again"})]}),Kf=()=>{const[t,s]=y.useState([]),[a,r]=y.useState(!0),[n,o]=y.useState(null),[i,c]=y.useState({category:"",flavor:"",search:""});y.useEffect(()=>{m(!0);const d=setInterval(()=>{m(!1)},6e4);return()=>clearInterval(d)},[i]);const m=async(d=!1)=>{var p,u;try{d&&r(!0);const h=new URLSearchParams;i.category&&h.append("category",i.category),i.flavor&&h.append("flavor",i.flavor),i.search&&h.append("search",i.search);const x=await W.get(`/products?${h.toString()}`);s(x.data.data),o(null)}catch(h){o(((u=(p=h.response)==null?void 0:p.data)==null?void 0:u.message)||"Failed to fetch products")}finally{d&&r(!1)}},l=(d,p)=>{c({...i,[d]:p})};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-8 text-center",children:"Our Catalog"}),e.jsx("div",{className:"card p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:i.category,onChange:d=>l("category",d.target.value),className:"input-field",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"prepaid",children:"Already Prepaid"}),e.jsx("option",{value:"bestseller",children:"Bestsellers"}),e.jsx("option",{value:"bento",children:"Bento Cakes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Flavor"}),e.jsxs("select",{value:i.flavor,onChange:d=>l("flavor",d.target.value),className:"input-field",children:[e.jsx("option",{value:"",children:"All Flavors"}),e.jsx("option",{value:"Vanilla",children:"Vanilla"}),e.jsx("option",{value:"Chocolate",children:"Chocolate"}),e.jsx("option",{value:"Red Velvet",children:"Red Velvet"}),e.jsx("option",{value:"Nutella",children:"Nutella"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsx("input",{type:"text",value:i.search,onChange:d=>l("search",d.target.value),placeholder:"Search cakes...",className:"input-field"})]})]})}),a?e.jsx(we,{}):n?e.jsx(Zl,{message:n,onRetry:m}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(d=>e.jsx(Il,{product:d},d._id))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your filters."})})]})})},Yf=()=>{tt();const[t,s]=y.useState([]),[a,r]=y.useState(!0),[n,o]=y.useState("all");y.useEffect(()=>{i(!0);const c=setInterval(()=>{i(!1)},6e4);return()=>clearInterval(c)},[n]);const i=async(c=!1)=>{try{c&&r(!0);const m=new URLSearchParams({active:"true"});n!=="all"&&m.append("category",n);const l=await W.get(`/combos?${m.toString()}`);s(l.data.data)}catch(m){console.error("Error fetching combos:",m)}finally{c&&r(!1)}};return a?e.jsx(we,{fullScreen:!0}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:" Combo Deals"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Perfect combinations of cakes and pastries at unbeatable prices"})]}),e.jsx("div",{className:"card p-6 mb-8",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg transition-colors ${n==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Combos"}),e.jsx("button",{onClick:()=>o("cake-pastry"),className:`px-4 py-2 rounded-lg transition-colors ${n==="cake-pastry"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Cake + Pastry"}),e.jsx("button",{onClick:()=>o("cake-only"),className:`px-4 py-2 rounded-lg transition-colors ${n==="cake-only"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Cake Only"}),e.jsx("button",{onClick:()=>o("pastry-only"),className:`px-4 py-2 rounded-lg transition-colors ${n==="pastry-only"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Pastry Only"}),e.jsx("button",{onClick:()=>o("special"),className:`px-4 py-2 rounded-lg transition-colors ${n==="special"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Special"})]})}),t.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(c=>e.jsx(Vl,{combo:c},c._id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No combos available at the moment."}),e.jsx(_,{to:"/catalog",className:"btn-primary mt-4 inline-block",children:"Browse Products"})]})]})})},Qf=()=>{var p,u,h;const{id:t}=Ws(),{t:s}=tt();Ve();const{addToCart:a}=Bt(),r=de(),[n,o]=y.useState(null),[i,c]=y.useState(!0);y.useEffect(()=>{m();const x=setInterval(()=>{m(!1)},6e4);return()=>clearInterval(x)},[t]);const m=async(x=!0)=>{try{x&&c(!0);const f=await W.get(`/combos/${t}`);o(f.data.data)}catch(f){console.error("Error fetching combo:",f),r.error("Failed to load combo details")}finally{x&&c(!1)}},l=()=>{var x,f;if(!n.isActive){r.error("This combo is currently unavailable");return}a({comboId:n._id,name:n.name,unitPrice:n.price,image:(f=(x=n.images)==null?void 0:x[0])==null?void 0:f.url,quantity:1,isCombo:!0}),r.success(`${n.name} added to cart!`,2e3)},d=x=>{if(!x)return null;if(x.startsWith("http"))return x;let f="https://msucre-backend-65c219542360.herokuapp.com/api";f.startsWith("/api")?f=window.location.origin:f.startsWith("http")||(f=window.location.hostname==="localhost"?"http://localhost:5000":window.location.origin);const g=x.startsWith("/")?x:`/${x}`;return`${f}${g}`};return i?e.jsx(we,{fullScreen:!0}):n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("nav",{className:"mb-6",children:e.jsx(_,{to:"/combos",className:"text-primary-600 hover:text-primary-800",children:" Back to Combos"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(u=(p=n.images)==null?void 0:p[0])!=null&&u.url?e.jsx("img",{src:d(n.images[0].url),alt:n.name,className:"w-full h-[500px] object-cover",onError:x=>{x.target.onerror=null,x.target.src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&h=600&fit=crop&q=80"}}):e.jsx("div",{className:"w-full h-[500px] flex items-center justify-center bg-gray-100",children:e.jsx(is,{className:"text-8xl text-gray-400"})}),n.originalPrice&&n.originalPrice>n.price&&e.jsxs("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg font-semibold",children:[Math.round((n.originalPrice-n.price)/n.originalPrice*100),"% OFF"]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx($s,{className:"text-primary-600"}),e.jsx("span",{className:"text-sm text-primary-600 font-semibold",children:"Combo Deal"})]}),e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:n.name}),n.shortDescription&&e.jsx("p",{className:"text-xl text-gray-600 mb-6",children:n.shortDescription}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline space-x-3",children:[e.jsx("span",{className:"text-4xl font-bold text-primary-600",children:X(n.price)}),n.originalPrice&&n.originalPrice>n.price&&e.jsx("span",{className:"text-xl text-gray-500 line-through",children:X(n.originalPrice)})]}),n.originalPrice&&n.originalPrice>n.price&&e.jsxs("p",{className:"text-sm text-green-600 mt-1 font-semibold",children:["Save ",X(n.originalPrice-n.price),"!"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.description})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"What's Included"}),e.jsx("div",{className:"space-y-3",children:(h=n.items)==null?void 0:h.map((x,f)=>{var g;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${x.type==="cake"?"bg-primary-100 text-primary-600":"bg-pink-100 text-pink-600"}`,children:x.type==="cake"?"":""}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:x.name||((g=x.productId)==null?void 0:g.title)||"Product"}),e.jsx("p",{className:"text-sm text-gray-500 capitalize",children:x.type})]})]}),e.jsxs("span",{className:"text-gray-700 font-semibold",children:["x",x.quantity]})]},f)})})]}),e.jsxs("div",{className:"border-t pt-6 space-y-3 mb-6",children:[n.leadTimeDays>0&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(_t,{}),e.jsxs("span",{children:[n.leadTimeDays," ",(n.leadTimeDays>1,s("product.days"))," ",s("product.leadTime")]})]}),n.category&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx($s,{}),e.jsx("span",{className:"capitalize",children:n.category.replace("-"," + ")})]})]}),n.tags&&n.tags.length>0&&e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map((x,f)=>e.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:x},f))})}),e.jsxs("button",{onClick:l,disabled:!n.isActive,className:`w-full btn-primary flex items-center justify-center space-x-2 ${n.isActive?"":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(da,{}),e.jsx("span",{children:n.isActive?s("product.addToCart"):s("product.outOfStock")})]})]})})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Combo not found"}),e.jsx(_,{to:"/combos",className:"btn-primary",children:"View All Combos"})]})})},Jf=()=>{var S,M,B;const{slug:t}=Ws(),s=Ve(),{addToCart:a}=Bt(),r=de(),[n,o]=y.useState(null),[i,c]=y.useState([]),[m,l]=y.useState(!0),[d,p]=y.useState(null),[u,h]=y.useState(1),[x,f]=y.useState(null);y.useEffect(()=>{g(!0);const D=setInterval(()=>{g(!1)},3e4);return()=>clearInterval(D)},[t]);const g=async(D=!1)=>{var E,$;try{D&&l(!0);const A=(await W.get(`/products/${t}`)).data.data;o(A),D&&A.sizeOptions&&A.sizeOptions.length>0&&f(A.sizeOptions[0].size);try{const O=(await W.get("/reviews")).data.data.filter(z=>z.productId&&z.productId._id===A._id);c(O)}catch(b){console.error("Error fetching reviews:",b)}p(null)}catch(k){p((($=(E=k.response)==null?void 0:E.data)==null?void 0:$.message)||"Failed to load product")}finally{D&&l(!1)}},v=()=>{var E,$;const D=x&&n.sizeOptions&&((E=n.sizeOptions.find(k=>k.size===x))==null?void 0:E.price)||n.price;a({productId:n._id,title:n.title,unitPrice:D,image:($=n.images[0])==null?void 0:$.url,quantity:u,selectedSize:x}),r.success(`${u} x ${n.title} added to cart! `,3e3)};if(m)return e.jsx(we,{fullScreen:!0});if(d)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsx(Zl,{message:d,onRetry:fetchProduct})})});if(!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Product Not Found"}),e.jsx("button",{onClick:()=>s("/catalog"),className:"btn-primary",children:"Back to Catalog"})]})});const w=x&&n.sizeOptions&&((S=n.sizeOptions.find(D=>D.size===x))==null?void 0:S.price)||n.price,C=i.length>0?(i.reduce((D,E)=>D+E.rating,0)/i.length).toFixed(1):0;return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("nav",{className:"mb-8 text-sm",children:[e.jsx("button",{onClick:()=>s("/"),className:"text-primary-600 hover:underline",children:"Home"}),e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),e.jsx("button",{onClick:()=>s("/catalog"),className:"text-primary-600 hover:underline",children:"Catalog"}),e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),e.jsx("span",{className:"text-gray-600",children:n.title})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12",children:[e.jsxs("div",{children:[e.jsx("div",{className:"card overflow-hidden",children:e.jsx("img",{src:((M=n.images[0])==null?void 0:M.url)||"/placeholder-cake.jpg",alt:((B=n.images[0])==null?void 0:B.alt)||n.title,className:"w-full h-[500px] object-cover"})}),n.images.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-4 mt-4",children:n.images.slice(1).map((D,E)=>e.jsx("img",{src:D.url,alt:D.alt,className:"w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity"},E))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.isBestseller&&e.jsx("span",{className:"bg-primary-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"Bestseller"}),n.sampleEligible&&e.jsx("span",{className:"bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"Free Sample Available"}),n.isBento&&e.jsx("span",{className:"bg-pink-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"Bento Cake"})]}),e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:n.title}),i.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((D,E)=>e.jsx(Oe,{className:E<Math.round(C)?"text-yellow-400":"text-gray-300"},E))}),e.jsxs("span",{className:"text-gray-600",children:[C," (",i.length," ",i.length===1?"review":"reviews",")"]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:"text-4xl font-bold text-primary-600",children:X(w)})}),e.jsx("p",{className:"text-gray-700 text-lg mb-6 leading-relaxed",children:n.description}),n.flavor&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Flavor"}),e.jsx("span",{className:"inline-block bg-primary-100 text-primary-800 px-4 py-2 rounded-lg font-medium",children:n.flavor})]}),n.sizeOptions&&n.sizeOptions.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Size"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.sizeOptions.map(D=>e.jsxs("button",{onClick:()=>f(D.size),className:`p-3 border-2 rounded-lg text-left transition-colors ${x===D.size?"border-primary-600 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx("div",{className:"font-medium",children:D.size}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Serves ",D.serves]}),e.jsx("div",{className:"text-primary-600 font-semibold mt-1",children:X(D.price)})]},D.size))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Quantity"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>h(Math.max(1,u-1)),className:"px-4 py-2 border-2 border-gray-300 rounded-lg hover:border-gray-400",children:"-"}),e.jsx("span",{className:"text-xl font-semibold w-12 text-center",children:u}),e.jsx("button",{onClick:()=>h(u+1),className:"px-4 py-2 border-2 border-gray-300 rounded-lg hover:border-gray-400",children:"+"})]})]}),e.jsxs("button",{onClick:v,className:"btn-primary w-full text-lg mb-6 flex items-center justify-center space-x-2",children:[e.jsx(da,{}),e.jsxs("span",{children:["Add to Cart - ",X(w*u)]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-3",children:[n.leadTimeDays>0&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[e.jsx(_t,{className:"text-primary-600"}),e.jsxs("span",{children:[n.leadTimeDays," day",n.leadTimeDays>1?"s":""," lead time"]})]}),n.available?e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(Se,{className:"text-green-600"}),e.jsx("span",{children:"In Stock"})]}):e.jsx("div",{className:"flex items-center space-x-2 text-red-700",children:e.jsx("span",{children:"Out of Stock"})}),n.allergens&&n.allergens.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Allergens"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.allergens.map((D,E)=>e.jsx("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded",children:D},E))})]})]})]})]}),i.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-8",children:"Customer Reviews"}),e.jsx("div",{className:"space-y-6",children:i.map(D=>e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center space-x-1 mb-2",children:[...Array(5)].map((E,$)=>e.jsx(Oe,{className:$<D.rating?"text-yellow-400":"text-gray-300"},$))}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:D.title})]}),D.verifiedPurchase&&e.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-3 py-1 rounded-full",children:"Verified Purchase"})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:D.body}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsx("span",{children:D.customerName}),e.jsx("span",{children:new Date(D.createdAt).toLocaleDateString()})]})]},D._id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-8",children:"You May Also Like"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>s("/catalog"),className:"btn-secondary",children:"Browse More Products"})})]})]})})},Xf=()=>{const{t}=tt(),{cart:s,removeFromCart:a,updateQuantity:r,getCartTotal:n}=Bt(),{isAuthenticated:o}=et(),i=Ve();if(s.length===0)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx(da,{className:"text-6xl text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:t("cart.empty")}),e.jsx("p",{className:"text-gray-600 mb-8",children:t("cart.emptyDesc")}),e.jsx(_,{to:"/catalog",className:"btn-primary",children:t("home.browseCatalog")})]})});const c=n(),m=c*.13,l=c+m;return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-8",children:t("cart.title")}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.map((d,p)=>e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:d.image||"/placeholder-cake.jpg",alt:d.title,className:"w-24 h-24 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:d.title||d.name}),d.isCombo&&e.jsx("p",{className:"text-xs text-primary-600 font-medium mt-1",children:" Combo Deal"}),d.selectedSize&&e.jsx("p",{className:"text-sm text-gray-600",children:d.selectedSize}),e.jsx("p",{className:"text-primary-600 font-semibold mt-1",children:X(d.unitPrice)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>r(p,d.quantity-1),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",children:"-"}),e.jsx("span",{className:"px-4 py-1 border border-gray-300 rounded",children:d.quantity}),e.jsx("button",{onClick:()=>r(p,d.quantity+1),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",children:"+"})]}),e.jsx("button",{onClick:()=>a(p),className:"text-red-500 hover:text-red-700",children:e.jsx(_e,{})})]})},p))}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card p-6 sticky top-24",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:t("checkout.orderSummary")}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:t("cart.subtotal")}),e.jsx("span",{children:X(c)})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:t("cart.tax")}),e.jsx("span",{children:X(m)})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between text-lg font-semibold",children:[e.jsx("span",{children:t("cart.total")}),e.jsx("span",{className:"text-primary-600",children:X(l)})]})]}),!o&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[e.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:t("cart.loginRequired")}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(_,{to:"/login",className:"text-sm text-primary-600 hover:underline font-semibold",children:t("cart.loginNow")}),e.jsx("span",{className:"text-sm text-gray-500",children:"or"}),e.jsx(_,{to:"/register",className:"text-sm text-primary-600 hover:underline font-semibold",children:"Register"})]})]}),e.jsx("button",{onClick:()=>{if(!o){i("/register");return}i("/checkout")},className:"btn-primary w-full mb-4",children:o?t("cart.checkout"):"Login to Checkout"}),e.jsx(_,{to:"/catalog",className:"block text-center text-primary-600 hover:underline",children:t("cart.continueShopping")})]})})]})]})})},Zf=()=>{const t=Ve(),{cart:s,getCartTotal:a,clearCart:r}=Bt(),{user:n,isAuthenticated:o}=et(),i=de(),[c,m]=y.useState(!1),[l,d]=y.useState(""),[p,u]=y.useState(null),[h,x]=y.useState(null),[f,g]=y.useState({customerInfo:{name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||""},delivery:{mode:"pickup",address:{street:"",city:"",province:"",postalCode:""},instructions:""}});y.useEffect(()=>{s.length===0&&t("/cart"),o&&!(n!=null&&n.firstOrderDiscountUsed)&&v()},[s,t,o,n]);const v=async()=>{try{const b=await W.get("/offers/registration");b.data.data&&x(b.data.data)}catch(b){console.error("Error fetching registration discount:",b)}},w=async()=>{var b,O;try{const z=await W.post("/offers/validate",{code:l});u(z.data.data),i.success(z.data.message||`${z.data.data.percentOff}% discount applied!`)}catch(z){i.error(((O=(b=z.response)==null?void 0:b.data)==null?void 0:O.message)||"Invalid promo code. Please check and try again.")}},C=async b=>{var O,z,G,N,U,q;b.preventDefault(),m(!0);try{const R={mode:f.delivery.mode,instructions:f.delivery.instructions||""};if(f.delivery.mode==="delivery"&&f.delivery.address){const T=f.delivery.address;(T.street||T.city||T.province||T.postalCode)&&(R.address={street:T.street||"",city:T.city||"",province:T.province||"",postalCode:T.postalCode||""})}const Q={items:s,customerInfo:f.customerInfo,delivery:R};p!=null&&p.code&&(Q.promoCode=p.code),console.log("Submitting order:",Q);const Y=(await W.post("/orders",Q)).data.data;i.success(`Order placed successfully! Order #${Y.orderNumber}`,3e3),r(),setTimeout(()=>{t(`/orders/${Y._id}`)},1e3)}catch(R){console.error("Order error:",(O=R.response)==null?void 0:O.data);const Q=((G=(z=R.response)==null?void 0:z.data)==null?void 0:G.message)||((q=(U=(N=R.response)==null?void 0:N.data)==null?void 0:U.errors)==null?void 0:q.map(I=>I.message).join(", "))||"Failed to create order. Please check all required fields.";i.error(Q,6e3)}finally{m(!1)}},S=a(),M=h?fi(S,h.percentOff):0,B=p?fi(S,p.percentOff):0,D=M+B,E=S-D,$=E*.13,k=f.delivery.mode==="delivery"?10:0,A=E+$+k;return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-8",children:"Checkout"}),e.jsx("form",{onSubmit:C,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:f.customerInfo.name,onChange:b=>g({...f,customerInfo:{...f.customerInfo,name:b.target.value}}),required:!0,className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:f.customerInfo.email,onChange:b=>g({...f,customerInfo:{...f.customerInfo,email:b.target.value}}),required:!0,className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),e.jsx("input",{type:"tel",value:f.customerInfo.phone,onChange:b=>g({...f,customerInfo:{...f.customerInfo,phone:b.target.value}}),required:!0,className:"input-field"})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Method"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>g({...f,delivery:{...f.delivery,mode:"pickup"}}),className:`p-4 border-2 rounded-lg text-center ${f.delivery.mode==="pickup"?"border-primary-600 bg-primary-50":"border-gray-300"}`,children:[e.jsx(Lh,{className:"text-3xl mx-auto mb-2"}),e.jsx("p",{className:"font-semibold",children:"Pickup"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Free"})]}),e.jsxs("button",{type:"button",onClick:()=>g({...f,delivery:{...f.delivery,mode:"delivery"}}),className:`p-4 border-2 rounded-lg text-center ${f.delivery.mode==="delivery"?"border-primary-600 bg-primary-50":"border-gray-300"}`,children:[e.jsx(zh,{className:"text-3xl mx-auto mb-2"}),e.jsx("p",{className:"font-semibold",children:"Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"$10.00"})]})]}),f.delivery.mode==="delivery"&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),e.jsx("input",{type:"text",required:!0,className:"input-field",onChange:b=>g({...f,delivery:{...f.delivery,address:{...f.delivery.address,street:b.target.value}}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",required:!0,className:"input-field",onChange:b=>g({...f,delivery:{...f.delivery,address:{...f.delivery.address,city:b.target.value}}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code *"}),e.jsx("input",{type:"text",required:!0,className:"input-field",onChange:b=>g({...f,delivery:{...f.delivery,address:{...f.delivery.address,postalCode:b.target.value}}})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Province *"}),e.jsxs("select",{required:!0,className:"input-field",onChange:b=>g({...f,delivery:{...f.delivery,address:{...f.delivery.address,province:b.target.value}}}),children:[e.jsx("option",{value:"",children:"Select Province"}),e.jsx("option",{value:"ON",children:"Ontario"}),e.jsx("option",{value:"QC",children:"Quebec"})]})]})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Promo Code"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:l,onChange:b=>d(b.target.value.toUpperCase()),placeholder:"Enter promo code",className:"input-field flex-1"}),e.jsx("button",{type:"button",onClick:w,className:"btn-secondary whitespace-nowrap",children:"Apply"})]}),p&&e.jsxs("p",{className:"text-green-600 text-sm mt-2",children:[" ",p.name," applied!"]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card p-6 sticky top-24",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-3 mb-4 max-h-48 overflow-y-auto",children:s.map((b,O)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[b.title," x",b.quantity]}),e.jsx("span",{children:X(b.unitPrice*b.quantity)})]},O))}),e.jsxs("div",{className:"border-t pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:X(S)})]}),M>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Registration Discount (",h.percentOff,"%)"]}),e.jsxs("span",{children:["-",X(M)]})]}),B>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Promo Discount (",p.percentOff,"%)"]}),e.jsxs("span",{children:["-",X(B)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Tax (HST 13%)"}),e.jsx("span",{children:X($)})]}),k>0&&e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsx("span",{children:X(k)})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between text-lg font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-primary-600",children:X(A)})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Sh,{className:"text-blue-600 mt-1"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-semibold text-blue-900 mb-1",children:"Payment Method"}),e.jsx("p",{className:"text-blue-700",children:"Interac e-Transfer"}),e.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"You'll receive payment instructions after placing your order"})]})]})}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-6",children:[e.jsx("p",{className:"text-sm text-yellow-900 font-medium mb-2",children:" Important Order Requirements:"}),e.jsxs("ul",{className:"text-xs text-yellow-800 space-y-1",children:[e.jsx("li",{children:" Orders must be placed at least 6 days in advance"}),e.jsx("li",{children:" 50% non-refundable deposit required to confirm order"}),e.jsx("li",{children:" Remaining balance due before delivery/pickup"})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"btn-primary w-full mt-6",children:c?"Processing...":"Place Order"}),e.jsxs("p",{className:"text-xs text-gray-500 text-center mt-4",children:["By placing your order, you agree to our"," ",e.jsx(_,{to:"/terms",className:"text-primary-600 hover:underline font-semibold",children:"Terms and Conditions"})]})]})})]})})]})})},e0=({order:t})=>{var i,c,m,l;const a=["Awaiting e-Transfer","Payment Received",...((i=t.items)==null?void 0:i.some(d=>d.customRequestId))?["Design Confirmed"]:[],"In Preparation",t.delivery.mode==="delivery"?"Out for Delivery":"Ready for Pickup","Completed"],n=(()=>a.indexOf(t.status))(),o=d=>d?d.startsWith("http")?d:`https://msucre-backend-65c219542360.herokuapp.com/api${d}`:null;return e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-2xl font-display font-bold mb-6",children:"Order Timeline"}),e.jsxs("div",{className:"mb-8 p-5 bg-gradient-to-r from-purple-50 via-pink-50 to-blue-50 rounded-xl border border-purple-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Ye,{className:"text-purple-600 text-xl"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Items"}),e.jsxs("span",{className:"ml-auto text-sm text-gray-600 font-medium",children:[((c=t.items)==null?void 0:c.length)||0," item",((m=t.items)==null?void 0:m.length)!==1?"s":""]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(l=t.items)==null?void 0:l.map((d,p)=>{var w,C;let u=null,h=null;d.productId&&typeof d.productId=="object"&&(d.productId.images&&(u=((w=d.productId.images[0])==null?void 0:w.url)||d.productId.images[0]),d.productId.slug&&(h=d.productId.slug));const x=!!d.customRequestId||((C=d.title)==null?void 0:C.toLowerCase().includes("custom")),f=typeof d.customRequestId=="object"?d.customRequestId:null,g=!x&&h,v=()=>{var S;return e.jsx("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-100 hover:border-purple-300 transition-all shadow-sm hover:shadow-md",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[u&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:o(u),alt:d.title,className:"w-20 h-20 object-cover rounded-lg border-2 border-gray-200",onError:M=>{M.target.src="https://via.placeholder.com/80x80?text=Cake"}})}),x&&!u&&e.jsx("div",{className:"flex-shrink-0 w-20 h-20 bg-gradient-to-br from-purple-200 to-pink-200 rounded-lg border-2 border-purple-300 flex items-center justify-center",children:e.jsx(dt,{className:"text-purple-600 text-2xl"})}),!u&&!x&&e.jsx("div",{className:"flex-shrink-0 w-20 h-20 bg-gradient-to-br from-blue-200 to-indigo-200 rounded-lg border-2 border-blue-300 flex items-center justify-center",children:e.jsx(Ye,{className:"text-blue-600 text-2xl"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1 line-clamp-2",children:d.title}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Qty:"}),e.jsx("span",{children:d.quantity}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"font-semibold text-purple-600",children:X(d.unitPrice*d.quantity)})]}),d.selectedSize&&e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[e.jsx(Br,{className:"text-gray-400"}),e.jsxs("span",{children:["Size: ",d.selectedSize]})]}),x&&f&&e.jsxs(e.Fragment,{children:[f.flavor&&e.jsx("div",{className:"flex items-center space-x-1 text-xs",children:e.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full font-medium",children:f.flavor})}),f.layers>1&&e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[e.jsx(zr,{className:"text-gray-400"}),e.jsxs("span",{children:[f.layers," layers"]})]}),f.size&&e.jsx("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:e.jsxs("span",{children:["Custom ",f.size]})})]}),((S=d.productId)==null?void 0:S.flavor)&&!x&&e.jsx("div",{className:"flex items-center space-x-1 text-xs",children:e.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium",children:d.productId.flavor})}),d.notes&&e.jsxs("div",{className:"text-xs text-gray-500 italic mt-1 line-clamp-2",children:["Note: ",d.notes]})]})]})}),x&&e.jsx("div",{className:"mt-2 pt-2 border-t border-purple-100",children:e.jsxs("span",{className:"inline-flex items-center space-x-1 text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium",children:[e.jsx(Ye,{className:"text-xs"}),e.jsx("span",{children:"Custom Cake"})]})})]})]})})};return g?e.jsx(_,{to:`/products/${h}`,className:"block cursor-pointer",children:e.jsx(v,{})},p):e.jsx("div",{children:e.jsx(v,{})},p)})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-purple-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Order Total"}),e.jsx("span",{className:"text-lg font-bold text-purple-600",children:X(t.total)})]})})]}),e.jsx("div",{className:"relative",children:a.map((d,p)=>{const u=p<=n,h=p===n,x=t.timeline.find(f=>f.step===d);return e.jsxs("div",{className:"flex items-start mb-8 last:mb-0",children:[p<a.length-1&&e.jsx("div",{className:`absolute left-6 top-12 w-0.5 h-12 ${u?"bg-primary-600":"bg-gray-300"}`,style:{marginTop:`${p*96}px`}}),e.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${u?"bg-primary-600 text-white":h?"bg-primary-100 text-primary-600":"bg-gray-200 text-gray-400"}`,children:u?e.jsx(Se,{}):h?e.jsx(Lt,{className:"animate-spin"}):e.jsx(_t,{})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`font-semibold ${h?"text-primary-600":"text-gray-900"}`,children:d}),x&&e.jsx("span",{className:"text-sm text-gray-500",children:ye(x.timestamp)})]}),(x==null?void 0:x.note)&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.note}),h&&!(x!=null&&x.note)&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Currently at this stage..."})]})]},d)})}),t.estimatedReadyAt&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Estimated Ready Time"}),e.jsx("p",{className:"text-lg text-blue-700",children:ye(t.estimatedReadyAt)})]}),e.jsx("div",{className:"mt-6",children:e.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${ds(t.status)}`,children:t.status})}),t.contactChannels&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Need Help?"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[t.contactChannels.whatsapp&&e.jsxs("p",{children:[" WhatsApp:"," ",e.jsx("a",{href:`https://wa.me/${t.contactChannels.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:t.contactChannels.whatsapp})]}),t.contactChannels.email&&e.jsxs("p",{children:[" Email:"," ",e.jsx("a",{href:`mailto:${t.contactChannels.email}`,className:"text-primary-600 hover:underline",children:t.contactChannels.email})]}),t.contactChannels.phone&&e.jsxs("p",{children:[" Phone: ",t.contactChannels.phone]})]})]})]})},t0=()=>{const{id:t}=Ws(),[s,a]=y.useState(null),[r,n]=y.useState(!0),[o,i]=y.useState(!1);y.useEffect(()=>{c(!0);const d=setInterval(()=>{c(!1)},1e4);return()=>clearInterval(d)},[t]);const c=async(d=!1)=>{try{d&&n(!0);const p=await W.get(`/orders/${t}`);a(p.data.data)}catch(p){console.error("Error fetching order:",p)}finally{d&&n(!1)}},m=d=>{navigator.clipboard.writeText(d),i(!0),setTimeout(()=>i(!1),2e3)};if(r)return e.jsx(we,{fullScreen:!0});if(!s)return e.jsx("div",{className:"text-center py-12",children:"Order not found"});const l=s.payment.state==="awaiting";return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx("div",{className:"card p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gray-900",children:["Order #",s.orderNumber]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Placed on ",ye(s.createdAt)]})]}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsx(_,{to:"/my-orders",className:"btn-outline",children:"View All Orders"})})]})}),l&&e.jsxs("div",{className:"card p-6 mb-8 border-2 border-primary-500 bg-primary-50",children:[e.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[e.jsx(ns,{className:"text-primary-600 text-2xl flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:" Payment Required"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Please send an Interac e-Transfer to complete your order. Your order will begin processing once we receive your payment."})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount to Send"}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"text-3xl font-bold text-primary-600",children:[X(s.total)," CAD"]}),e.jsx("button",{onClick:()=>m(s.total.toFixed(2)),className:"btn-outline py-2 px-4 text-sm",children:o?e.jsx("span",{children:" Copied"}):e.jsxs(e.Fragment,{children:[e.jsx(Fa,{className:"inline mr-2"}),"Copy"]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Email"}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-lg font-mono",children:s.payment.recipientEmail}),e.jsxs("button",{onClick:()=>m(s.payment.recipientEmail),className:"btn-outline py-2 px-4 text-sm",children:[e.jsx(Fa,{className:"inline mr-2"}),"Copy"]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex justify-center mb-0",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 text-white px-4 py-1.5 rounded-t-lg shadow-md z-10 relative",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"font-semibold text-xs uppercase tracking-wider",children:"Critical Payment Step"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"})]})}),e.jsxs("div",{className:"relative bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 border-2 border-amber-400 rounded-b-xl rounded-t-none p-5 shadow-lg -mt-px",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-200/10 via-transparent to-orange-200/10 rounded-xl pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-1 flex items-center space-x-2",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Payment Message Required"})]}),e.jsx("p",{className:"text-xs font-medium text-amber-800",children:"Copy the order number and paste it in your bank's message field"})]}),e.jsx("div",{className:"bg-white rounded-lg p-4 border-2 border-amber-300 shadow-sm mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1.5",children:"Your Order Number"}),e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsx("span",{className:"text-3xl font-black text-gray-900 tracking-tight",children:s.orderNumber}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Order #"})]})]}),e.jsxs("button",{onClick:()=>m(s.orderNumber),className:"flex-shrink-0 bg-gradient-to-r from-primary-600 to-pink-600 text-white px-4 py-2 rounded-lg font-medium shadow-md hover:shadow-lg hover:from-primary-700 hover:to-pink-700 transition-all duration-200 flex items-center space-x-2",children:[e.jsx(Fa,{className:"text-sm"}),e.jsx("span",{className:"text-sm",children:"Copy"})]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 border-l-4 border-red-500 shadow-sm",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-red-900 text-sm mb-1",children:"This Step is Required"}),e.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Your payment cannot be processed without the order number in the message field."})]})]})})]})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How to Send Interac e-Transfer:"}),e.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Log into your online banking or mobile banking app"}),e.jsx("li",{children:'Select "Interac e-Transfer" or "Send Money"'}),e.jsxs("li",{children:["Enter the recipient email: ",s.payment.recipientEmail]}),e.jsxs("li",{children:["Enter the amount: $",s.total.toFixed(2)]}),e.jsxs("li",{className:"font-bold text-amber-900 bg-amber-100 px-2 py-1 rounded -ml-2",children:["In the message field, enter: ",e.jsx("span",{className:"font-mono",children:s.orderNumber})]}),e.jsx("li",{children:"Complete the transfer"})]})]})]})]}),s.payment.state==="received"&&e.jsx("div",{className:"card p-6 mb-8 border-2 border-green-500 bg-green-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ns,{className:"text-green-600 text-3xl"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-green-900",children:"Payment Received!"}),e.jsxs("p",{className:"text-green-700",children:["We've received your payment on ",ye(s.payment.paidAt),". Your order is now being prepared."]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(e0,{order:s})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:s.items.map((d,p)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:d.title}),e.jsxs("p",{className:"text-gray-600",children:["Qty: ",d.quantity]})]}),e.jsx("p",{className:"font-semibold",children:X(d.unitPrice*d.quantity)})]},p))}),e.jsxs("div",{className:"border-t mt-4 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:X(s.subtotal)})]}),s.discounts.map((d,p)=>e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsxs("span",{children:[d.type," discount"]}),e.jsxs("span",{children:["-",X(d.amount)]})]},p)),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Tax"}),e.jsx("span",{children:X(s.tax)})]}),s.shippingFee>0&&e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Delivery"}),e.jsx("span",{children:X(s.shippingFee)})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-primary-600",children:X(s.total)})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Delivery Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Method:"})," ",s.delivery.mode==="pickup"?"Pickup":"Delivery"]}),s.delivery.mode==="delivery"&&s.delivery.address&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Address:"}),e.jsxs("p",{className:"text-gray-600",children:[s.delivery.address.street,e.jsx("br",{}),s.delivery.address.city,", ",s.delivery.address.province,e.jsx("br",{}),s.delivery.address.postalCode]})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",s.customerInfo.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.customerInfo.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.customerInfo.phone]})]})]})]})]})]})})},s0=()=>{const{user:t,updateProfile:s,loading:a}=et(),r=de(),[n,o]=y.useState({name:"",phone:""}),[i,c]=y.useState(!1),[m,l]=y.useState(!1);y.useEffect(()=>{t&&o({name:t.name||"",phone:t.phone||""})},[t]);const d=async u=>{var h,x;u.preventDefault(),c(!0);try{await s(n),r.success("Profile updated successfully! ",3e3),l(!1)}catch(f){const g=((x=(h=f.response)==null?void 0:h.data)==null?void 0:x.message)||"Failed to update profile. Please try again.";r.error(g)}finally{c(!1)}},p=u=>{o({...n,[u.target.name]:u.target.value})};return a?e.jsx(we,{fullScreen:!0}):t?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"My Profile"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account information"})]}),e.jsxs("div",{className:"card p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-primary-100 rounded-full p-4",children:e.jsx(cs,{className:"text-3xl text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:t.name}),e.jsx("p",{className:"text-gray-600",children:t.email})]})]}),!m&&e.jsxs("button",{onClick:()=>l(!0),className:"btn-outline flex items-center space-x-2",children:[e.jsx(la,{}),e.jsx("span",{children:"Edit Profile"})]})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(cs,{className:"inline mr-2"}),"Full Name"]}),e.jsx("input",{type:"text",name:"name",value:n.name,onChange:p,disabled:!m,required:!0,className:`input-field ${m?"":"bg-gray-100 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Pe,{className:"inline mr-2"}),"Email"]}),e.jsx("input",{type:"email",value:t.email||"",disabled:!0,className:"input-field bg-gray-100 cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ca,{className:"inline mr-2"}),"Phone Number"]}),e.jsx("input",{type:"tel",name:"phone",value:n.phone||"",onChange:p,disabled:!m,className:`input-field ${m?"":"bg-gray-100 cursor-not-allowed"}`,placeholder:"Enter your phone number"})]}),m&&e.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:i,className:"btn-primary flex items-center space-x-2",children:[e.jsx(os,{}),e.jsx("span",{children:i?"Saving...":"Save Changes"})]}),e.jsx("button",{type:"button",onClick:()=>{l(!1),o({name:t.name||"",phone:t.phone||""})},className:"btn-outline",children:"Cancel"})]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Information"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Account Type:"})," ",t.role==="admin"||t.role==="editor"?"Administrator":"Customer"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Member Since:"})," ",new Date(t.createdAt||Date.now()).toLocaleDateString()]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Please login to view your profile"})})})},a0=()=>{const[t,s]=y.useState([]),[a,r]=y.useState(!0),[n,o]=y.useState("all"),i=de();y.useEffect(()=>{c();const l=setInterval(()=>{c(!1)},15e3);return()=>clearInterval(l)},[n]);const c=async(l=!0)=>{try{l&&r(!0);const d=n==="all"?"/orders":`/orders?status=${n}`,p=await W.get(d);s(p.data.data||[])}catch(d){console.error("Error fetching orders:",d),l&&i.error("Failed to load orders. Please try again.")}finally{l&&r(!1)}},m=l=>`px-3 py-1 rounded-full text-xs font-semibold ${ds(l)}`;return a?e.jsx(we,{fullScreen:!0}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"My Orders"}),e.jsx("p",{className:"text-gray-600",children:"View and track your order history"})]}),e.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:["all","Awaiting e-Transfer","Payment Received","In Preparation","Ready for Pickup","Completed"].map(l=>e.jsx("button",{onClick:()=>o(l==="all"?"all":l),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n===(l==="all"?"all":l)?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:l==="all"?"All Orders":l},l))}),t.length===0?e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(Et,{className:"text-6xl text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Orders Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't placed any orders yet. Start shopping!"}),e.jsxs(_,{to:"/catalog",className:"btn-primary inline-flex items-center space-x-2",children:[e.jsx(Et,{}),e.jsx("span",{children:"Browse Products"})]})]}):e.jsx("div",{className:"space-y-4",children:t.map(l=>{var d,p,u;return e.jsxs("div",{className:"card p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[e.jsx("div",{className:"bg-primary-100 rounded-lg p-3",children:e.jsx(Et,{className:"text-primary-600 text-xl"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",l.orderNumber||l._id.slice(-8)]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mt-1",children:[e.jsx(bt,{}),e.jsx("span",{children:ye(l.createdAt)})]})]})]}),e.jsxs("div",{className:"ml-16 mt-3",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.jsxs("span",{className:"font-medium",children:[((d=l.items)==null?void 0:d.length)||0," item(s)"]})}),e.jsxs("div",{className:"space-y-1",children:[(p=l.items)==null?void 0:p.slice(0,3).map((h,x)=>e.jsxs("p",{className:"text-sm text-gray-600",children:[" ",h.title," ",h.selectedSize&&`(${h.selectedSize})`," x ",h.quantity]},x)),((u=l.items)==null?void 0:u.length)>3&&e.jsxs("p",{className:"text-sm text-gray-500",children:["+ ",l.items.length-3," more item(s)"]})]})]})]}),e.jsxs("div",{className:"flex flex-col md:items-end space-y-3",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold text-primary-600",children:X(l.total)})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:m(l.status),children:l.status}),e.jsxs(_,{to:`/orders/${l._id}`,className:"btn-outline flex items-center space-x-2",children:[e.jsx(ot,{}),e.jsx("span",{children:"View Details"})]})]})]})]}),l.delivery&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Delivery:"})," ",l.delivery.mode==="pickup"?"Pickup":"Delivery",l.delivery.address&&l.delivery.mode==="delivery"&&e.jsxs("span",{className:"ml-2",children:[" ",l.delivery.address.city,", ",l.delivery.address.province]})]})})]},l._id)})})]})})},ec=(t="/")=>{const s=localStorage.getItem("redirectAfterAuth");return s?(localStorage.removeItem("redirectAfterAuth"),s):t},r0=()=>{const t=Ve(),{login:s}=et(),a=de(),r=!1,[n,o]=y.useState({email:"",password:""}),[i,c]=y.useState(""),[m,l]=y.useState(!1),[d,p]=y.useState(!1),u=async h=>{var x,f;h.preventDefault(),l(!0),c("");try{const g=await s(n.email,n.password);a.success("Welcome back! Login successful.",2e3),setTimeout(()=>{if(g.user.role==="admin"||g.user.role==="editor")t("/admin");else{const v=ec("/");t(v)}},500)}catch(g){const v=((f=(x=g.response)==null?void 0:x.data)==null?void 0:f.message)||"Login failed. Please check your credentials.";c(v),a.error(v)}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Login to your M. Sucre account"})]}),e.jsxs("div",{className:"card p-8",children:[e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r,i&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:n.email,onChange:h=>o({...n,email:h.target.value}),required:!0,className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",value:n.password,onChange:h=>o({...n,password:h.target.value}),required:!0,className:"input-field pr-10"}),e.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:d?e.jsx(El,{size:18}):e.jsx(ot,{size:18})})]})]}),e.jsx("button",{type:"submit",disabled:m,className:"btn-primary w-full",children:m?"Logging in...":"Login"})]}),e.jsx("div",{className:"mt-6 text-center text-sm",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx(_,{to:"/register",className:"text-primary-600 hover:underline font-semibold",children:"Register now"})]})})]})]})})},n0=()=>{const t=Ve(),{register:s}=et(),a=de(),[r,n]=y.useState({name:"",email:"",password:"",phone:""}),[o,i]=y.useState(""),[c,m]=y.useState(!1),[l,d]=y.useState(!1),p=async u=>{var h,x;u.preventDefault(),m(!0),i("");try{await s(r),a.success("Account created successfully! Welcome to M. Sucre! ",3e3);const f=ec("/");setTimeout(()=>{t(f)},500)}catch(f){const g=((x=(h=f.response)==null?void 0:h.data)==null?void 0:x.message)||"Registration failed. Please try again.";i(g),a.error(g)}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"Create Account"}),e.jsx("p",{className:"text-gray-600",children:"Join M. Sucre and get 10% off your first order!"})]}),e.jsxs("div",{className:"card p-8",children:[e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:o}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-green-800 text-sm font-medium",children:" Get 10% discount on your first order when you register!"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:r.name,onChange:u=>n({...r,name:u.target.value}),required:!0,className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:r.email,onChange:u=>n({...r,email:u.target.value}),required:!0,className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:r.phone,onChange:u=>n({...r,phone:u.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",value:r.password,onChange:u=>n({...r,password:u.target.value}),required:!0,minLength:"6",className:"input-field pr-10"}),e.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:l?e.jsx(El,{size:18}):e.jsx(ot,{size:18})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),e.jsx("button",{type:"submit",disabled:c,className:"btn-primary w-full",children:c?"Creating account...":"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center text-sm",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx(_,{to:"/login",className:"text-primary-600 hover:underline font-semibold",children:"Login here"})]})})]})]})})},i0=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-pink-600 text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h1",{className:"text-5xl font-display font-bold mb-4",children:"About M. Sucre"}),e.jsx("p",{className:"text-xl opacity-90",children:"Crafting Sweet Memories Since Day One"})]})}),e.jsx("div",{className:"section-container",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"card p-8 mb-8",children:[e.jsx("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-4",children:"Our Story"}),e.jsxs("div",{className:"prose prose-lg text-gray-700 space-y-4",children:[e.jsx("p",{children:"Welcome to M. Sucre, where every cake tells a story and every bite brings joy. Our journey began with a simple passion: creating beautiful, delicious cakes that make special moments even more memorable."}),e.jsx("p",{children:"Based in the heart of the Ottawa-Gatineau region, we proudly serve customers across Gatineau (Quebec) and Downtown Ottawa. What started as a home baking hobby has grown into a thriving business, thanks to our amazing customers and their continuous support."}),e.jsx("p",{children:"At M. Sucre, we believe that quality ingredients and attention to detail make all the difference. That's why we use only premium ingredients and put love into every creation. Whether you're celebrating a birthday, wedding, anniversary, or any special occasion, we're here to help make it sweeter."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx(Dh,{className:"text-4xl text-primary-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Made with Love"}),e.jsx("p",{className:"text-gray-600",children:"Every cake is handcrafted with care, attention, and lots of love."})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx(Oe,{className:"text-4xl text-yellow-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Premium Quality"}),e.jsx("p",{className:"text-gray-600",children:"We use only the finest ingredients for exceptional taste and quality."})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx(wh,{className:"text-4xl text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Certified & Safe"}),e.jsx("p",{className:"text-gray-600",children:"Fully licensed and certified with proper food handling standards."})]})]}),e.jsxs("div",{className:"card p-8",children:[e.jsx("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-6",children:"Certifications & Licenses"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Food Handler Certification"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Certified food handler with current health and safety training, ensuring the highest standards of food hygiene and safety."})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Business License"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Licensed food business operating in the Ottawa-Gatineau region, fully compliant with local health and business regulations."})]})]})]})]})})]}),o0=()=>{const{t}=tt(),[s,a]=y.useState(null);y.useEffect(()=>{r()},[]);const r=async()=>{try{const c=await W.get("/settings");a(c.data.data)}catch(c){console.error("Error fetching settings:",c)}},n=(s==null?void 0:s.whatsappNumber)||"+1234567890",o=(s==null?void 0:s.businessPhone)||"+1234567890",i=(s==null?void 0:s.locations)||["Gatineau (Quebec)","Downtown Ottawa"];return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-8 text-center",children:t("contact.title")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"card p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:t("contact.subtitle")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("a",{href:Hh(n,"Hi! I have a question about M. Sucre cakes."),target:"_blank",rel:"noopener noreferrer",className:"flex items-start space-x-4 p-4 rounded-lg hover:bg-green-50 transition-colors",children:[e.jsx(Vr,{className:"text-3xl text-green-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:t("contact.whatsapp")}),e.jsx("p",{className:"text-gray-600",children:n}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Click to chat instantly!"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg",children:[e.jsx(ca,{className:"text-3xl text-blue-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:t("contact.call")}),e.jsx("p",{className:"text-gray-600",children:o})]})]}),e.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg",children:[e.jsx(Pe,{className:"text-3xl text-purple-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:t("contact.email")}),e.jsx("p",{className:"text-gray-600",children:"info@msucre.com"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg",children:[e.jsx(Oh,{className:"text-3xl text-red-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:t("contact.serviceAreas")}),i.map((c,m)=>e.jsx("p",{className:"text-gray-600",children:c},m))]})]})]}),(s==null?void 0:s.operatingHours)&&e.jsxs("div",{className:"mt-8 pt-6 border-t",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:t("contact.hours")}),e.jsx("div",{className:"space-y-2 text-sm",children:Object.entries(s.operatingHours).map(([c,m])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"capitalize text-gray-700",children:c}),e.jsx("span",{className:"text-gray-600",children:m})]},c))})]})]}),e.jsxs("div",{className:"card p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:t("contact.sendMessage")}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[" ",t("contact.fasterResponse")]})}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("checkout.name")}),e.jsx("input",{type:"text",required:!0,className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("checkout.email")}),e.jsx("input",{type:"email",required:!0,className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("common.subject")}),e.jsx("input",{type:"text",required:!0,className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("common.message")}),e.jsx("textarea",{rows:"5",required:!0,className:"input-field"})]}),e.jsx("button",{type:"submit",className:"btn-primary w-full",children:t("common.send")})]})]})]})]})})},l0=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:"Terms and Conditions"}),e.jsx("p",{className:"text-gray-600",children:"Please read these terms carefully before placing your order"})]}),e.jsxs("div",{className:"card p-8 space-y-8",children:[e.jsx("div",{className:"bg-primary-50 border-l-4 border-primary-600 p-4 rounded",children:e.jsxs("p",{className:"text-gray-800",children:["Please read these Terms and Conditions carefully before placing an order with ",e.jsx("strong",{children:"M. Sucr"}),". By confirming your order, you agree to the following terms."]})}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"1"}),"Orders & Payments"]}),e.jsxs("ul",{className:"space-y-3 ml-11 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsxs("span",{children:["All orders must be placed ",e.jsx("strong",{children:"at least 6 days in advance"}),"."]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsxs("span",{children:["A ",e.jsx("strong",{children:"50% non-refundable deposit"})," is required to confirm your order."]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"The remaining balance is due before you receive your order at delivery/pickup."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"Orders are not confirmed until deposit is received."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsxs("span",{children:["Accepted payment methods: ",e.jsx("strong",{children:"Interac e-Transfer, Cash"}),"."]})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"2"}),"Cancellations & Refunds"]}),e.jsxs("ul",{className:"space-y-3 ml-11 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsxs("span",{children:["Cancellations made ",e.jsx("strong",{children:"before 48 hours"})," of pickup/delivery date may be eligible for a partial refund (excluding the non-refundable deposit)."]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"Cancellations made after this period are non-refundable."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"If you fail to collect your order on the agreed date/time, the order will be considered forfeited, and no refund will be given."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"In the rare case that we must cancel due to unforeseen circumstances, a full refund will be issued."})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"3"}),"Changes to Orders"]}),e.jsxs("ul",{className:"space-y-3 ml-11 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsxs("span",{children:["Changes (design, size, date, etc.) must be requested ",e.jsx("strong",{children:"at least 4 days before"})," your order date."]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"We will do our best to accommodate changes, but they are not guaranteed."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"Additional charges may apply for last-minute adjustments."})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"4"}),"Allergies & Dietary Restrictions"]}),e.jsxs("ul",{className:"space-y-3 ml-11 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsxs("span",{children:["Our products contain common allergens such as ",e.jsx("strong",{children:"dairy, gluten, and eggs"}),"."]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"It is the customer's responsibility to inform us of any allergies at the time of ordering."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"We do not guarantee allergen-free cakes and are not liable for allergic reactions."})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"5"}),"Design & Decoration"]}),e.jsxs("ul",{className:"space-y-3 ml-11 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"We will make every effort to match your design request; however, slight variations in color, shape, or decoration may occur as each cake is handmade."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"We do not copy other bakers' work exactly but can use them for inspiration."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"Fresh flowers or other non-edible decorations must be approved for food use by the customer if provided by a third party."})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"6"}),"Pickup & Delivery"]}),e.jsxs("ul",{className:"space-y-3 ml-11 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"Pickup and delivery times are scheduled in advance and must be strictly respected."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"Late pickups may result in additional fees or order forfeiture."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"Once the cake leaves our premises, we are not responsible for any damage during transportation or handling."})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"7"}),"Cake Storage & Handling"]}),e.jsxs("ul",{className:"space-y-3 ml-11 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"Cakes should be stored in a cool, dry place or refrigerated if advised."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"Instructions will be provided upon pickup/delivery."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"We are not responsible for damage caused by improper storage or handling after collection."})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"8"}),"Photos & Marketing"]}),e.jsxs("ul",{className:"space-y-3 ml-11 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"We reserve the right to photograph your cake for marketing and social media purposes."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"If you prefer your cake not to be photographed or shared, please notify us when placing your order."})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"9"}),"Liability"]}),e.jsxs("ul",{className:"space-y-3 ml-11 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"Our liability is limited to the value of the cake purchased."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 mr-2",children:""}),e.jsx("span",{children:"We are not responsible for indirect losses, emotional distress, or special damages arising from issues with your order."})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:"10"}),"Agreement"]}),e.jsx("div",{className:"ml-11 bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded",children:e.jsxs("p",{className:"text-gray-800 font-medium",children:["By placing an order with ",e.jsx("strong",{children:"M. Sucr"}),", you acknowledge that you have read, understood, and agree to these Terms and Conditions."]})})]}),e.jsxs("div",{className:"border-t pt-6 mt-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Questions about our Terms?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions regarding these terms and conditions, please contact us."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(_,{to:"/contact",className:"btn-primary",children:"Contact Us"}),e.jsx(_,{to:"/catalog",className:"btn-secondary",children:"Browse Products"})]})]}),e.jsx("div",{className:"text-center pt-6 border-t",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Last Updated: ",new Date().toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"})]})})]})]})}),c0=()=>{const[t,s]=y.useState([]),[a,r]=y.useState(!0),[n,o]=y.useState("all");y.useEffect(()=>{i()},[n]);const i=async()=>{try{r(!0);let d=(await W.get("/reviews")).data.data||[];n==="verified"?d=d.filter(p=>p.verifiedPurchase):n==="5star"&&(d=d.filter(p=>p.rating===5)),s(d)}catch(l){console.error("Error fetching reviews:",l)}finally{r(!1)}},c=t.length>0?(t.reduce((l,d)=>l+d.rating,0)/t.length).toFixed(1):0,m={5:t.filter(l=>l.rating===5).length,4:t.filter(l=>l.rating===4).length,3:t.filter(l=>l.rating===3).length,2:t.filter(l=>l.rating===2).length,1:t.filter(l=>l.rating===1).length};return a?e.jsx(we,{fullScreen:!0}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:"Customer Reviews"}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"See what our customers are saying about M. Sucre"}),t.length>0&&e.jsxs("div",{className:"inline-flex items-center space-x-4 bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-primary-600 mb-1",children:c}),e.jsx("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[...Array(5)].map((l,d)=>e.jsx(Oe,{className:d<Math.round(c)?"text-yellow-400":"text-gray-300"},d))}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",t.length," ",t.length===1?"review":"reviews"]})]}),e.jsx("div",{className:"border-l border-gray-200 pl-6 space-y-2",children:[5,4,3,2,1].map(l=>e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsxs("span",{className:"text-gray-600 w-12",children:[l," star",l>1?"s":""]}),e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${t.length>0?m[l]/t.length*100:0}%`}})}),e.jsx("span",{className:"text-gray-600 w-8 text-right",children:m[l]})]},l))})]})]}),e.jsxs("div",{className:"mb-8 flex flex-wrap gap-3 justify-center",children:[e.jsxs("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:["All Reviews (",t.length,")"]}),e.jsxs("button",{onClick:()=>o("verified"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="verified"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:["Verified Only (",t.filter(l=>l.verifiedPurchase).length,")"]}),e.jsxs("button",{onClick:()=>o("5star"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="5star"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:["5 Star (",m[5],")"]})]}),t.length===0?e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(Oe,{className:"text-6xl text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Reviews Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:n==="all"?"Be the first to leave a review!":"No reviews match your filter criteria."}),e.jsx(_,{to:"/catalog",className:"btn-primary inline-flex items-center space-x-2",children:e.jsx("span",{children:"Browse Products"})})]}):e.jsx("div",{className:"space-y-6",children:t.map((l,d)=>{var p;return e.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"card p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold text-lg",children:((p=l.customerName)==null?void 0:p.charAt(0).toUpperCase())||"C"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:l.customerName||"Anonymous"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.productId&&e.jsx(_,{to:l.productId.slug?`/products/${l.productId.slug}`:"#",className:"text-primary-600 hover:underline",children:l.productId.title||"Product"}),e.jsx("span",{children:""}),e.jsx("span",{children:ye(l.createdAt)})]})]})]})}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((u,h)=>e.jsx(Oe,{className:h<l.rating?"text-yellow-400":"text-gray-300"},h))}),l.verifiedPurchase&&e.jsxs("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[e.jsx(ns,{className:"text-xs"}),e.jsx("span",{children:"Verified Purchase"})]})]})]}),l.title&&e.jsx("h4",{className:"font-semibold text-xl text-gray-900 mb-2",children:l.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:l.body}),l.productId&&e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx(_,{to:l.productId.slug?`/products/${l.productId.slug}`:"#",className:"text-primary-600 hover:underline text-sm font-medium",children:"View Product "})})]},l._id)})}),t.length>0&&e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"card p-8 bg-gradient-to-r from-primary-50 to-pink-50 border-2 border-primary-200",children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900 mb-4",children:"Love Our Cakes? Share Your Experience!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"After your purchase, leave a review and help other customers discover their perfect cake."}),e.jsx(_,{to:"/catalog",className:"btn-primary inline-flex items-center space-x-2",children:e.jsx("span",{children:"Shop Now"})})]})})]})})},d0=()=>{const[t,s]=y.useState({totalOrders:0,pendingPayment:0,completedOrders:0,totalRevenue:0,totalProducts:0,totalCustomers:0,pendingReviews:0,customRequests:0,todayOrders:0,weekRevenue:0,monthRevenue:0,averageOrderValue:0}),[a,r]=y.useState([]),[n,o]=y.useState({}),[i,c]=y.useState([]),[m,l]=y.useState([]),[d,p]=y.useState(!0),u=de();y.useEffect(()=>{h(!0);const f=setInterval(()=>{h(!1)},3e4);return()=>clearInterval(f)},[]);const h=async(f=!1)=>{try{f&&p(!0);const[g,v,w,C]=await Promise.all([W.get("/orders"),W.get("/products"),W.get("/reviews/admin/pending"),W.get("/custom-requests")]),S=g.data.data,M=v.data.data,B=S.reduce((I,Y)=>I+Y.total,0),D=S.filter(I=>I.status==="Completed"),E=S.length>0?B/S.length:0,$=new Date;$.setHours(0,0,0,0);const k=S.filter(I=>new Date(I.createdAt)>=$),A=new Date;A.setDate(A.getDate()-7);const O=S.filter(I=>new Date(I.createdAt)>=A).reduce((I,Y)=>I+Y.total,0),z=new Date;z.setDate(z.getDate()-30);const N=S.filter(I=>new Date(I.createdAt)>=z).reduce((I,Y)=>I+Y.total,0),U={};S.forEach(I=>{U[I.status]=(U[I.status]||0)+1});const q=[];for(let I=3;I>=0;I--){const Y=new Date;Y.setDate(Y.getDate()-(I*7+7));const T=new Date;T.setDate(T.getDate()-I*7);const V=S.filter(F=>{const j=new Date(F.createdAt);return j>=Y&&j<T});q.push({week:`Week ${4-I}`,revenue:V.reduce((F,j)=>F+j.total,0),orders:V.length})}const R={};S.forEach(I=>{I.items.forEach(Y=>{if(Y.productId){const T=Y.productId._id||Y.productId;R[T]=(R[T]||0)+Y.quantity}})});const Q=M.map(I=>({...I,orderCount:R[I._id]||0})).sort((I,Y)=>Y.orderCount-I.orderCount).slice(0,5);s({totalOrders:S.length,pendingPayment:S.filter(I=>I.payment.state==="awaiting").length,completedOrders:D.length,totalRevenue:B,totalProducts:M.length,totalCustomers:new Set(S.map(I=>I.userId).filter(Boolean)).size,pendingReviews:w.data.count||0,customRequests:C.data.count||0,todayOrders:k.length,weekRevenue:O,monthRevenue:N,averageOrderValue:E}),r(S.slice(0,10)),o(U),c(q),l(Q)}catch(g){console.error("Error fetching dashboard data:",g),u.error("Failed to load dashboard data")}finally{p(!1)}},x=async f=>{try{await W.put(`/orders/${f}/status`,{status:"Payment Received"}),u.success("Payment marked as received! "),h()}catch{u.error("Failed to mark payment as received")}};return d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with M. Sucre today."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"card p-6 border-l-4 border-blue-500 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:X(t.totalRevenue)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]}),e.jsx(pi,{className:"text-5xl text-blue-500 opacity-20"})]}),e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx(Nh,{className:"mr-1"}),e.jsxs("span",{children:["+",X(t.weekRevenue)," this week"]})]})]}),e.jsxs("div",{className:"card p-6 border-l-4 border-green-500 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Orders"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.totalOrders}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.completedOrders," completed"]})]}),e.jsx(Pt,{className:"text-5xl text-green-500 opacity-20"})]}),e.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[e.jsx(bt,{className:"mr-1"}),e.jsxs("span",{children:[t.todayOrders," today"]})]})]}),e.jsxs("div",{className:"card p-6 border-l-4 border-yellow-500 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Payment"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:t.pendingPayment}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting e-Transfer"})]}),e.jsx(_t,{className:"text-5xl text-yellow-500 opacity-20 animate-pulse"})]}),e.jsx(_,{to:"/admin/orders",className:"text-sm text-yellow-600 hover:underline",children:"View pending "})]}),e.jsx("div",{className:"card p-6 border-l-4 border-purple-500 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Order Value"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:X(t.averageOrderValue)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Per order"})]}),e.jsx(Qt,{className:"text-5xl text-purple-500 opacity-20"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(Qt,{className:"text-primary-600 mr-2"}),"Revenue Trend (Last 4 Weeks)"]}),e.jsx("div",{className:"space-y-4",children:i.map((f,g)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.week}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-sm font-bold text-primary-600",children:X(f.revenue)}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",f.orders," orders)"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-pink-500 h-3 rounded-full transition-all duration-500",style:{width:`${f.revenue>0?f.revenue/t.totalRevenue*100:0}%`}})})]},g))})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(Pt,{className:"text-blue-600 mr-2"}),"Orders by Status"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(n).map(([f,g])=>{const v=t.totalOrders>0?g/t.totalOrders*100:0;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm px-3 py-1 rounded-full font-medium ${ds(f)}`,children:f}),e.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[g," orders"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${v}%`}})})]},f)})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"card p-6 text-center hover:shadow-xl transition-shadow",children:[e.jsx(Ol,{className:"text-4xl text-indigo-600 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Customers"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.totalCustomers}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Unique customers"})]}),e.jsxs("div",{className:"card p-6 text-center hover:shadow-xl transition-shadow",children:[e.jsx(Et,{className:"text-4xl text-primary-600 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Products"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.totalProducts}),e.jsx(_,{to:"/admin/products",className:"text-xs text-primary-600 hover:underline mt-1 inline-block",children:"Manage "})]}),e.jsxs("div",{className:"card p-6 text-center hover:shadow-xl transition-shadow",children:[e.jsx(Oe,{className:"text-4xl text-yellow-600 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Reviews"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.pendingReviews}),e.jsx(_,{to:"/admin/reviews",className:"text-xs text-yellow-600 hover:underline mt-1 inline-block",children:"Moderate "})]}),e.jsxs("div",{className:"card p-6 text-center hover:shadow-xl transition-shadow",children:[e.jsx(ar,{className:"text-4xl text-purple-600 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Custom Requests"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.customRequests}),e.jsx(_,{to:"/admin/custom-requests",className:"text-xs text-purple-600 hover:underline mt-1 inline-block",children:"Review "})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(Qt,{className:"text-green-600 mr-2"}),"Top Selling Products"]}),m.length>0?e.jsx("div",{className:"space-y-4",children:m.map((f,g)=>{var v;return e.jsxs(_,{to:f.slug?`/products/${f.slug}`:"#",className:"flex items-center space-x-4 hover:bg-gray-50 p-2 rounded-lg transition-colors cursor-pointer group",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-primary-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:g+1}),e.jsx("img",{src:(v=f.images[0])==null?void 0:v.url,alt:f.title,className:"w-16 h-16 object-cover rounded-lg group-hover:scale-105 transition-transform",onError:w=>{w.target.src="https://via.placeholder.com/64x64?text=Cake"}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 group-hover:text-primary-600 transition-colors",children:f.title}),e.jsx("p",{className:"text-sm text-gray-600",children:X(f.price)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-primary-600",children:f.orderCount}),e.jsx("p",{className:"text-xs text-gray-500",children:"sold"})]})]},f._id)})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No orders yet to show top products"})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(pi,{className:"text-green-600 mr-2"}),"Revenue Breakdown"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"This Month"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:X(t.monthRevenue)})]}),e.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${t.totalRevenue>0?t.monthRevenue/t.totalRevenue*100:0}%`}})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"This Week"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:X(t.weekRevenue)})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${t.totalRevenue>0?t.weekRevenue/t.totalRevenue*100:0}%`}})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Average Order Value"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:X(t.averageOrderValue)})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Based on ",t.totalOrders," orders"]})]})]})]})]}),e.jsxs("div",{className:"card p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold flex items-center",children:[e.jsx(Pt,{className:"text-primary-600 mr-2"}),"Recent Orders"]}),e.jsx(_,{to:"/admin/orders",className:"text-primary-600 hover:underline text-sm font-medium",children:"View All Orders "})]}),a.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(Pt,{className:"text-6xl text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No orders yet"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Orders will appear here once customers start placing them"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order #"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Payment"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(f=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx(_,{to:`/orders/${f._id}`,className:"text-primary-600 hover:underline font-mono font-semibold",children:f.orderNumber})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:f.customerInfo.name}),e.jsx("p",{className:"text-xs text-gray-500",children:f.customerInfo.email})]})}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[f.items.length," item",f.items.length>1?"s":""]}),e.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900",children:X(f.total)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${f.payment.state==="received"?"bg-green-100 text-green-800":f.payment.state==="awaiting"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.payment.state})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${ds(f.status)}`,children:f.status})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ye(f.createdAt)}),e.jsx("td",{className:"px-4 py-3",children:f.payment.state==="awaiting"&&e.jsx("button",{onClick:()=>x(f._id),className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Mark Paid"})})]},f._id))})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(_,{to:"/admin/hero",className:"card p-6 hover:shadow-xl transition-all group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Qt,{className:"text-2xl text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Hero Section"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Edit homepage hero"})]})]})}),e.jsx(_,{to:"/admin/products",className:"card p-6 hover:shadow-xl transition-all group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Et,{className:"text-2xl text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Products"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.totalProducts," products"]})]})]})}),e.jsx(_,{to:"/admin/orders",className:"card p-6 hover:shadow-xl transition-all group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Pt,{className:"text-2xl text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Orders"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.pendingPayment," pending"]})]})]})}),e.jsx(_,{to:"/admin/reviews",className:"card p-6 hover:shadow-xl transition-all group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Oe,{className:"text-2xl text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Reviews"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.pendingReviews," pending"]})]})]})})]})]})]})})},m0=()=>{var k;const[t,s]=y.useState([]),[a,r]=y.useState(!0),[n,o]=y.useState(!1),[i,c]=y.useState(null),[m,l]=y.useState(""),[d,p]=y.useState(null),[u,h]=y.useState(null),[x,f]=y.useState("url"),g=de(),[v,w]=y.useState({title:"",slug:"",description:"",price:"",flavor:"Vanilla",categories:[],allergens:[],leadTimeDays:2,sampleEligible:!1,isBestseller:!1,isPrepaid:!1,isBento:!1,available:!0,images:[{url:"",alt:""}]});y.useEffect(()=>{C(!0);const A=setInterval(()=>{C(!1)},3e4);return()=>clearInterval(A)},[]);const C=async(A=!1)=>{try{A&&r(!0);const b=await W.get("/products");s(b.data.data)}catch{A&&g.error("Failed to fetch products")}finally{A&&r(!1)}},S=async A=>{var b,O,z;A.preventDefault();try{const G=v.slug||v.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"),N=new FormData;N.append("title",v.title),N.append("slug",G),N.append("description",v.description),N.append("price",parseFloat(v.price)),N.append("flavor",v.flavor),N.append("leadTimeDays",v.leadTimeDays),N.append("sampleEligible",v.sampleEligible),N.append("isBestseller",v.isBestseller),N.append("isPrepaid",v.isPrepaid),N.append("isBento",v.isBento),N.append("available",v.available),N.append("categories",JSON.stringify(v.categories)),N.append("allergens",JSON.stringify(v.allergens)),d?N.append("images",d):(b=v.images[0])!=null&&b.url&&N.append("images",JSON.stringify(v.images)),i?(await W.put(`/products/${i._id}`,N,{headers:{"Content-Type":"multipart/form-data"}}),g.success("Product updated successfully! ")):(await W.post("/products",N,{headers:{"Content-Type":"multipart/form-data"}}),g.success("Product created successfully! ")),o(!1),c(null),D(),p(null),h(null),C()}catch(G){console.error("Error saving product:",G),g.error(((z=(O=G.response)==null?void 0:O.data)==null?void 0:z.message)||"Failed to save product")}},M=A=>{c(A),w({title:A.title,slug:A.slug,description:A.description,price:A.price,flavor:A.flavor||"Vanilla",categories:A.categories||[],allergens:A.allergens||[],leadTimeDays:A.leadTimeDays||2,sampleEligible:A.sampleEligible||!1,isBestseller:A.isBestseller||!1,isPrepaid:A.isPrepaid||!1,isBento:A.isBento||!1,available:A.available!==void 0?A.available:!0,images:A.images||[{url:"",alt:""}]}),o(!0)},B=async(A,b)=>{if(window.confirm(`Are you sure you want to delete "${b}"?`))try{await W.delete(`/products/${A}`),g.success("Product deleted successfully!"),C()}catch{g.error("Failed to delete product")}},D=()=>{w({title:"",slug:"",description:"",price:"",flavor:"Vanilla",categories:[],allergens:[],leadTimeDays:2,sampleEligible:!1,isBestseller:!1,isPrepaid:!1,isBento:!1,available:!0,images:[{url:"",alt:""}]}),p(null),h(null),f("url")},E=A=>{w(b=>({...b,categories:b.categories.includes(A)?b.categories.filter(O=>O!==A):[...b.categories,A]}))},$=t.filter(A=>{var b;return A.title.toLowerCase().includes(m.toLowerCase())||((b=A.flavor)==null?void 0:b.toLowerCase().includes(m.toLowerCase()))});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"Manage Products"}),e.jsxs("p",{className:"text-gray-600",children:[t.length," total products"]})]}),e.jsxs("button",{onClick:()=>{D(),c(null),o(!0)},className:"btn-primary flex items-center space-x-2",children:[e.jsx(Qe,{}),e.jsx("span",{children:"Add New Product"})]})]}),e.jsx("div",{className:"card p-4 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products by name or flavor...",value:m,onChange:A=>l(A.target.value),className:"input-field pl-10"})]})}),a?e.jsx("div",{className:"text-center py-12",children:"Loading..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(A=>{var b;return e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("img",{src:((b=A.images[0])==null?void 0:b.url)||"https://via.placeholder.com/400x300?text=No+Image",alt:A.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:A.title}),!A.available&&e.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Unavailable"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:A.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-xl font-bold text-primary-600",children:X(A.price)}),A.flavor&&e.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:A.flavor})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[A.isBestseller&&e.jsx("span",{className:"text-xs bg-primary-100 text-primary-800 px-2 py-0.5 rounded",children:"Bestseller"}),A.isPrepaid&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Prepaid"}),A.isBento&&e.jsx("span",{className:"text-xs bg-pink-100 text-pink-800 px-2 py-0.5 rounded",children:"Bento"}),A.sampleEligible&&e.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"Free Sample"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>M(A),className:"flex-1 btn-secondary py-2 text-sm flex items-center justify-center space-x-1",children:[e.jsx(la,{}),e.jsx("span",{children:"Edit"})]}),e.jsx("button",{onClick:()=>B(A._id,A.title),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(_e,{})})]})]})]},A._id)})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-3xl font-display font-bold",children:i?"Edit Product":"Add New Product"}),e.jsx("button",{onClick:()=>{o(!1),c(null),D()},className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Title *"}),e.jsx("input",{type:"text",required:!0,value:v.title,onChange:A=>w({...v,title:A.target.value}),className:"input-field",placeholder:"e.g., Classic Vanilla Dream"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug (URL) *"}),e.jsx("input",{type:"text",value:v.slug,onChange:A=>w({...v,slug:A.target.value.toLowerCase()}),className:"input-field",placeholder:"Auto-generated from title"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{required:!0,rows:"3",value:v.description,onChange:A=>w({...v,description:A.target.value}),className:"input-field",placeholder:"Delicious cake description..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (CAD) *"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:v.price,onChange:A=>w({...v,price:A.target.value}),className:"input-field",placeholder:"45.99"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Flavor"}),e.jsxs("select",{value:v.flavor,onChange:A=>w({...v,flavor:A.target.value}),className:"input-field",children:[e.jsx("option",{children:"Vanilla"}),e.jsx("option",{children:"Chocolate"}),e.jsx("option",{children:"Red Velvet"}),e.jsx("option",{children:"Nutella"}),e.jsx("option",{children:"Mixed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Time (days)"}),e.jsx("input",{type:"number",value:v.leadTimeDays,onChange:A=>w({...v,leadTimeDays:parseInt(A.target.value)}),className:"input-field"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Product Image *"}),e.jsxs("div",{className:"flex space-x-4 mb-4",children:[e.jsxs("button",{type:"button",onClick:()=>f("url"),className:`px-4 py-2 rounded-lg flex items-center space-x-2 ${x==="url"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700"}`,children:[e.jsx(dt,{}),e.jsx("span",{children:"Image URL"})]}),e.jsxs("button",{type:"button",onClick:()=>f("file"),className:`px-4 py-2 rounded-lg flex items-center space-x-2 ${x==="file"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700"}`,children:[e.jsx(ls,{}),e.jsx("span",{children:"Upload File"})]})]}),x==="url"&&e.jsxs("div",{children:[e.jsx("input",{type:"url",value:((k=v.images[0])==null?void 0:k.url)||"",onChange:A=>{w({...v,images:[{url:A.target.value,alt:v.title}]}),h(A.target.value)},className:"input-field",placeholder:"https://images.unsplash.com/photo-...?w=800&h=600&fit=crop&q=80"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Get free images from ",e.jsx("a",{href:"https://unsplash.com/s/photos/cake",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Unsplash"})]})]}),x==="file"&&e.jsxs("div",{children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:A=>{const b=A.target.files[0];if(b){p(b);const O=new FileReader;O.onloadend=()=>{h(O.result)},O.readAsDataURL(b)}},className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(ls,{className:"text-4xl text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Click to upload image"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 5MB"})]})]}),d&&e.jsxs("div",{className:"mt-2 text-sm text-green-600 flex items-center space-x-2",children:[e.jsx(dt,{}),e.jsxs("span",{children:["Selected: ",d.name]})]})]}),u&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),e.jsx("img",{src:u,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Categories"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:["prepaid","bestseller","bento"].map(A=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.categories.includes(A),onChange:()=>E(A),className:"w-4 h-4 text-primary-600 rounded"}),e.jsx("span",{className:"capitalize",children:A})]},A))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.isBestseller,onChange:A=>w({...v,isBestseller:A.target.checked}),className:"w-4 h-4 text-primary-600 rounded"}),e.jsx("span",{className:"text-sm",children:"Bestseller"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.sampleEligible,onChange:A=>w({...v,sampleEligible:A.target.checked}),className:"w-4 h-4 text-primary-600 rounded"}),e.jsx("span",{className:"text-sm",children:"Free Sample"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.available,onChange:A=>w({...v,available:A.target.checked}),className:"w-4 h-4 text-primary-600 rounded"}),e.jsx("span",{className:"text-sm",children:"Available"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:()=>{o(!1),c(null),D()},className:"btn-outline",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:i?"Update Product":"Create Product"})]})]})]})})]})})},p0=()=>{var V,F;const[t,s]=y.useState([]),[a,r]=y.useState("all"),[n,o]=y.useState(""),[i,c]=y.useState(!0),[m,l]=y.useState({open:!1,order:null,images:[]}),[d,p]=y.useState(0),[u,h]=y.useState({open:!1}),[x,f]=y.useState({customerName:"",customerEmail:"",amount:"",date:""}),[g,v]=y.useState([]),[w,C]=y.useState(!1),S=de(),M=["Awaiting e-Transfer","Payment Received","Design Confirmed","In Preparation","Ready for Pickup","Completed"],B=j=>{var xe,ve,qe,$t,Ut,qt;const L=j.status,ee=M.findIndex(ge=>ge===L);if(L==="Cancelled"||L==="Completed")return[];if(L==="Order Placed")return["Awaiting e-Transfer"];if(L==="Payment Received")return((xe=j.items)==null?void 0:xe.some(De=>De.customRequestId))?["Design Confirmed"]:["In Preparation"];if(ee>=0){const ge=ee+1;if(ge<M.length){let De=M[ge];const Ct=(ve=j.items)==null?void 0:ve.some(kt=>kt.customRequestId);if(De==="Design Confirmed"&&!Ct)if(ge+1<M.length)De=M[ge+1];else return[];return De==="Ready for Pickup"&&((qe=j.delivery)==null?void 0:qe.mode)==="delivery"&&(De="Out for Delivery"),[De]}}const ae=(($t=j.timeline)==null?void 0:$t.map(ge=>ge.step))||[],ie=ae[ae.length-1];return ie==="Payment Received"?((Ut=j.items)==null?void 0:Ut.some(De=>De.customRequestId))?["Design Confirmed"]:["In Preparation"]:ie==="Design Confirmed"?["In Preparation"]:ie==="In Preparation"?((qt=j.delivery)==null?void 0:qt.mode)==="delivery"?["Out for Delivery"]:["Ready for Pickup"]:ie==="Ready for Pickup"||ie==="Out for Delivery"?["Completed"]:L==="Awaiting e-Transfer"?["Payment Received"]:[]};y.useEffect(()=>{D(!0);const j=setInterval(()=>{D(!1)},15e3);return()=>clearInterval(j)},[]);const D=async(j=!1)=>{try{j&&c(!0);const L=await W.get("/orders");s(L.data.data)}catch{j&&S.error("Failed to fetch orders")}finally{j&&c(!1)}},E=async(j,L,ee)=>{try{await W.put(`/orders/${j}/status`,{status:ee}),S.success(`Order #${L} updated to: ${ee}`),D(!1)}catch{S.error("Failed to update order status")}},$=async(j,L,ee="")=>{try{await W.put(`/orders/${j}/status`,{status:"Payment Received",note:ee||"Payment manually confirmed by admin"}),S.success(`Payment received for Order #${L}! `),D(!1)}catch{S.error("Failed to mark payment as received")}},k=async()=>{C(!0);try{let j=t.filter(L=>{var ve,qe;const ee=!x.customerName||((ve=L.customerInfo.name)==null?void 0:ve.toLowerCase().includes(x.customerName.toLowerCase())),ae=!x.customerEmail||((qe=L.customerInfo.email)==null?void 0:qe.toLowerCase().includes(x.customerEmail.toLowerCase())),ie=!x.amount||Math.abs(L.total-parseFloat(x.amount))<.01,xe=!x.date||new Date(L.createdAt).toDateString()===new Date(x.date).toDateString();return ee&&ae&&ie&&xe&&L.payment.state==="awaiting"});v(j.slice(0,10)),j.length===0&&S.warning("No matching orders found. Try adjusting your search criteria.")}catch{S.error("Failed to search orders")}finally{C(!1)}},A=()=>{h({open:!0}),f({customerName:"",customerEmail:"",amount:"",date:""}),v([])},b=()=>{h({open:!1}),f({customerName:"",customerEmail:"",amount:"",date:""}),v([])},O=t.filter(j=>j.status!=="Cancelled"),z=t.filter(j=>j.status==="Cancelled"),N=(j=>j.filter(L=>a==="pending"?L.payment.state==="awaiting":a==="completed"?L.status==="Completed":a==="active"?L.status!=="Completed"&&L.status!=="Cancelled":!0).filter(L=>L.orderNumber.toLowerCase().includes(n.toLowerCase())||L.customerInfo.name.toLowerCase().includes(n.toLowerCase())||L.customerInfo.email.toLowerCase().includes(n.toLowerCase())))(O),U=z.filter(j=>j.orderNumber.toLowerCase().includes(n.toLowerCase())||j.customerInfo.name.toLowerCase().includes(n.toLowerCase())||j.customerInfo.email.toLowerCase().includes(n.toLowerCase())),q=async(j,L)=>{if(window.confirm(`Are you sure you want to cancel Order #${L}?`))try{await W.put(`/orders/${j}/status`,{status:"Cancelled"}),S.success(`Order #${L} has been cancelled`),D(!1)}catch{S.error("Failed to cancel order")}},R=async j=>{var L;try{const ee=(L=j.items)==null?void 0:L.find(ie=>ie.customRequestId);if(!(ee!=null&&ee.customRequestId)){S.warning("No design images found for this order");return}let ae;if(ee.customRequestId&&ee.customRequestId.referenceImages)ae=ee.customRequestId;else{const ie=typeof ee.customRequestId=="string"?ee.customRequestId:ee.customRequestId._id||ee.customRequestId;ae=(await W.get(`/custom-requests/${ie}`)).data.data}if(!ae.referenceImages||ae.referenceImages.length===0){S.warning("No design images uploaded for this order");return}l({open:!0,order:j,images:ae.referenceImages,customRequest:ae}),p(0)}catch(ee){console.error("Error fetching design images:",ee),S.error("Failed to load design images")}},Q=async()=>{if(m.order)try{await W.put(`/orders/${m.order._id}/status`,{status:"Design Confirmed"}),S.success(`Design confirmed for Order #${m.order.orderNumber}! `),l({open:!1,order:null,images:[]}),D(!1)}catch{S.error("Failed to confirm design")}},I=()=>{l({open:!1,order:null,images:[]}),p(0)},Y=()=>{p(j=>j<m.images.length-1?j+1:0)},T=()=>{p(j=>j>0?j-1:m.images.length-1)};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"Manage Orders"}),e.jsxs("p",{className:"text-gray-600",children:[O.length," active orders",z.length>0&&`  ${z.length} cancelled orders`]})]}),e.jsxs("div",{className:"card p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by order #, customer name or email...",value:n,onChange:j=>o(j.target.value),className:"input-field pl-10"})]}),e.jsx("div",{children:e.jsxs("select",{value:a,onChange:j=>r(j.target.value),className:"input-field",children:[e.jsx("option",{value:"all",children:"All Active Orders"}),e.jsx("option",{value:"pending",children:"Pending Payment"}),e.jsx("option",{value:"active",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:A,className:"w-full md:w-auto bg-gradient-to-r from-amber-500 to-orange-500 text-white px-6 py-2.5 rounded-lg hover:from-amber-600 hover:to-orange-600 transition-all shadow-md hover:shadow-lg font-semibold flex items-center justify-center space-x-2",children:[e.jsx(Be,{}),e.jsx("span",{children:"Find Order for Payment (Manual Match)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center md:text-left",children:"Use this if customer forgot order number or entered wrong number in payment message"})]})]}),e.jsxs("div",{className:"card overflow-hidden mb-6",children:[e.jsx("div",{className:"px-6 py-4 border-b bg-gray-50",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Orders"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Order #"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Payment"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Current Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Next Step"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-12 text-center text-gray-500",children:"Loading orders..."})}):N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-12 text-center text-gray-500",children:"No active orders found"})}):N.map(j=>{const L=B(j);return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx(_,{to:`/orders/${j._id}`,className:"text-primary-600 hover:underline font-mono font-semibold",children:j.orderNumber})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:j.customerInfo.name}),e.jsx("p",{className:"text-sm text-gray-500",children:j.customerInfo.email}),e.jsx("p",{className:"text-xs text-gray-400",children:j.customerInfo.phone})]})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[j.items.length," item",j.items.length>1?"s":""]}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900",children:X(j.total)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 text-xs rounded-full font-semibold ${j.payment.state==="received"?"bg-green-100 text-green-800":j.payment.state==="awaiting"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:j.payment.state})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 text-xs rounded-full font-semibold ${ds(j.status)}`,children:[j.status==="Payment Received"&&e.jsx(Se,{className:"mr-1"}),j.status]})}),e.jsx("td",{className:"px-6 py-4",children:L.length>0?e.jsx("div",{className:"flex flex-col space-y-2",children:L.map((ee,ae)=>{var ve;return((ve=j.items)==null?void 0:ve.some(qe=>qe.customRequestId))&&ee==="Design Confirmed"?e.jsxs("button",{onClick:()=>R(j),className:"text-xs bg-purple-600 text-white px-3 py-1.5 rounded-lg hover:bg-purple-700 transition-colors font-medium flex items-center justify-center space-x-1",children:[e.jsx(dt,{className:"text-xs"}),e.jsx("span",{children:"View Design"})]},ae):e.jsxs("button",{onClick:()=>E(j._id,j.orderNumber,ee),className:"text-xs bg-primary-600 text-white px-3 py-1.5 rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center justify-center space-x-1",children:[e.jsx(Se,{className:"text-xs"}),e.jsx("span",{children:ee})]},ae)})}):e.jsx("span",{className:"text-xs text-gray-400 italic",children:"No next step"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ye(j.createdAt)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[j.payment.state==="awaiting"&&e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>$(j._id,j.orderNumber),className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Mark Paid"})}),e.jsxs(_,{to:`/orders/${j._id}`,className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center space-x-1",children:[e.jsx(ot,{}),e.jsx("span",{children:"View"})]}),j.status!=="Completed"&&j.status!=="Cancelled"&&e.jsxs("button",{onClick:()=>q(j._id,j.orderNumber),className:"text-xs bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center space-x-1",children:[e.jsx(Ne,{}),e.jsx("span",{children:"Cancel"})]})]})})]},j._id)})})]})})]}),U.length>0&&e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b bg-red-50",children:e.jsxs("h2",{className:"text-xl font-semibold text-red-900 flex items-center space-x-2",children:[e.jsx(Ne,{}),e.jsxs("span",{children:["Cancelled Orders (",U.length,")"]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Order #"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Payment"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:U.map(j=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors opacity-75",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx(_,{to:`/orders/${j._id}`,className:"text-red-600 hover:underline font-mono font-semibold",children:j.orderNumber})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:j.customerInfo.name}),e.jsx("p",{className:"text-sm text-gray-500",children:j.customerInfo.email})]})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[j.items.length," item",j.items.length>1?"s":""]}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900",children:X(j.total)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 text-xs rounded-full font-semibold ${j.payment.state==="received"?"bg-green-100 text-green-800":j.payment.state==="awaiting"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:j.payment.state})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ye(j.createdAt)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs(_,{to:`/orders/${j._id}`,className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center space-x-1",children:[e.jsx(ot,{}),e.jsx("span",{children:"View"})]})})]},j._id))})]})})]}),e.jsx(ts,{children:m.open&&m.images.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:I,className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[10000]"}),e.jsx(ke.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-4 z-[10001] flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col pointer-events-auto",onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-purple-50 to-pink-50",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-display font-bold text-gray-900",children:["View Design - Order #",(V=m.order)==null?void 0:V.orderNumber]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[(F=m.customRequest)==null?void 0:F.customerName,"  ",m.images.length," image(s)"]})]}),e.jsx("button",{onClick:I,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-white transition-colors",children:e.jsx(Ne,{className:"text-xl"})})]}),e.jsxs("div",{className:"flex-1 relative bg-gray-900 flex items-center justify-center min-h-[500px]",children:[e.jsx(ts,{mode:"wait",children:m.images.map((j,L)=>L===d?e.jsx(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center p-8",children:e.jsx("img",{src:j.url.startsWith("http")?j.url:`https://msucre-backend-65c219542360.herokuapp.com/api${j.url}`,alt:`Design reference ${L+1}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onError:ee=>{ee.target.src="https://via.placeholder.com/800x600?text=Image+Not+Found"}})},j.url||L):null)}),m.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:T,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 p-3 rounded-full shadow-lg transition-all hover:scale-110","aria-label":"Previous image",children:e.jsx(Ch,{className:"text-xl"})}),e.jsx("button",{onClick:Y,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 p-3 rounded-full shadow-lg transition-all hover:scale-110","aria-label":"Next image",children:e.jsx(kh,{className:"text-xl"})})]}),m.images.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm",children:[d+1," / ",m.images.length]}),m.images.length>1&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:e.jsx("div",{className:"flex justify-center gap-2 overflow-x-auto pb-2",children:m.images.map((j,L)=>e.jsx("button",{onClick:()=>p(L),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${L===d?"border-white scale-110":"border-transparent opacity-60 hover:opacity-100"}`,children:e.jsx("img",{src:j.url.startsWith("http")?j.url:`https://msucre-backend-65c219542360.herokuapp.com/api${j.url}`,alt:`Thumbnail ${L+1}`,className:"w-full h-full object-cover"})},L))})})]}),m.customRequest&&e.jsxs("div",{className:"p-6 bg-gray-50 border-t",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Flavor"}),e.jsx("p",{className:"font-medium text-sm",children:m.customRequest.flavor})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Size"}),e.jsx("p",{className:"font-medium text-sm",children:m.customRequest.size})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Layers"}),e.jsx("p",{className:"font-medium text-sm",children:m.customRequest.layers})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Shape"}),e.jsx("p",{className:"font-medium text-sm",children:m.customRequest.shape||"Round"})]})]}),m.customRequest.messageOnCake&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Message on Cake"}),e.jsxs("p",{className:"font-medium text-primary-600",children:['"',m.customRequest.messageOnCake,'"']})]}),m.customRequest.theme&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Theme"}),e.jsx("p",{className:"font-medium",children:m.customRequest.theme})]}),m.customRequest.notes&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Customer Notes"}),e.jsx("p",{className:"text-sm text-gray-700",children:m.customRequest.notes})]})]}),e.jsxs("div",{className:"p-6 border-t bg-white flex items-center justify-between",children:[e.jsx("button",{onClick:I,className:"px-6 py-2.5 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Close"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:I,className:"px-6 py-2.5 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),e.jsxs("button",{onClick:Q,className:"px-6 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl font-medium flex items-center space-x-2",children:[e.jsx(Se,{}),e.jsx("span",{children:"Confirm Design"})]})]})]})]})})]})}),e.jsx(ts,{children:u.open&&e.jsxs(e.Fragment,{children:[e.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:b,className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[10000]"}),e.jsx(ke.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-4 z-[10001] flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col pointer-events-auto",onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-amber-50 to-orange-50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-gray-900",children:"Manual Payment Matching"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Find order when customer forgot order number or entered wrong number"})]}),e.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-white transition-colors",children:e.jsx(Ne,{className:"text-xl"})})]}),e.jsxs("div",{className:"p-6 bg-gray-50 border-b",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name"}),e.jsx("input",{type:"text",value:x.customerName,onChange:j=>f({...x,customerName:j.target.value}),placeholder:"e.g., John Doe",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email"}),e.jsx("input",{type:"email",value:x.customerEmail,onChange:j=>f({...x,customerEmail:j.target.value}),placeholder:"e.g., john@example.com",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Amount (CAD)"}),e.jsx("input",{type:"number",step:"0.01",value:x.amount,onChange:j=>f({...x,amount:j.target.value}),placeholder:"e.g., 62.14",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date"}),e.jsx("input",{type:"date",value:x.date,onChange:j=>f({...x,date:j.target.value}),className:"input-field"})]})]}),e.jsxs("button",{onClick:k,disabled:w,className:"w-full bg-gradient-to-r from-primary-600 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-primary-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl font-semibold flex items-center justify-center space-x-2 disabled:opacity-50",children:[e.jsx(Be,{}),e.jsx("span",{children:w?"Searching...":"Search Orders"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Tip: Use at least 2 search criteria (e.g., name + amount) for best results"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:g.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Matching Orders (",g.length,")"]}),g.map(j=>e.jsxs("div",{className:"card p-5 border-2 border-gray-200 hover:border-primary-300 transition-colors",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900",children:["Order #",j.orderNumber]}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-semibold rounded-full",children:"Payment Pending"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Customer"}),e.jsx("p",{className:"font-medium",children:j.customerInfo.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Email"}),e.jsx("p",{className:"font-medium text-xs break-all",children:j.customerInfo.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Amount"}),e.jsx("p",{className:"font-bold text-primary-600",children:X(j.total)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Order Date"}),e.jsx("p",{className:"font-medium",children:ye(j.createdAt)})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Order Items:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[j.items.slice(0,3).map((L,ee)=>e.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[L.title," ",L.selectedSize&&`(${L.selectedSize})`," x",L.quantity]},ee)),j.items.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",j.items.length-3," more"]})]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-gray-200",children:[e.jsxs(_,{to:`/orders/${j._id}`,className:"flex-1 btn-outline text-center",children:[e.jsx(ot,{className:"inline mr-2"}),"View Order Details"]}),e.jsx("button",{onClick:()=>{window.confirm(`Confirm payment received for Order #${j.orderNumber}?

This will mark the payment as received even though the order number wasn't in the payment message.`)&&($(j._id,j.orderNumber,"Payment manually matched - order number missing/incorrect in payment message"),b())},className:"flex-1 bg-green-600 text-white px-4 py-2.5 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:" Match & Mark Paid"})]})]},j._id))]}):x.customerName||x.customerEmail||x.amount||x.date?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Be,{className:"text-5xl text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No matching orders found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your search criteria or check if payment was already processed"})]}):e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"How to Use Manual Payment Matching"}),e.jsxs("ol",{className:"text-sm text-gray-700 text-left space-y-2 list-decimal list-inside",children:[e.jsx("li",{children:"Enter customer name and/or email from the payment message"}),e.jsx("li",{children:"Enter the payment amount (if available)"}),e.jsx("li",{children:"Optionally select the order date"}),e.jsx("li",{children:'Click "Search Orders" to find matching pending orders'}),e.jsx("li",{children:'Review the results and click "Match & Mark Paid"'})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-4 italic",children:"Use this when customer forgot to include order number or entered wrong number"})]})})})]})})]})})]})})},u0=()=>{const[t,s]=y.useState([]),[a,r]=y.useState(null),[n,o]=y.useState(""),[i,c]=y.useState("all"),[m,l]=y.useState(""),[d,p]=y.useState(!0),u=de(),h=["pending","quoted","approved","design-confirmed","in-production","ready","completed"];y.useEffect(()=>{x(!0);const b=setInterval(()=>{x(!1)},2e4);return()=>clearInterval(b)},[]);const x=async(b=!1)=>{try{b&&p(!0);const O=await W.get("/custom-requests");s(O.data.data||[])}catch{b&&u.error("Failed to fetch custom requests")}finally{b&&p(!1)}},f=b=>{const O=b.status,z=h.findIndex(G=>G===O);if(O==="cancelled"||O==="completed")return[];if(z>=0){const G=z+1;if(G<h.length)return[h[G]]}return[]},g=b=>({pending:"Pending Review",quoted:"Quote Provided",approved:"Approved","design-confirmed":"Design Confirmed","in-production":"In Production",ready:"Ready for Pickup",completed:"Completed",cancelled:"Cancelled"})[b]||b,v=async(b,O)=>{if(!n||parseFloat(n)<=0){u.error("Please enter a valid quote amount");return}try{await W.put(`/custom-requests/${b}`,{priceQuote:parseFloat(n),status:"quoted",note:`Quote of ${X(parseFloat(n))} provided to customer`}),u.success(`Quote sent to ${O}! `),r(null),o(""),x(!1)}catch{u.error("Failed to provide quote")}},w=async(b,O,z,G="")=>{try{await W.put(`/custom-requests/${b}`,{status:O,note:G||`Status updated to ${g(O)}`}),u.success(`Custom cake for ${z} updated to: ${g(O)}`),x(!1)}catch{u.error("Failed to update status")}},C=async(b,O)=>{if(window.confirm(`Are you sure you want to cancel the request for ${O}?`))try{await W.put(`/custom-requests/${b}`,{status:"cancelled",note:"Custom cake request cancelled by admin"}),u.success(`Request for ${O} has been cancelled`),x(!1)}catch{u.error("Failed to cancel request")}},S=b=>{if(!b)return null;if(b.startsWith("http"))return b;let O="https://msucre-backend-65c219542360.herokuapp.com/api";O.startsWith("/api")?O=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:5000":window.location.origin.replace(/:\d+$/,":5000"):O.startsWith("http")||(O=window.location.hostname==="localhost"?"http://localhost:5000":window.location.origin);const z=b.startsWith("/")?b:`/${b}`;return`${O}${z}`},M=t.filter(b=>{var G,N;const O=!m||((G=b.customerName)==null?void 0:G.toLowerCase().includes(m.toLowerCase()))||((N=b.customerEmail)==null?void 0:N.toLowerCase().includes(m.toLowerCase()))||b._id.toLowerCase().includes(m.toLowerCase()),z=i==="all"||b.status===i;return O&&z}),B=M.filter(b=>b.status==="pending"),D=M.filter(b=>b.status==="quoted"),E=M.filter(b=>["approved","design-confirmed","in-production","ready"].includes(b.status)),$=M.filter(b=>b.status==="completed"),k=M.filter(b=>b.status==="cancelled"),A=({request:b})=>{const O=f(b),z=b.referenceImages&&b.referenceImages.length>0;return e.jsxs("div",{className:"card p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:b.customerName}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${b.status==="pending"?"bg-yellow-100 text-yellow-800":b.status==="quoted"?"bg-blue-100 text-blue-800":b.status==="approved"?"bg-green-100 text-green-800":b.status==="design-confirmed"?"bg-purple-100 text-purple-800":b.status==="in-production"?"bg-indigo-100 text-indigo-800":b.status==="ready"?"bg-emerald-100 text-emerald-800":b.status==="completed"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:g(b.status)})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Pe,{className:"text-xs"}),e.jsx("span",{children:b.customerEmail})]}),b.customerPhone&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ca,{className:"text-xs"}),e.jsx("span",{children:b.customerPhone})]})]})]}),z&&e.jsxs("div",{className:"flex space-x-2 ml-4",children:[b.referenceImages.slice(0,2).map((G,N)=>e.jsx("img",{src:S(G.url),alt:`Reference ${N+1}`,className:"w-16 h-16 object-cover rounded-lg border-2 border-gray-200",onError:U=>{U.target.src="https://via.placeholder.com/64x64?text=Image"}},N)),b.referenceImages.length>2&&e.jsxs("div",{className:"w-16 h-16 bg-gray-100 rounded-lg border-2 border-gray-200 flex items-center justify-center text-xs font-semibold text-gray-600",children:["+",b.referenceImages.length-2]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Flavor"}),e.jsx("p",{className:"font-semibold text-gray-900",children:b.flavor})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Br,{className:"text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Size"}),e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:b.size})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zr,{className:"text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Layers"}),e.jsx("p",{className:"font-semibold text-gray-900",children:b.layers})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Deadline"}),e.jsx("p",{className:"font-semibold text-gray-900 text-xs",children:new Date(b.deadlineAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[b.shape&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Shape:"}),e.jsx("span",{className:"font-medium",children:b.shape})]}),b.fillings&&b.fillings.length>0&&e.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Fillings:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:b.fillings.map((G,N)=>e.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded text-xs",children:G},N))})]}),b.icing&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Icing:"}),e.jsx("span",{className:"font-medium",children:b.icing})]}),b.theme&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(sr,{className:"text-gray-400"}),e.jsx("span",{className:"text-gray-500",children:"Theme:"}),e.jsx("span",{className:"font-medium",children:b.theme})]}),b.messageOnCake&&e.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Message:"}),e.jsxs("span",{className:"font-medium text-primary-600",children:['"',b.messageOnCake,'"']})]}),b.dietaryRequirements&&b.dietaryRequirements.length>0&&e.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Dietary:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:b.dietaryRequirements.map((G,N)=>e.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs",children:G},N))})]})]}),b.notes&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Customer Notes"}),e.jsx("p",{className:"text-sm text-gray-700",children:b.notes})]}),b.priceQuote>0&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("p",{className:"text-sm text-green-900",children:[e.jsx("span",{className:"font-semibold",children:"Quote Provided:"})," ",X(b.priceQuote)]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-4 border-t",children:[e.jsxs(_,{to:`/admin/custom-cakes/${b._id}`,className:"btn-outline text-sm flex items-center space-x-2",children:[e.jsx(ot,{}),e.jsx("span",{children:"View Timeline"})]}),O.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(G=>G==="design-confirmed"&&z?e.jsxs("button",{onClick:()=>{w(b._id,G,b.customerName)},className:"text-xs bg-purple-600 text-white px-3 py-1.5 rounded-lg hover:bg-purple-700 transition-colors font-medium flex items-center space-x-1",children:[e.jsx(dt,{className:"text-xs"}),e.jsx("span",{children:"Confirm Design"})]},G):e.jsxs("button",{onClick:()=>w(b._id,G,b.customerName),className:"text-xs bg-primary-600 text-white px-3 py-1.5 rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center space-x-1",children:[e.jsx(Se,{className:"text-xs"}),e.jsx("span",{children:g(G)})]},G))}),b.status==="pending"&&e.jsxs("button",{onClick:()=>r(b),className:"btn-primary text-sm flex items-center space-x-2",children:[e.jsx(Pe,{}),e.jsx("span",{children:"Provide Quote"})]}),b.status!=="completed"&&b.status!=="cancelled"&&e.jsxs("button",{onClick:()=>C(b._id,b.customerName),className:"text-xs bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center space-x-1",children:[e.jsx(Ne,{className:"text-xs"}),e.jsx("span",{children:"Cancel"})]})]})]})};return d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading custom cake requests..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"Custom Cake Requests"}),e.jsx("p",{className:"text-gray-600",children:"Manage all custom cake requests with detailed timeline tracking"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"card p-4 bg-yellow-50 border-l-4 border-yellow-500",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:B.length})]}),e.jsxs("div",{className:"card p-4 bg-blue-50 border-l-4 border-blue-500",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Quoted"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:D.length})]}),e.jsxs("div",{className:"card p-4 bg-indigo-50 border-l-4 border-indigo-500",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:E.length})]}),e.jsxs("div",{className:"card p-4 bg-gray-50 border-l-4 border-gray-500",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-700",children:$.length})]})]}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by customer name or email...",value:m,onChange:b=>l(b.target.value),className:"input-field pl-10"})]}),e.jsx("div",{children:e.jsxs("select",{value:i,onChange:b=>c(b.target.value),className:"input-field",children:[e.jsx("option",{value:"all",children:"All Requests"}),e.jsx("option",{value:"pending",children:"Pending Review"}),e.jsx("option",{value:"quoted",children:"Quoted (Awaiting Approval)"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"design-confirmed",children:"Design Confirmed"}),e.jsx("option",{value:"in-production",children:"In Production"}),e.jsx("option",{value:"ready",children:"Ready for Pickup"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]})}),(i==="all"||i==="pending")&&B.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx("span",{className:"w-3 h-3 bg-yellow-500 rounded-full animate-pulse"}),e.jsxs("span",{children:["Pending Review (",B.length,")"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:B.map(b=>e.jsx(A,{request:b},b._id))})]}),(i==="all"||i==="quoted")&&D.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsxs("span",{children:["Quoted - Awaiting Approval (",D.length,")"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:D.map(b=>e.jsx(A,{request:b},b._id))})]}),(i==="all"||["approved","design-confirmed","in-production","ready"].includes(i))&&E.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx("span",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),e.jsxs("span",{children:["In Progress (",E.length,")"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:E.map(b=>e.jsx(A,{request:b},b._id))})]}),(i==="all"||i==="completed")&&$.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx("span",{className:"w-3 h-3 bg-gray-500 rounded-full"}),e.jsxs("span",{children:["Completed (",$.length,")"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:$.map(b=>e.jsx(A,{request:b},b._id))})]}),(i==="all"||i==="cancelled")&&k.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsxs("span",{children:["Cancelled (",k.length,")"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:k.map(b=>e.jsx(A,{request:b},b._id))})]}),M.length===0&&e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(Ye,{className:"text-6xl text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Custom Cake Requests"}),e.jsx("p",{className:"text-gray-600",children:m||i!=="all"?"No requests match your search criteria":"Custom cake requests will appear here once customers submit them"})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-display font-bold",children:"Provide Quote"}),e.jsx("button",{onClick:()=>{r(null),o("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ne,{className:"text-xl"})})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["For: ",a.customerName]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quote Amount (CAD)"}),e.jsx("input",{type:"number",step:"0.01",value:n,onChange:b=>o(b.target.value),className:"input-field",placeholder:"125.00",autoFocus:!0})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Details:"}),e.jsx("br",{}),a.flavor,"  ",a.size,"  ",a.layers," layer",a.layers>1?"s":"",a.shape&&`  ${a.shape}`]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{r(null),o("")},className:"btn-outline flex-1",children:"Cancel"}),e.jsx("button",{onClick:()=>v(a._id,a.customerName),className:"btn-primary flex-1",children:"Send Quote"})]})]})]})})]})})},x0=()=>{const[t,s]=y.useState([]),[a,r]=y.useState([]),[n,o]=y.useState(!0),i=de();y.useEffect(()=>{c(!0);const u=setInterval(()=>{c(!1)},3e4);return()=>clearInterval(u)},[]);const c=async(u=!1)=>{var h,x;try{u&&o(!0);const[f,g]=await Promise.all([W.get("/reviews/admin/pending"),W.get("/reviews")]);s(f.data.data),r(g.data.data)}catch(f){console.error("Error fetching reviews:",f),u&&i.error(((x=(h=f.response)==null?void 0:h.data)==null?void 0:x.message)||"Failed to fetch reviews")}finally{u&&o(!1)}},m=async(u,h)=>{var x,f;try{await W.put(`/reviews/admin/${u}/publish`,{published:!0}),i.success(`Review by ${h} published! `),c(!1)}catch(g){console.error("Error publishing review:",g),i.error(((f=(x=g.response)==null?void 0:x.data)==null?void 0:f.message)||"Failed to publish review")}},l=async(u,h)=>{var x,f;try{await W.put(`/reviews/admin/${u}/publish`,{published:!1}),i.success(`Review by ${h} unpublished`),c(!1)}catch(g){console.error("Error unpublishing review:",g),i.error(((f=(x=g.response)==null?void 0:x.data)==null?void 0:f.message)||"Failed to unpublish review")}},d=async(u,h)=>{var x,f;if(window.confirm(`Delete review by ${h}? This action cannot be undone.`))try{await W.delete(`/reviews/admin/${u}`),i.success("Review deleted successfully"),c(!1)}catch(g){console.error("Error deleting review:",g),i.error(((f=(x=g.response)==null?void 0:x.data)==null?void 0:f.message)||"Failed to delete review")}},p=({review:u,isPending:h})=>{var f,g,v;const x=typeof u.productId=="object"&&((f=u.productId)!=null&&f.title)?u.productId.title:u.productId||"General Review";return e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[[...Array(5)].map((w,C)=>e.jsx(Oe,{className:C<u.rating?"text-yellow-400":"text-gray-300"},C)),e.jsxs("span",{className:"ml-2 text-sm font-semibold text-gray-700",children:[u.rating,"/5"]})]}),e.jsx("h3",{className:"font-semibold text-lg mb-1",children:u.title}),x&&e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Product: ",x]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[u.verifiedPurchase&&e.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Verified"}),h&&e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded",children:"Pending"})]})]}),e.jsx("p",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:u.body}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:u.customerName}),typeof u.userId=="object"&&((g=u.userId)==null?void 0:g.email)&&e.jsxs("span",{className:"text-gray-400 ml-2",children:["(",u.userId.email,")"]})]}),e.jsx("span",{children:ye(u.createdAt)})]}),typeof u.orderId=="object"&&((v=u.orderId)==null?void 0:v.orderNumber)&&e.jsxs("div",{className:"text-xs text-gray-500 mb-4 pb-4 border-b",children:["Order: ",u.orderId.orderNumber]}),e.jsx("div",{className:"flex items-center space-x-2 pt-4 border-t",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>m(u._id,u.customerName),className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center space-x-2 transition-colors",children:[e.jsx(Se,{}),e.jsx("span",{children:"Approve & Publish"})]}),e.jsx("button",{onClick:()=>d(u._id,u.customerName),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Delete Review",children:e.jsx(Ne,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>l(u._id,u.customerName),className:"flex-1 btn-outline py-2 text-sm",children:"Unpublish"}),e.jsx("button",{onClick:()=>d(u._id,u.customerName),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Delete Review",children:e.jsx(_e,{})})]})})]})};return n?e.jsx(we,{fullScreen:!0}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"Manage Reviews"}),e.jsx("p",{className:"text-gray-600",children:"Approve, publish, or manage customer reviews"})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[e.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm mr-3",children:[t.length," Pending"]}),"Reviews Awaiting Approval"]}),t.length===0?e.jsxs("div",{className:"bg-white rounded-lg p-12 text-center border border-gray-200",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No pending reviews"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All reviews have been processed"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(u=>e.jsx(p,{review:u,isPending:!0},u._id))})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Published Reviews (",a.length,")"]}),a.length===0?e.jsx("p",{className:"text-gray-500 text-center py-12",children:"No published reviews yet"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(u=>e.jsx(p,{review:u,isPending:!1},u._id))})]})]})})},h0=()=>{const t=de(),[s,a]=y.useState(!1),[r,n]=y.useState("url"),[o,i]=y.useState(null),[c,m]=y.useState(null),[l,d]=y.useState({mainHeading:"M. Sucre",tagline:"Artisan Cakes Made with Love",description:"Create your dream cake or choose from our exquisite collection. Every cake is handcrafted with premium ingredients and lots of love.",primaryCTA:{text:" Start a Custom Cake",link:"/custom-cakes"},secondaryCTA:{text:"Browse Catalog",link:"/catalog"},heroImage:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&q=80",badges:[{text:"Free Sample Available",icon:""},{text:"10% Off First Order",icon:""},{text:"2-Day Lead Time",icon:""}],locations:["Gatineau (Quebec)","Downtown Ottawa"],customerAvatars:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"],happyCustomersCount:"500+"});y.useEffect(()=>{const g=localStorage.getItem("heroSection");if(g)try{const v=JSON.parse(g);d({mainHeading:v.mainHeading||"M. Sucre",tagline:v.tagline||"Artisan Cakes Made with Love",description:v.description||"Create your dream cake or choose from our exquisite collection.",primaryCTA:v.primaryCTA||{text:" Start a Custom Cake",link:"/custom-cakes"},secondaryCTA:v.secondaryCTA||{text:"Browse Catalog",link:"/catalog"},heroImage:v.heroImage||"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&q=80",badges:v.badges||[],locations:v.locations||["Gatineau (Quebec)","Downtown Ottawa"],customerAvatars:v.customerAvatars||["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"],happyCustomersCount:v.happyCustomersCount||"500+"}),m(v.heroImage||"")}catch{console.log("Using default hero settings")}},[]);const p=async()=>{a(!0);try{let g=l.heroImage;if(o){t.info("Processing image...",2e3);const w=new FileReader;g=await new Promise((S,M)=>{w.onloadend=()=>S(w.result),w.onerror=M,w.readAsDataURL(o)})}const v={...l,heroImage:g||l.heroImage};localStorage.setItem("heroSection",JSON.stringify(v)),t.success("Hero section updated successfully! "),i(null),d(v),m(v.heroImage)}catch(g){console.error("Save error:",g),t.error("Failed to save changes")}finally{a(!1)}},u=g=>{const v=g.target.files[0];if(v){if(v.size>5*1024*1024){t.error("Image must be less than 5MB");return}i(v);const w=new FileReader;w.onloadend=()=>{m(w.result)},w.readAsDataURL(v)}},h=(g,v,w)=>{const C=[...l.badges];C[g]={...C[g],[v]:w},d({...l,badges:C})},x=()=>{d({...l,badges:[...l.badges,{text:"New Badge",icon:""}]})},f=g=>{d({...l,badges:l.badges.filter((v,w)=>w!==g)})};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"Hero Section Manager"}),e.jsx("p",{className:"text-gray-600",children:"Customize your homepage hero section"})]}),e.jsxs("button",{onClick:p,disabled:s,className:"btn-primary flex items-center space-x-2",children:[e.jsx(os,{}),e.jsx("span",{children:s?"Saving...":"Save Changes"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Live Preview"}),e.jsxs("div",{className:"bg-gradient-to-br from-primary-50 via-white to-pink-50 rounded-xl p-8",children:[e.jsxs("div",{className:"inline-block bg-primary-100 text-primary-700 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:["Serving ",l.locations.join(" & ")]}),e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-4",children:l.mainHeading}),e.jsx("p",{className:"text-xl text-gray-600 mb-4 italic",children:l.tagline}),e.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:l.description}),e.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[e.jsx("button",{className:"btn-primary text-sm",children:l.primaryCTA.text}),e.jsx("button",{className:"btn-secondary text-sm",children:l.secondaryCTA.text})]}),e.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:l.badges.map((g,v)=>e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx("span",{children:g.icon}),e.jsx("span",{children:g.text})]},v))})]}),c&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Hero Image:"}),e.jsx("img",{src:c,alt:"Hero",className:"w-full h-64 object-cover rounded-xl"})]}),l.customerAvatars&&l.customerAvatars.length>0&&e.jsxs("div",{className:"mt-6 bg-white rounded-xl p-4 border",children:[e.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Customer Badge:"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex -space-x-2",children:l.customerAvatars.slice(0,3).map((g,v)=>e.jsx("img",{src:g,alt:`Customer ${v+1}`,className:"w-10 h-10 rounded-full border-2 border-white object-cover",onError:w=>{w.target.src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"}},v))}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(g=>e.jsx(Oe,{className:"text-yellow-400 text-sm"},g))}),e.jsxs("p",{className:"text-sm font-semibold",children:[l.happyCustomersCount||"500+"," Happy Customers"]})]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Text Content"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Heading"}),e.jsx("input",{type:"text",value:l.mainHeading,onChange:g=>d({...l,mainHeading:g.target.value}),className:"input-field",placeholder:"M. Sucre"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tagline"}),e.jsx("input",{type:"text",value:l.tagline,onChange:g=>d({...l,tagline:g.target.value}),className:"input-field",placeholder:"Artisan Cakes Made with Love"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{rows:"3",value:l.description,onChange:g=>d({...l,description:g.target.value}),className:"input-field",placeholder:"Describe your business..."})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Call-to-Action Buttons"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Button Text"}),e.jsx("input",{type:"text",value:l.primaryCTA.text,onChange:g=>d({...l,primaryCTA:{...l.primaryCTA,text:g.target.value}}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Button Link"}),e.jsx("input",{type:"text",value:l.primaryCTA.link,onChange:g=>d({...l,primaryCTA:{...l.primaryCTA,link:g.target.value}}),className:"input-field",placeholder:"/custom-cakes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Button Text"}),e.jsx("input",{type:"text",value:l.secondaryCTA.text,onChange:g=>d({...l,secondaryCTA:{...l.secondaryCTA,text:g.target.value}}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Button Link"}),e.jsx("input",{type:"text",value:l.secondaryCTA.link,onChange:g=>d({...l,secondaryCTA:{...l.secondaryCTA,link:g.target.value}}),className:"input-field",placeholder:"/catalog"})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Hero Image"}),e.jsxs("div",{className:"flex space-x-4 mb-4",children:[e.jsxs("button",{type:"button",onClick:()=>n("url"),className:`px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors ${r==="url"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[e.jsx(dt,{}),e.jsx("span",{children:"Image URL"})]}),e.jsxs("button",{type:"button",onClick:()=>n("file"),className:`px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors ${r==="file"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[e.jsx(ls,{}),e.jsx("span",{children:"Upload File"})]})]}),r==="url"&&e.jsxs("div",{children:[e.jsx("input",{type:"url",value:l.heroImage,onChange:g=>{d({...l,heroImage:g.target.value}),m(g.target.value)},className:"input-field",placeholder:"https://images.unsplash.com/photo-..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 1200x800px"})]}),r==="file"&&e.jsxs("div",{children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary-500 transition-colors cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"hidden",id:"hero-image-upload"}),e.jsxs("label",{htmlFor:"hero-image-upload",className:"cursor-pointer",children:[e.jsx(ls,{className:"text-5xl text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium mb-1",children:"Upload Hero Image"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"})]})]}),o&&e.jsxs("p",{className:"mt-2 text-sm text-green-600",children:[" Selected: ",o.name]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:" Quick Info Badges"}),e.jsx("button",{onClick:x,className:"text-sm text-primary-600 hover:underline",children:"+ Add Badge"})]}),e.jsx("div",{className:"space-y-3",children:l.badges.map((g,v)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:g.text,onChange:w=>h(v,"text",w.target.value),className:"input-field flex-1",placeholder:"Badge text"}),e.jsx("button",{onClick:()=>f(v),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:""})]},v))})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Customer Avatars"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Manage customer photos shown in hero badge"}),e.jsxs("div",{className:"space-y-3",children:[(l.customerAvatars||[]).map((g,v)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:g,alt:`Avatar ${v+1}`,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200",onError:w=>{w.target.src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"}}),e.jsx("input",{type:"url",value:g,onChange:w=>{const C=[...l.customerAvatars];C[v]=w.target.value,d({...l,customerAvatars:C})},className:"input-field flex-1",placeholder:"https://images.unsplash.com/photo-...?w=100"}),v>2&&e.jsx("button",{onClick:()=>{const w=(l.customerAvatars||[]).filter((C,S)=>S!==v);d({...l,customerAvatars:w})},className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:""})]},v)),(l.customerAvatars||[]).length<5&&e.jsx("button",{onClick:()=>{d({...l,customerAvatars:[...l.customerAvatars||[],"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"]})},className:"text-sm text-primary-600 hover:underline",children:"+ Add Avatar"})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Happy Customers Count"}),e.jsx("input",{type:"text",value:l.happyCustomersCount,onChange:g=>d({...l,happyCustomersCount:g.target.value}),className:"input-field",placeholder:"500+"})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Service Locations"}),e.jsx("div",{className:"space-y-3",children:l.locations.map((g,v)=>e.jsx("div",{children:e.jsx("input",{type:"text",value:g,onChange:w=>{const C=[...l.locations];C[v]=w.target.value,d({...l,locations:C})},className:"input-field",placeholder:"Location name"})},v))})]}),e.jsxs("button",{onClick:p,disabled:s,className:"btn-primary w-full text-lg flex items-center justify-center space-x-2",children:[e.jsx(os,{}),e.jsx("span",{children:s?"Saving Changes...":"Save Hero Section"})]})]})]})]})})},f0=()=>{var G,N,U,q;const[t,s]=y.useState([]),[a,r]=y.useState(!0),[n,o]=y.useState(""),[i,c]=y.useState("all"),[m,l]=y.useState("subscribers"),[d,p]=y.useState({page:1,limit:50,total:0,pages:0}),[u,h]=y.useState({subject:"",content:"",recipientFilter:"active",testEmail:"",fromEmail:""}),[x,f]=y.useState(null),[g,v]=y.useState(!1),[w,C]=y.useState(null),[S,M]=y.useState(!1),B=de();y.useEffect(()=>{E(!0),D();const R=setInterval(()=>{E(!1)},3e4);return()=>clearInterval(R)},[i,d.page]);const D=async()=>{try{const Q=(await W.get("/newsletter/email-config")).data.data;f(Q),h(I=>!I.fromEmail&&Q.fromEmailPlain?{...I,fromEmail:Q.fromEmailPlain}:I)}catch(R){console.error("Error fetching email config:",R)}},E=async(R=!1)=>{try{R&&r(!0);const Q=new URLSearchParams({page:d.page.toString(),limit:d.limit.toString()});i!=="all"&&Q.append("active",i==="active"?"true":"false");const I=await W.get(`/newsletter?${Q}`);s(I.data.data),p(I.data.pagination||d)}catch(Q){R&&B.error("Failed to fetch subscribers"),console.error("Error fetching subscribers:",Q)}finally{R&&r(!1)}},$=async(R,Q)=>{try{await W.put(`/newsletter/${R}/status`,{isActive:Q}),B.success(`Subscriber ${Q?"activated":"deactivated"} successfully`),E(!1)}catch{B.error("Failed to update subscriber status")}},k=()=>{const R=t.filter(V=>V.isActive),Q=[["Email","Name","Subscribed At","Source"].join(","),...R.map(V=>[V.email,V.name||"",new Date(V.subscribedAt).toLocaleDateString(),V.source||"other"].join(","))].join(`
`),I=new Blob([Q],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),T=URL.createObjectURL(I);Y.setAttribute("href",T),Y.setAttribute("download",`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),B.success("Subscribers exported successfully!")},A=t.filter(R=>!n||R.email.toLowerCase().includes(n.toLowerCase())||R.name&&R.name.toLowerCase().includes(n.toLowerCase())),b={total:t.length,active:t.filter(R=>R.isActive).length,inactive:t.filter(R=>!R.isActive).length},O=async(R=!1)=>{var Q,I,Y;if(!u.subject||!u.content){B.error("Please fill in subject and content");return}if(R&&!u.testEmail){B.error("Please enter a test email address");return}v(!0),C(null);try{const T={subject:u.subject,content:u.content,recipientFilter:u.recipientFilter,...R&&{testEmail:u.testEmail},...u.fromEmail&&{fromEmail:u.fromEmail}},V=await W.post("/newsletter/send-promotional",T);C(V.data),B.success(R?"Test email sent successfully!":`Email sent to ${((Q=V.data.stats)==null?void 0:Q.sent)||0} subscribers!`),R||h({subject:"",content:"",recipientFilter:"active",testEmail:"",fromEmail:(x==null?void 0:x.fromEmailPlain)||""})}catch(T){B.error(((Y=(I=T.response)==null?void 0:I.data)==null?void 0:Y.message)||"Failed to send email")}finally{v(!1)}},z=()=>u.recipientFilter==="active"?t.filter(R=>R.isActive).length:t.length;return a?e.jsx(we,{fullScreen:!0}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900 mb-2",children:"Newsletter Subscribers"}),e.jsx("p",{className:"text-gray-600",children:"Manage your email newsletter subscribers and their preferences"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:k,className:"btn-outline flex items-center space-x-2",disabled:b.active===0,children:[e.jsx(Ph,{}),e.jsx("span",{children:"Export CSV"})]}),e.jsxs("button",{onClick:()=>E(!0),className:"btn-outline flex items-center space-x-2",children:[e.jsx(Ih,{}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsxs("div",{className:"flex space-x-4 mt-6 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>l("subscribers"),className:`px-6 py-3 font-semibold transition-colors border-b-2 ${m==="subscribers"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Pe,{className:"inline mr-2"}),"Subscribers"]}),e.jsxs("button",{onClick:()=>l("send-email"),className:`px-6 py-3 font-semibold transition-colors border-b-2 ${m==="send-email"?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Ma,{className:"inline mr-2"}),"Send Promotional Email"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Pe,{className:"text-blue-600 text-xl"})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:b.active})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Se,{className:"text-green-600 text-xl"})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Inactive Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:b.inactive})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Ne,{className:"text-red-600 text-xl"})})]})})]})]}),m==="send-email"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Compose Promotional Email"}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["From Email Address ",e.jsx("span",{className:"text-gray-500 font-normal",children:"(default business email)"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[e.jsx("strong",{children:"Default Business Email:"})," ",e.jsx("span",{className:"font-mono text-primary-600 font-semibold",children:(x==null?void 0:x.fromEmail)||(x==null?void 0:x.fromEmailPlain)||"monsieur.sucre.ca@gmail.com"})]}),(x==null?void 0:x.emailUser)&&e.jsxs("p",{className:"text-xs text-gray-500",children:["SMTP Account: ",e.jsx("span",{className:"font-mono",children:x.emailUser})]}),e.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:" This email will be used for all newsletter communications unless overridden below"})]}),e.jsx("input",{type:"text",value:u.fromEmail,onChange:R=>h({...u,fromEmail:R.target.value}),placeholder:`Leave empty to use default: ${(x==null?void 0:x.fromEmailPlain)||"from config"}`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono text-sm"}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[" ",e.jsx("strong",{children:"Leave empty"})," to use default email (",(x==null?void 0:x.fromEmailPlain)||"from config",").",e.jsx("br",{}),"Enter a custom email to override: ",e.jsx("span",{className:"font-mono",children:"marketing@msucre.com"})," or ",e.jsx("span",{className:"font-mono",children:"M. Sucre <marketing@msucre.com>"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipients"}),e.jsxs("select",{value:u.recipientFilter,onChange:R=>h({...u,recipientFilter:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsxs("option",{value:"active",children:["Active Subscribers Only (",b.active,")"]}),e.jsxs("option",{value:"all",children:["All Subscribers (",b.total,")"]})]}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Email will be sent to ",z()," subscriber",z()!==1?"s":""]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subject Line ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:u.subject,onChange:R=>h({...u,subject:R.target.value}),placeholder:"e.g., Special Offer: 20% Off All Cakes!",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Content ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:u.content,onChange:R=>h({...u,content:R.target.value}),placeholder:`Write your promotional message here...

Tip: Use line breaks to separate paragraphs. Personalization (customer name) is automatic.`,rows:12,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono text-sm"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:" Tip: Each subscriber will receive a personalized email with their name included."})]}),e.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Send Test Email (Optional)"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"email",value:u.testEmail,onChange:R=>h({...u,testEmail:R.target.value}),placeholder:"your-email@example.com",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),e.jsxs("button",{onClick:()=>O(!0),disabled:g||!u.subject||!u.content||!u.testEmail,className:"px-6 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[g?e.jsx(Lt,{className:"animate-spin"}):e.jsx(Ma,{}),e.jsx("span",{children:"Send Test"})]})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Send a test email to yourself before sending to all subscribers"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("button",{onClick:()=>M(!S),className:"btn-outline flex items-center space-x-2",disabled:!u.subject||!u.content,children:[e.jsx(ot,{}),e.jsx("span",{children:S?"Hide Preview":"Preview Email"})]}),e.jsx("button",{onClick:()=>O(!1),disabled:g||!u.subject||!u.content||z()===0,className:"btn-primary flex items-center space-x-2",children:g?e.jsxs(e.Fragment,{children:[e.jsx(Lt,{className:"animate-spin"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ma,{}),e.jsxs("span",{children:["Send to ",z()," Subscriber",z()!==1?"s":""]})]})})]}),S&&u.subject&&u.content&&e.jsxs("div",{className:"mt-6 p-6 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Email Preview"}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-300",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"From:"}),e.jsx("p",{className:"font-mono text-sm font-semibold",children:u.fromEmail||(x==null?void 0:x.fromEmail)||"Default from config"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Subject:"}),e.jsx("p",{className:"font-semibold",children:u.subject})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"To: Test User"}),e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("p",{className:"mb-2",children:"Hi Test User,"}),e.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:u.content})]})]})]})]}),w&&e.jsxs("div",{className:`mt-6 p-6 rounded-lg ${((G=w.stats)==null?void 0:G.failed)>0?"bg-yellow-50 border border-yellow-200":"bg-green-50 border border-green-200"}`,children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Send Results"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:((N=w.stats)==null?void 0:N.total)||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Sent"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:((U=w.stats)==null?void 0:U.sent)||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Failed"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:((q=w.stats)==null?void 0:q.failed)||0})]})]}),w.errors&&w.errors.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-semibold text-red-600 mb-2",children:"Errors:"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[w.errors.slice(0,5).map((R,Q)=>e.jsxs("li",{children:[" ",R.email,": ",R.error]},Q)),w.errors.length>5&&e.jsxs("li",{className:"text-gray-500",children:["... and ",w.errors.length-5," more"]})]})]})]})]})}),m==="subscribers"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by email or name...",value:n,onChange:R=>o(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ah,{className:"text-gray-400"}),e.jsxs("select",{value:i,onChange:R=>{c(R.target.value),p(Q=>({...Q,page:1}))},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All Subscribers"}),e.jsx("option",{value:"active",children:"Active Only"}),e.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscribed At"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.length>0?A.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:R.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:R.name?e.jsxs(e.Fragment,{children:[e.jsx(cs,{className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:R.name})]}):e.jsx("span",{className:"text-sm text-gray-400 italic",children:"No name"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.isActive?e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"mr-1"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"mr-1"}),"Inactive"]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:R.source||"other"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(bt,{className:"mr-2"}),ye(R.subscribedAt)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>$(R._id,!R.isActive),className:`${R.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"} transition-colors`,children:R.isActive?"Deactivate":"Activate"})})]},R._id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center",children:[e.jsx(Pe,{className:"mx-auto text-gray-300 text-4xl mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No subscribers found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:n||i!=="all"?"Try adjusting your search or filter":"Subscribers will appear here once they sign up"})]})})})]})}),d.pages>1&&e.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(d.page-1)*d.limit+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min(d.page*d.limit,d.total)})," ","of ",e.jsx("span",{className:"font-medium",children:d.total})," subscribers"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>p(R=>({...R,page:R.page-1})),disabled:d.page===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>p(R=>({...R,page:R.page+1})),disabled:d.page>=d.pages,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]})]})]})})},g0=()=>{const[t,s]=y.useState([]),[a,r]=y.useState(!0),[n,o]=y.useState(!1),[i,c]=y.useState(null),[m,l]=y.useState(""),[d,p]=y.useState("all"),u=de(),[h,x]=y.useState({name:"",type:"promo",percentOff:"",code:"",startsAt:"",endsAt:"",active:!0,scope:"sitewide",applicableCategories:[],applicableProductIds:[],maxUsesPerCustomer:1});y.useEffect(()=>{f(!0);const k=setInterval(()=>{f(!1)},3e4);return()=>clearInterval(k)},[]);const f=async(k=!1)=>{var A,b;try{k&&r(!0);const O=await W.get("/offers/admin/all");s(O.data.data||[])}catch(O){console.error("Error fetching offers:",O),k&&u.error(((b=(A=O.response)==null?void 0:A.data)==null?void 0:b.message)||"Failed to fetch offers")}finally{k&&r(!1)}},g=async k=>{var A,b;k.preventDefault();try{const O={...h,percentOff:parseFloat(h.percentOff),maxUsesPerCustomer:parseInt(h.maxUsesPerCustomer,10),startsAt:h.startsAt?new Date(h.startsAt).toISOString():void 0,endsAt:h.endsAt?new Date(h.endsAt).toISOString():void 0,code:h.code?h.code.toUpperCase():void 0};O.code||delete O.code,O.startsAt||delete O.startsAt,O.endsAt||delete O.endsAt,(!O.applicableCategories||O.applicableCategories.length===0)&&delete O.applicableCategories,(!O.applicableProductIds||O.applicableProductIds.length===0)&&delete O.applicableProductIds,i?(await W.put(`/offers/admin/${i._id}`,O),u.success("Offer updated successfully! ")):(await W.post("/offers/admin",O),u.success("Offer created successfully! ")),o(!1),S(),f(!1)}catch(O){console.error("Error saving offer:",O),u.error(((b=(A=O.response)==null?void 0:A.data)==null?void 0:b.message)||"Failed to save offer")}},v=k=>{c(k),x({name:k.name||"",type:k.type||"promo",percentOff:k.percentOff||"",code:k.code||"",startsAt:k.startsAt?new Date(k.startsAt).toISOString().slice(0,16):"",endsAt:k.endsAt?new Date(k.endsAt).toISOString().slice(0,16):"",active:k.active!==void 0?k.active:!0,scope:k.scope||"sitewide",applicableCategories:k.applicableCategories||[],applicableProductIds:k.applicableProductIds||[],maxUsesPerCustomer:k.maxUsesPerCustomer||1}),o(!0)},w=async(k,A)=>{var b,O;if(window.confirm(`Delete offer "${A}"? This action cannot be undone.`))try{await W.delete(`/offers/admin/${k}`),u.success("Offer deleted successfully"),f(!1)}catch(z){console.error("Error deleting offer:",z),u.error(((O=(b=z.response)==null?void 0:b.data)==null?void 0:O.message)||"Failed to delete offer")}},C=async k=>{var A,b;try{await W.put(`/offers/admin/${k._id}`,{active:!k.active}),u.success(`Offer ${k.active?"deactivated":"activated"} successfully`),f(!1)}catch(O){console.error("Error toggling offer status:",O),u.error(((b=(A=O.response)==null?void 0:A.data)==null?void 0:b.message)||"Failed to update offer status")}},S=()=>{c(null),x({name:"",type:"promo",percentOff:"",code:"",startsAt:"",endsAt:"",active:!0,scope:"sitewide",applicableCategories:[],applicableProductIds:[],maxUsesPerCustomer:1})},M=()=>{S(),o(!0)},B=()=>{o(!1),S()},D=k=>{if(!k.active)return!1;const A=new Date;return!(k.startsAt&&A<new Date(k.startsAt)||k.endsAt&&A>new Date(k.endsAt))},E=t.filter(k=>{const A=k.name.toLowerCase().includes(m.toLowerCase())||k.code&&k.code.toLowerCase().includes(m.toLowerCase());return d==="all"?A:d==="active"?A&&D(k):d==="inactive"?A&&!D(k):d==="promo"?A&&k.type==="promo":d==="sessional"?A&&k.type==="sessional":d==="registration"?A&&k.type==="registration":A}),$={total:t.length,active:t.filter(k=>D(k)).length,inactive:t.filter(k=>!D(k)).length,promo:t.filter(k=>k.type==="promo").length,sessional:t.filter(k=>k.type==="sessional").length,registration:t.filter(k=>k.type==="registration").length};return a?e.jsx(we,{fullScreen:!0}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"Manage Offers & Promos"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage promotional offers, seasonal discounts, and registration bonuses"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Offers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$.total})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:$.active})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:[e.jsx("p",{className:"text-sm text-red-600 mb-1",children:"Inactive"}),e.jsx("p",{className:"text-2xl font-bold text-red-700",children:$.inactive})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Promo Codes"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:$.promo})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[e.jsx("p",{className:"text-sm text-purple-600 mb-1",children:"Seasonal"}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:$.sessional})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[e.jsx("p",{className:"text-sm text-yellow-600 mb-1",children:"Registration"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:$.registration})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex-1 w-full md:w-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name or code...",value:m,onChange:k=>l(k.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),e.jsxs("select",{value:d,onChange:k=>p(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Offers"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"promo",children:"Promo Codes"}),e.jsx("option",{value:"sessional",children:"Seasonal"}),e.jsx("option",{value:"registration",children:"Registration"})]}),e.jsxs("button",{onClick:M,className:"btn-primary flex items-center space-x-2 px-6 py-2",children:[e.jsx(Qe,{}),e.jsx("span",{children:"New Offer"})]})]}),E.length===0?e.jsxs("div",{className:"bg-white rounded-lg p-12 text-center border border-gray-200",children:[e.jsx($s,{className:"mx-auto text-5xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No offers found"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:m||d!=="all"?"Try adjusting your search or filter":"Create your first offer to get started"}),!m&&d==="all"&&e.jsx("button",{onClick:M,className:"btn-primary",children:"Create Offer"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:E.map(k=>e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:k.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${k.type==="promo"?"bg-blue-100 text-blue-800":k.type==="sessional"?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"}`,children:k.type}),D(k)?e.jsx(ns,{className:"text-green-500",title:"Valid"}):e.jsx(Vh,{className:"text-red-500",title:"Invalid/Expired"})]}),e.jsxs("p",{className:"text-3xl font-bold text-primary-600 mb-2",children:[k.percentOff,"% OFF"]}),k.code&&e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Code:"})," ",e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded font-mono",children:k.code})]})]}),e.jsx("div",{className:"flex flex-col items-end space-y-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${k.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.active?"Active":"Inactive"})})]}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"text-gray-400"}),e.jsx("span",{children:k.startsAt?`Starts: ${ye(k.startsAt)}`:"No start date"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"text-gray-400"}),e.jsx("span",{children:k.endsAt?`Ends: ${ye(k.endsAt)}`:"No end date"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ol,{className:"text-gray-400"}),e.jsxs("span",{children:["Scope: ",k.scope]}),k.usageCount>0&&e.jsxs("span",{className:"ml-2 text-primary-600",children:["(",k.usageCount," uses)"]})]}),k.maxUsesPerCustomer>0&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Max uses per customer: ",k.maxUsesPerCustomer]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t",children:[e.jsx("button",{onClick:()=>C(k),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${k.active?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-600 text-white hover:bg-green-700"}`,children:k.active?"Deactivate":"Activate"}),e.jsx("button",{onClick:()=>v(k),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",title:"Edit Offer",children:e.jsx(la,{})}),e.jsx("button",{onClick:()=>w(k._id,k.name),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Delete Offer",children:e.jsx(_e,{})})]})]},k._id))}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i?"Edit Offer":"Create New Offer"}),e.jsx("button",{onClick:B,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Offer Name *"}),e.jsx("input",{type:"text",required:!0,value:h.name,onChange:k=>x({...h,name:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., Summer Sale 2024"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),e.jsxs("select",{required:!0,value:h.type,onChange:k=>x({...h,type:k.target.value,code:k.target.value==="promo"?h.code:""}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"promo",children:"Promo Code"}),e.jsx("option",{value:"sessional",children:"Seasonal"}),e.jsx("option",{value:"registration",children:"Registration"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount (%) *"}),e.jsx("input",{type:"number",required:!0,min:"0",max:"100",value:h.percentOff,onChange:k=>x({...h,percentOff:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"10"})]})]}),h.type==="promo"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Promo Code *"}),e.jsx("input",{type:"text",required:h.type==="promo",value:h.code,onChange:k=>x({...h,code:k.target.value.toUpperCase()}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono",placeholder:"SUMMER2024"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Code will be automatically uppercased"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"datetime-local",value:h.startsAt,onChange:k=>x({...h,startsAt:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"datetime-local",value:h.endsAt,onChange:k=>x({...h,endsAt:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scope *"}),e.jsxs("select",{required:!0,value:h.scope,onChange:k=>x({...h,scope:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"sitewide",children:"Sitewide"}),e.jsx("option",{value:"category",children:"Category"}),e.jsx("option",{value:"products",children:"Specific Products"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Uses Per Customer"}),e.jsx("input",{type:"number",min:"0",value:h.maxUsesPerCustomer,onChange:k=>x({...h,maxUsesPerCustomer:parseInt(k.target.value,10)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"1"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"0 = unlimited"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"active",checked:h.active,onChange:k=>x({...h,active:k.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"active",className:"text-sm font-medium text-gray-700",children:"Active (Offer is enabled)"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:B,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary px-6 py-2",children:i?"Update Offer":"Create Offer"})]})]})]})})]})})},y0=()=>{const[t,s]=y.useState({}),[a,r]=y.useState({}),[n,o]=y.useState(!0),[i,c]=y.useState(""),[m,l]=y.useState("general"),[d,p]=y.useState({}),[u,h]=y.useState(!1),x=de();y.useEffect(()=>{f(!0);const T=setInterval(()=>{f(!1)},3e4);return()=>clearInterval(T)},[]);const f=async(T=!1)=>{var V,F;try{T&&o(!0);const j=await W.get("/settings/admin/all");s(j.data.data||{}),r(j.data.details||{}),p(j.data.data||{}),h(!1)}catch(j){console.error("Error fetching settings:",j),T&&x.error(((F=(V=j.response)==null?void 0:V.data)==null?void 0:F.message)||"Failed to fetch settings")}finally{T&&o(!1)}},g=(T,V,F=null)=>{p(j=>{const L={...j};return F!==null?(L[T]||(L[T]={}),L[T]={...L[T],[F]:V}):L[T]=V,L}),h(!0)},v=(T,V="")=>{p(F=>({...F,[T]:[...F[T]||[],V]})),h(!0)},w=(T,V)=>{p(F=>({...F,[T]:F[T].filter((j,L)=>L!==V)})),h(!0)},C=(T,V,F)=>{p(j=>{const L=[...j[T]||[]];return L[V]=F,{...j,[T]:L}}),h(!0)},S=T=>{p(V=>({...V,[T]:[...V[T]||[],{}]})),h(!0)},M=(T,V)=>{p(F=>({...F,[T]:F[T].filter((j,L)=>L!==V)})),h(!0)},B=(T,V,F,j)=>{p(L=>{const ee=[...L[T]||[]];return ee[V]={...ee[V],[F]:j},{...L,[T]:ee}}),h(!0)},D=async()=>{var T,V;try{const F=Object.entries(d).map(([j,L])=>{var ee;return W.put(`/settings/admin/${j}`,{value:L,description:((ee=a[j])==null?void 0:ee.description)||""})});await Promise.all(F),x.success("All settings saved successfully! "),h(!1),f(!1)}catch(F){console.error("Error saving settings:",F),x.error(((V=(T=F.response)==null?void 0:T.data)==null?void 0:V.message)||"Failed to save settings")}},E=async T=>{var V,F,j;try{await W.put(`/settings/admin/${T}`,{value:d[T],description:((V=a[T])==null?void 0:V.description)||""}),x.success(`Setting "${T}" saved successfully! `),f(!1)}catch(L){console.error("Error saving setting:",L),x.error(((j=(F=L.response)==null?void 0:F.data)==null?void 0:j.message)||"Failed to save setting")}},$=()=>{p(t),h(!1),x.info("Changes reset to last saved values")},k={general:{title:"General Settings",icon:"",keys:["tagline"]},contact:{title:"Contact Information",icon:"",keys:["eTransferEmail","whatsappNumber","businessPhone","locations"]},social:{title:"Social Media",icon:"",keys:["socialMedia"]},hours:{title:"Operating Hours",icon:"",keys:["operatingHours"]},delivery:{title:"Delivery Settings",icon:"",keys:["deliveryAreas"]},popup:{title:"Popup Configuration",icon:"",keys:["popupConfig"]},certifications:{title:"Certifications",icon:"",keys:["certifications"]},media:{title:"Media Content",icon:"",keys:["youtubeVideos","tiktokEmbeds"]},other:{title:"Other Settings",icon:"",keys:[]}},A=Object.values(k).flatMap(T=>T.keys),b=Object.keys(t).filter(T=>!A.includes(T));k.other.keys=b;const O=T=>i?T.filter(V=>{var F;return V.toLowerCase().includes(i.toLowerCase())||(((F=a[V])==null?void 0:F.description)||"").toLowerCase().includes(i.toLowerCase())}):T,z=(T,V,F="")=>{var L;const j=d[T]||"";return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[V,((L=a[T])==null?void 0:L.description)&&e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",a[T].description,")"]})]}),e.jsx("input",{type:"text",value:j,onChange:ee=>g(T,ee.target.value),placeholder:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})},G=(T,V,F="Add item")=>{var L;const j=d[T]||[];return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[V,((L=a[T])==null?void 0:L.description)&&e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",a[T].description,")"]})]}),e.jsxs("div",{className:"space-y-2",children:[j.map((ee,ae)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:ee,onChange:ie=>C(T,ae,ie.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),e.jsx("button",{onClick:()=>w(T,ae),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(_e,{})})]},ae)),e.jsxs("button",{onClick:()=>v(T,""),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(Qe,{})," ",e.jsx("span",{children:F})]})]})]})},N=()=>{var V;const T=d.socialMedia||{};return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Social Media Links",((V=a.socialMedia)==null?void 0:V.description)&&e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",a.socialMedia.description,")"]})]}),e.jsx("div",{className:"space-y-3",children:["youtube","tiktok","instagram","facebook"].map(F=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 capitalize",children:F}),e.jsx("input",{type:"url",value:T[F]||"",onChange:j=>g("socialMedia",j.target.value,F),placeholder:`https://${F}.com/your-username`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]},F))})]})},U=()=>{var F;const T=d.operatingHours||{},V=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Operating Hours",((F=a.operatingHours)==null?void 0:F.description)&&e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",a.operatingHours.description,")"]})]}),e.jsx("div",{className:"space-y-2",children:V.map(j=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-24 text-sm font-medium text-gray-700 capitalize",children:j}),e.jsx("input",{type:"text",value:T[j]||"",onChange:L=>g("operatingHours",L.target.value,j),placeholder:"9:00 AM - 6:00 PM",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]},j))})]})},q=()=>{var V;const T=d.popupConfig||{};return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Popup Configuration",((V=a.popupConfig)==null?void 0:V.description)&&e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",a.popupConfig.description,")"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"popupEnabled",checked:T.enabled||!1,onChange:F=>g("popupConfig",F.target.checked,"enabled"),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"popupEnabled",className:"text-sm font-medium text-gray-700",children:"Enable Popup"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Popup Type"}),e.jsxs("select",{value:T.type||"freeSample",onChange:F=>g("popupConfig",F.target.value,"type"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"freeSample",children:"Free Sample"}),e.jsx("option",{value:"discount",children:"Discount"}),e.jsx("option",{value:"limitedTime",children:"Limited Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Message"}),e.jsx("textarea",{value:T.message||"",onChange:F=>g("popupConfig",F.target.value,"message"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter popup message"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Frequency"}),e.jsxs("select",{value:T.frequency||"once-per-session",onChange:F=>g("popupConfig",F.target.value,"frequency"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"once-per-session",children:"Once Per Session"}),e.jsx("option",{value:"always",children:"Always Show"}),e.jsx("option",{value:"once-per-day",children:"Once Per Day"})]})]})]})]})},R=()=>{var V;const T=d.certifications||[];return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Certifications & Licenses",((V=a.certifications)==null?void 0:V.description)&&e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",a.certifications.description,")"]})]}),e.jsxs("div",{className:"space-y-3",children:[T.map((F,j)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:["Certification ",j+1]}),e.jsx("button",{onClick:()=>M("certifications",j),className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(_e,{})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:F.name||"",onChange:L=>B("certifications",j,"name",L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Certification name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Description"}),e.jsx("textarea",{value:F.description||"",onChange:L=>B("certifications",j,"description",L.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Certification description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Image URL"}),e.jsx("input",{type:"text",value:F.image||"",onChange:L=>B("certifications",j,"image",L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"/uploads/cert-image.jpg"})]})]})]},j)),e.jsxs("button",{onClick:()=>S("certifications"),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(Qe,{})," ",e.jsx("span",{children:"Add Certification"})]})]})]})},Q=()=>{var V;const T=d.youtubeVideos||[];return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["YouTube Videos",((V=a.youtubeVideos)==null?void 0:V.description)&&e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",a.youtubeVideos.description,")"]})]}),e.jsxs("div",{className:"space-y-2",children:[T.map((F,j)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"url",value:typeof F=="string"?F:F.url||"",onChange:L=>{typeof F=="string"?C("youtubeVideos",j,L.target.value):B("youtubeVideos",j,"url",L.target.value)},placeholder:"https://youtube.com/watch?v=...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),e.jsx("button",{onClick:()=>w("youtubeVideos",j),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(_e,{})})]},j)),e.jsxs("button",{onClick:()=>v("youtubeVideos",""),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(Qe,{})," ",e.jsx("span",{children:"Add YouTube Video URL"})]})]})]})},I=()=>{var V;const T=d.tiktokEmbeds||[];return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["TikTok Embeds",((V=a.tiktokEmbeds)==null?void 0:V.description)&&e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",a.tiktokEmbeds.description,")"]})]}),e.jsxs("div",{className:"space-y-2",children:[T.map((F,j)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"url",value:typeof F=="string"?F:F.url||"",onChange:L=>{typeof F=="string"?C("tiktokEmbeds",j,L.target.value):B("tiktokEmbeds",j,"url",L.target.value)},placeholder:"https://tiktok.com/@username/video/...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),e.jsx("button",{onClick:()=>w("tiktokEmbeds",j),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(_e,{})})]},j)),e.jsxs("button",{onClick:()=>v("tiktokEmbeds",""),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(Qe,{})," ",e.jsx("span",{children:"Add TikTok Embed URL"})]})]})]})},Y=T=>{const V=d[T],F=typeof V;return V==null?z(T,T,`Enter value for ${T}`):Array.isArray(V)?V.length>0&&typeof V[0]=="object"?e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:T}),e.jsx("textarea",{value:JSON.stringify(V,null,2),onChange:j=>{try{g(T,JSON.parse(j.target.value))}catch{}},rows:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono text-sm"})]}):G(T,T,`Add ${T} item`):F==="object"?e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:T}),e.jsx("textarea",{value:JSON.stringify(V,null,2),onChange:j=>{try{g(T,JSON.parse(j.target.value))}catch{}},rows:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono text-sm"})]}):F==="boolean"?e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:V,onChange:j=>g(T,j.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:T})]})}):z(T,T,`Enter ${T}`)};return n?e.jsx(we,{fullScreen:!0}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-gray-900 mb-2",children:"Site Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage all website configuration and settings"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6 flex flex-col md:flex-row gap-4 items-center justify-between shadow-sm",children:[e.jsx("div",{className:"flex-1 w-full md:w-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search settings...",value:i,onChange:T=>c(T.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[u&&e.jsx("button",{onClick:$,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Reset Changes"}),e.jsxs("button",{onClick:D,disabled:!u,className:`btn-primary px-6 py-2 flex items-center gap-2 ${u?"":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(os,{}),e.jsx("span",{children:"Save All Changes"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6 overflow-x-auto",children:e.jsx("div",{className:"flex border-b border-gray-200",children:Object.entries(k).map(([T,V])=>O(V.keys).length===0&&!i?null:e.jsxs("button",{onClick:()=>l(T),className:`px-6 py-4 text-sm font-medium transition-colors whitespace-nowrap ${m===T?"border-b-2 border-primary-600 text-primary-600":"text-gray-600 hover:text-gray-900 hover:border-b-2 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:V.icon}),V.title]},T))})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(()=>{const T=k[m],V=O(T.keys);return V.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Dl,{className:"mx-auto text-5xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No settings found"}),i&&e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Try adjusting your search"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:[T.icon," ",T.title]}),V.map(F=>{var j;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-mono",children:F}),((j=a[F])==null?void 0:j.description)&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a[F].description})]}),e.jsxs("button",{onClick:()=>E(F),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2",children:[e.jsx(os,{})," Save"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[F==="socialMedia"&&N(),F==="operatingHours"&&U(),F==="popupConfig"&&q(),F==="certifications"&&R(),F==="locations"&&G("locations","Service Locations","Add Location"),F==="deliveryAreas"&&G("deliveryAreas","Delivery Areas","Add Delivery Area"),F==="youtubeVideos"&&Q(),F==="tiktokEmbeds"&&I(),F==="tagline"&&z("tagline","Site Tagline","Enter tagline"),F==="eTransferEmail"&&z("eTransferEmail","E-Transfer Email","payment@example.com"),F==="whatsappNumber"&&z("whatsappNumber","WhatsApp Number","+1234567890"),F==="businessPhone"&&z("businessPhone","Business Phone","+1234567890"),!["socialMedia","operatingHours","popupConfig","certifications","locations","deliveryAreas","youtubeVideos","tiktokEmbeds","tagline","eTransferEmail","whatsappNumber","businessPhone"].includes(F)&&Y(F)]})]},F)})]})})()})]})})},v0=()=>{const[t,s]=y.useState([]),[a,r]=y.useState([]),[n,o]=y.useState(!0),[i,c]=y.useState(!1),[m,l]=y.useState(null),[d,p]=y.useState(""),u=de(),[h,x]=y.useState({name:"",description:"",shortDescription:"",price:"",originalPrice:"",category:"cake-pastry",items:[],images:[{url:"",alt:""}],isActive:!0,isBestseller:!1,leadTimeDays:2,stockQuantity:-1,tags:[]});y.useEffect(()=>{f(!0),g();const N=setInterval(()=>{f(!1)},3e4);return()=>clearInterval(N)},[]);const f=async(N=!1)=>{try{N&&o(!0);const U=await W.get("/combos/admin/all");s(U.data.data)}catch{N&&u.error("Failed to fetch combos")}finally{N&&o(!1)}},g=async()=>{try{const N=await W.get("/products");r(N.data.data)}catch(N){console.error("Error fetching products:",N)}},v=async N=>{var U,q;N.preventDefault();try{const R={...h,price:parseFloat(h.price),originalPrice:h.originalPrice?parseFloat(h.originalPrice):void 0,leadTimeDays:parseInt(h.leadTimeDays),stockQuantity:h.stockQuantity!==""?parseInt(h.stockQuantity):-1,items:h.items.map(Q=>({...Q,quantity:parseInt(Q.quantity)}))};m?(await W.put(`/combos/admin/${m._id}`,R),u.success("Combo updated successfully! ")):(await W.post("/combos/admin",R),u.success("Combo created successfully! ")),c(!1),l(null),S(),f()}catch(R){u.error(((q=(U=R.response)==null?void 0:U.data)==null?void 0:q.message)||"Failed to save combo")}},w=N=>{var U;l(N),x({name:N.name,description:N.description,shortDescription:N.shortDescription||"",price:N.price,originalPrice:N.originalPrice||"",category:N.category||"cake-pastry",items:N.items.map(q=>({type:q.type,productId:q.productId._id||q.productId,quantity:q.quantity,name:q.name})),images:((U=N.images)==null?void 0:U.length)>0?N.images:[{url:"",alt:""}],isActive:N.isActive!==void 0?N.isActive:!0,isBestseller:N.isBestseller||!1,leadTimeDays:N.leadTimeDays||2,stockQuantity:N.stockQuantity!==void 0?N.stockQuantity:-1,tags:N.tags||[]}),c(!0)},C=async(N,U)=>{if(window.confirm(`Are you sure you want to delete "${U}"?`))try{await W.delete(`/combos/admin/${N}`),u.success("Combo deleted successfully!"),f()}catch{u.error("Failed to delete combo")}},S=()=>{x({name:"",description:"",shortDescription:"",price:"",originalPrice:"",category:"cake-pastry",items:[],images:[{url:"",alt:""}],isActive:!0,isBestseller:!1,leadTimeDays:2,stockQuantity:-1,tags:[]})},M=()=>{x({...h,items:[...h.items,{type:"cake",productId:"",quantity:1,name:""}]})},B=N=>{x({...h,items:h.items.filter((U,q)=>q!==N)})},D=(N,U,q)=>{const R=[...h.items];if(R[N]={...R[N],[U]:q},U==="productId"&&q){const Q=a.find(I=>I._id===q);Q&&(R[N].name=Q.title)}x({...h,items:R})},E=()=>{x({...h,images:[...h.images,{url:"",alt:""}]})},$=N=>{x({...h,images:h.images.filter((U,q)=>q!==N)})},k=(N,U,q)=>{const R=[...h.images];R[N]={...R[N],[U]:q},x({...h,images:R})},A=()=>{const N=prompt("Enter tag name:");N&&N.trim()&&x({...h,tags:[...h.tags,N.trim()]})},b=N=>{x({...h,tags:h.tags.filter((U,q)=>q!==N)})},O=t.filter(N=>N.name.toLowerCase().includes(d.toLowerCase())||N.description.toLowerCase().includes(d.toLowerCase())),z=a.filter(N=>!N.isPrepaid&&N.available),G=a.filter(N=>{var U;return((U=N.categories)==null?void 0:U.includes("pastry"))||N.title.toLowerCase().includes("pastry")});return n?e.jsx(we,{fullScreen:!0}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900",children:"Combo Deals"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage cake and pastry combo deals"})]}),e.jsxs("button",{onClick:()=>{S(),c(!0)},className:"btn-primary flex items-center space-x-2",children:[e.jsx(Qe,{}),e.jsx("span",{children:"Create Combo"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search combos...",value:d,onChange:N=>p(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(N=>{var U,q,R,Q;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100",children:[(q=(U=N.images)==null?void 0:U[0])!=null&&q.url?e.jsx("img",{src:N.images[0].url,alt:N.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(Be,{className:"text-4xl"})}),!N.isActive&&e.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded text-xs",children:"Inactive"}),N.isBestseller&&e.jsx("div",{className:"absolute top-2 left-2 bg-primary-600 text-white px-2 py-1 rounded text-xs",children:"Bestseller"}),N.originalPrice&&N.originalPrice>N.price&&e.jsxs("div",{className:"absolute bottom-2 right-2 bg-green-500 text-white px-2 py-1 rounded text-xs font-semibold",children:[Math.round((N.originalPrice-N.price)/N.originalPrice*100),"% OFF"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:N.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:N.shortDescription||N.description}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-1",children:[e.jsx("span",{className:"font-medium",children:"Items:"}),e.jsxs("span",{children:[((R=N.items)==null?void 0:R.length)||0," products"]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:(Q=N.items)==null?void 0:Q.map((I,Y)=>{var T;return e.jsxs("span",{children:[I.name||((T=I.productId)==null?void 0:T.title)||"Product"," x",I.quantity,Y<N.items.length-1?", ":""]},Y)})})]}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl font-bold text-primary-600",children:X(N.price)}),N.originalPrice&&N.originalPrice>N.price&&e.jsx("span",{className:"ml-2 text-sm text-gray-500 line-through",children:X(N.originalPrice)})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>w(N),className:"flex-1 btn-outline flex items-center justify-center space-x-1",children:[e.jsx(la,{}),e.jsx("span",{children:"Edit"})]}),e.jsx("button",{onClick:()=>C(N._id,N.name),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(_e,{})})]})]})]},N._id)})}),O.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No combos found"})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center z-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:m?"Edit Combo":"Create New Combo"}),e.jsx("button",{onClick:()=>{c(!1),l(null),S()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ne,{className:"text-xl"})})]}),e.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Combo Name *"}),e.jsx("input",{type:"text",required:!0,value:h.name,onChange:N=>x({...h,name:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:h.category,onChange:N=>x({...h,category:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"cake-pastry",children:"Cake + Pastry"}),e.jsx("option",{value:"cake-only",children:"Cake Only"}),e.jsx("option",{value:"pastry-only",children:"Pastry Only"}),e.jsx("option",{value:"special",children:"Special"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description"}),e.jsx("input",{type:"text",value:h.shortDescription,onChange:N=>x({...h,shortDescription:N.target.value}),placeholder:"Brief description (shown in cards)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Description *"}),e.jsx("textarea",{required:!0,rows:4,value:h.description,onChange:N=>x({...h,description:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (CAD) *"}),e.jsx("input",{type:"number",required:!0,step:"0.01",min:"0",value:h.price,onChange:N=>x({...h,price:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Price (for discount)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:h.originalPrice,onChange:N=>x({...h,originalPrice:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Time (Days)"}),e.jsx("input",{type:"number",min:"0",value:h.leadTimeDays,onChange:N=>x({...h,leadTimeDays:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Combo Items * (Cakes & Pastries)"}),e.jsxs("button",{type:"button",onClick:M,className:"btn-outline text-sm flex items-center space-x-1",children:[e.jsx(Qe,{}),e.jsx("span",{children:"Add Item"})]})]}),h.items.map((N,U)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 mb-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:N.type,onChange:q=>D(U,"type",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",children:[e.jsx("option",{value:"cake",children:"Cake"}),e.jsx("option",{value:"pastry",children:"Pastry"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product"}),e.jsxs("select",{required:!0,value:N.productId,onChange:q=>D(U,"productId",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Product"}),(N.type==="cake"?z:G).map(q=>e.jsx("option",{value:q._id,children:q.title},q._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),e.jsx("input",{type:"number",required:!0,min:"1",value:N.quantity,onChange:q=>D(U,"quantity",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"button",onClick:()=>B(U),className:"w-full px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm",children:e.jsx(_e,{})})})]})},U)),h.items.length===0&&e.jsx("p",{className:"text-sm text-gray-500 italic",children:'No items added. Click "Add Item" to start.'})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),e.jsxs("button",{type:"button",onClick:E,className:"btn-outline text-sm flex items-center space-x-1",children:[e.jsx(Qe,{}),e.jsx("span",{children:"Add Image"})]})]}),h.images.map((N,U)=>e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("input",{type:"url",placeholder:"Image URL",value:N.url,onChange:q=>k(U,"url",q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"}),e.jsx("input",{type:"text",placeholder:"Alt text",value:N.alt,onChange:q=>k(U,"alt",q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>$(U),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(Ne,{})})]},U))]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),e.jsx("button",{type:"button",onClick:A,className:"btn-outline text-sm",children:"Add Tag"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.tags.map((N,U)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:[N,e.jsx("button",{type:"button",onClick:()=>b(U),className:"ml-2 text-primary-700 hover:text-primary-900",children:e.jsx(Ne,{})})]},U))})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:h.isActive,onChange:N=>x({...h,isActive:N.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:h.isBestseller,onChange:N=>x({...h,isBestseller:N.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Bestseller"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:()=>{c(!1),l(null),S()},className:"btn-outline",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:m?"Update Combo":"Create Combo"})]})]})]})})]})},b0=({request:t})=>{const s=[{status:"pending",label:"Request Received",icon:_t},{status:"quoted",label:"Quote Provided",icon:Pe},{status:"approved",label:"Quote Approved",icon:Se},{status:"design-confirmed",label:"Design Confirmed",icon:dt},{status:"in-production",label:"In Production",icon:Ye},{status:"ready",label:"Ready for Pickup",icon:Se},{status:"completed",label:"Completed",icon:Se}],r=(()=>s.findIndex(o=>o.status===t.status))(),n=o=>{if(!o)return null;if(o.startsWith("http"))return o;let i="https://msucre-backend-65c219542360.herokuapp.com/api";i.startsWith("/api")?i=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:5000":window.location.origin.replace(/:\d+$/,":5000"):i.startsWith("http")||(i=window.location.hostname==="localhost"?"http://localhost:5000":window.location.origin);const c=o.startsWith("/")?o:`/${o}`;return`${i}${c}`};return e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-2xl font-display font-bold mb-6",children:"Custom Cake Timeline"}),e.jsxs("div",{className:"mb-8 p-5 bg-gradient-to-r from-purple-50 via-pink-50 to-indigo-50 rounded-xl border border-purple-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Ye,{className:"text-purple-600 text-xl"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Custom Cake Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Cake Specifications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Flavor"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.flavor})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zr,{className:"text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Layers"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[t.layers," ",t.layers===1?"layer":"layers"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Br,{className:"text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Size"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.size})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Shape"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.shape||"Round"})]})]}),t.icing&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(sr,{className:"text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Icing Type"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.icing})]})]}),t.theme&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(sr,{className:"text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Theme"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.theme})]})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Additional Information"}),e.jsxs("div",{className:"space-y-3",children:[t.fillings&&t.fillings.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Fillings"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:t.fillings.map((o,i)=>e.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-xs font-medium",children:o},i))})]}),t.dietaryRequirements&&t.dietaryRequirements.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Dietary Requirements"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:t.dietaryRequirements.map((o,i)=>e.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-medium",children:o},i))})]}),t.messageOnCake&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Message on Cake"}),e.jsxs("p",{className:"font-semibold text-primary-600 mt-1",children:['"',t.messageOnCake,'"']})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Deadline"}),e.jsx("p",{className:"font-semibold text-gray-900",children:ye(t.deadlineAt)})]})]}),t.priceQuote&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Quote Amount"}),e.jsx("p",{className:"font-bold text-primary-600 text-lg",children:X(t.priceQuote)})]})]})]})})]}),t.notes&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-purple-200",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Customer Notes"}),e.jsx("p",{className:"text-sm text-gray-700 bg-white/50 p-3 rounded-lg",children:t.notes})]}),t.referenceImages&&t.referenceImages.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-purple-200",children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:["Reference Images (",t.referenceImages.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:t.referenceImages.map((o,i)=>{const c=n(o.url);return e.jsx("div",{className:"relative group",children:e.jsx("img",{src:c,alt:`Reference ${i+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200 group-hover:border-purple-400 transition-colors cursor-pointer",onError:m=>{console.error("Failed to load image:",c,"Original path:",o.url),m.target.src="https://via.placeholder.com/200x150?text=Image+Not+Found"},onLoad:()=>{console.log("Successfully loaded image:",c)}})},i)})})]})]}),e.jsx("div",{className:"relative",children:s.map((o,i)=>{var p;const c=i<=r,m=i===r,l=(p=t.timeline)==null?void 0:p.find(u=>u.step===o.status),d=o.icon;return e.jsxs("div",{className:"flex items-start mb-8 last:mb-0",children:[i<s.length-1&&e.jsx("div",{className:`absolute left-6 top-12 w-0.5 h-12 ${c?"bg-purple-600":"bg-gray-300"}`,style:{marginTop:`${i*96}px`}}),e.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${c?"bg-purple-600 text-white":m?"bg-purple-100 text-purple-600":"bg-gray-200 text-gray-400"}`,children:c?e.jsx(Se,{}):m?e.jsx(Lt,{className:"animate-spin"}):e.jsx(d,{})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`font-semibold ${m?"text-purple-600":"text-gray-900"}`,children:o.label}),l&&e.jsx("span",{className:"text-sm text-gray-500",children:ye(l.timestamp)})]}),(l==null?void 0:l.note)&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.note}),m&&!(l!=null&&l.note)&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Currently at this stage..."})]})]},o.status)})}),e.jsx("div",{className:"mt-6",children:e.jsxs("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${t.status==="pending"?"bg-yellow-100 text-yellow-800":t.status==="quoted"?"bg-blue-100 text-blue-800":t.status==="approved"?"bg-green-100 text-green-800":t.status==="design-confirmed"?"bg-purple-100 text-purple-800":t.status==="in-production"?"bg-indigo-100 text-indigo-800":t.status==="ready"?"bg-emerald-100 text-emerald-800":t.status==="completed"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:[t.status==="pending"&&" Pending Review",t.status==="quoted"&&" Quote Sent",t.status==="approved"&&" Approved",t.status==="design-confirmed"&&" Design Confirmed",t.status==="in-production"&&" In Production",t.status==="ready"&&" Ready for Pickup",t.status==="completed"&&" Completed",t.status==="cancelled"&&" Cancelled"]})}),new Date(t.deadlineAt)<new Date(Date.now()+7*24*60*60*1e3)&&t.status!=="completed"&&e.jsx("div",{className:"mt-6 p-4 bg-amber-50 border-l-4 border-amber-500 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rl,{className:"text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-amber-900",children:"Upcoming Deadline"}),e.jsxs("p",{className:"text-xs text-amber-700",children:["Deadline: ",ye(t.deadlineAt)," (",Math.ceil((new Date(t.deadlineAt)-new Date)/(1e3*60*60*24))," days remaining)"]})]})]})})]})},j0=()=>{const{id:t}=Ws();Ve();const[s,a]=y.useState(null),[r,n]=y.useState(!0),o=de();y.useEffect(()=>{i();const c=setInterval(()=>{i(!1)},15e3);return()=>clearInterval(c)},[t]);const i=async(c=!0)=>{try{c&&n(!0);const m=await W.get(`/custom-requests/${t}`);a(m.data.data)}catch(m){console.error("Error fetching custom request:",m),c&&o.error("Failed to load custom cake request")}finally{c&&n(!1)}};return r?e.jsx(we,{fullScreen:!0}):s?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx("div",{className:"card p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"mb-4 md:mb-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(_,{to:"/admin/custom-requests",className:"text-gray-600 hover:text-gray-900",children:e.jsx(jh,{})}),e.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900",children:"Custom Cake Request"})]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Request ID: ",s._id.substring(s._id.length-8)]})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsx(_,{to:"/admin/custom-requests",className:"btn-outline",children:"Back to List"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(b0,{request:s})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center space-x-2",children:[e.jsx(cs,{}),e.jsx("span",{children:"Customer Information"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Name"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.customerName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Email"}),e.jsxs("a",{href:`mailto:${s.customerEmail}`,className:"font-medium text-primary-600 hover:underline flex items-center space-x-1",children:[e.jsx(Pe,{className:"text-xs"}),e.jsx("span",{children:s.customerEmail})]})]}),s.customerPhone&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Phone"}),e.jsxs("a",{href:`tel:${s.customerPhone}`,className:"font-medium text-primary-600 hover:underline flex items-center space-x-1",children:[e.jsx(ca,{className:"text-xs"}),e.jsx("span",{children:s.customerPhone})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Request Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(s.createdAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),e.jsx("div",{className:"space-y-3",children:e.jsx(_,{to:"/admin/custom-requests",className:"block w-full btn-outline text-center",children:"Manage All Requests"})})]})]})]})]})}):e.jsx("div",{className:"text-center py-12",children:"Custom cake request not found"})},Ee=({children:t,adminOnly:s=!1})=>{const{isAuthenticated:a,isAdmin:r,loading:n}=et();return n?e.jsx(we,{fullScreen:!0}):a?s&&!r?e.jsx($r,{to:"/",replace:!0}):t:e.jsx($r,{to:"/login",replace:!0})},fe=({children:t})=>e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(Uh,{}),e.jsx("main",{className:"flex-grow",children:t}),e.jsx(qh,{})]});function N0(){const t="/msucre-frontend";return e.jsx(lc,{basename:t,children:e.jsx(Xd,{children:e.jsx(Qd,{children:e.jsx(Jd,{children:e.jsx(Bh,{children:e.jsxs(cc,{children:[e.jsx(se,{path:"/",element:e.jsx(fe,{children:e.jsx(Gh,{})})}),e.jsx(se,{path:"/custom-cakes",element:e.jsx(fe,{children:e.jsx(Gf,{})})}),e.jsx(se,{path:"/catalog",element:e.jsx(fe,{children:e.jsx(Kf,{})})}),e.jsx(se,{path:"/combos",element:e.jsx(fe,{children:e.jsx(Yf,{})})}),e.jsx(se,{path:"/combos/:id",element:e.jsx(fe,{children:e.jsx(Qf,{})})}),e.jsx(se,{path:"/products/:slug",element:e.jsx(fe,{children:e.jsx(Jf,{})})}),e.jsx(se,{path:"/cart",element:e.jsx(fe,{children:e.jsx(Xf,{})})}),e.jsx(se,{path:"/about",element:e.jsx(fe,{children:e.jsx(i0,{})})}),e.jsx(se,{path:"/contact",element:e.jsx(fe,{children:e.jsx(o0,{})})}),e.jsx(se,{path:"/terms",element:e.jsx(fe,{children:e.jsx(l0,{})})}),e.jsx(se,{path:"/reviews",element:e.jsx(fe,{children:e.jsx(c0,{})})}),e.jsx(se,{path:"/login",element:e.jsx(fe,{children:e.jsx(r0,{})})}),e.jsx(se,{path:"/register",element:e.jsx(fe,{children:e.jsx(n0,{})})}),e.jsx(se,{path:"/orders/:id",element:e.jsx(fe,{children:e.jsx(t0,{})})}),e.jsx(se,{path:"/checkout",element:e.jsx(fe,{children:e.jsx(Zf,{})})}),e.jsx(se,{path:"/profile",element:e.jsx(Ee,{children:e.jsx(fe,{children:e.jsx(s0,{})})})}),e.jsx(se,{path:"/my-orders",element:e.jsx(Ee,{children:e.jsx(fe,{children:e.jsx(a0,{})})})}),e.jsx(se,{path:"/admin",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(d0,{})})})}),e.jsx(se,{path:"/admin/products",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(m0,{})})})}),e.jsx(se,{path:"/admin/orders",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(p0,{})})})}),e.jsx(se,{path:"/admin/custom-requests",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(u0,{})})})}),e.jsx(se,{path:"/admin/custom-cakes/:id",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(j0,{})})})}),e.jsx(se,{path:"/admin/reviews",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(x0,{})})})}),e.jsx(se,{path:"/admin/hero",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(h0,{})})})}),e.jsx(se,{path:"/admin/newsletter",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(f0,{})})})}),e.jsx(se,{path:"/admin/combos",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(v0,{})})})}),e.jsx(se,{path:"/admin/offers",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(g0,{})})})}),e.jsx(se,{path:"/admin/settings",element:e.jsx(Ee,{adminOnly:!0,children:e.jsx(ze,{children:e.jsx(y0,{})})})}),e.jsx(se,{path:"*",element:e.jsx(fe,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-6xl font-bold text-gray-300 mb-4",children:"404"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist."}),e.jsx("a",{href:"/",className:"btn-primary",children:"Go Home"})]})})})})]})})})})})})}Va.createRoot(document.getElementById("root")).render(e.jsx(Ie.StrictMode,{children:e.jsx(N0,{})}));
